<!-- Shared for on-prem commissioning docs (install, upgrade, config) -->

  <!ENTITY delta_IP '10.24.34.2'>

  
  <!ENTITY AWSE '&AWS; Elemental'>
  
 
    <!ENTITY  cluster_switch_y '-l'>
    <!ENTITY  cl_switch_exp_y '<para>Where -l is a letter, not a number&clean_exp;.</para>'>
                    
 <!ENTITY  install_vm
      '<programlisting language="none">[elemental@hostname ~]$ sudo sh ./<replaceable>&lt;product&gt;</replaceable> -xeula &cluster_switch; -z</programlisting>'>
      
<!ENTITY cl3_sw_kba 'https://us-east-1.console.aws.amazon.com/elemental-appliances-software/home?region=us-east-1#/viewknowledge/AWS-Elemental-Conductor-Live-3-supported-software-matrix' >
<!ENTITY  delta_fo_kba 'https://us-east-1.console.aws.amazon.com/elemental-appliances-software/home?region=us-east-1#/viewknowledge/Delta-cluster-failover-procedure' >
      
      <!ENTITY  sample_start_live
   '    <programlisting language="none">[elemental@hostname ~] <command>sudo sh ./&installer_name;_&version_short;.0.12345.run -z -t</command>
Verifying archive integrity... All good.
Uncompressing Elemental Installer  100&percnt;
/tmp/selfgz142612827/elemental_system_update/rpms /tmp/selfgz142612827
/tmp/selfgz142612827
Stopping Services
..
.
Checking Elemental System Update
Starting system update
New system update version: 2152005
System packages are now being updated and modified!
Please DO NOT interrupt the installer after this point!
.

Initializing RPM repo......
Cleaning up old kernels
....

Installing RPMs.....
..
Installing AJA Driver
Installing Deltacast Driver
Installing DekTec Driver
‘./elemental_system_update/configuration/60-dektec-net.rules’ -> ‘/etc/udev/rules.d/60-dektec-net.rules’

Installing MOTD
Installing /etc/issue
.........................
.........................
Reload the systemd manager configuration
.
Installing gems...
Installation of passenger failed, please check the log for details

Running scripts............................
Starting plat-api.
.Created symlink from /etc/systemd/system/multi-user.target.wants/plat-api.service to /usr/lib/systemd/system/plat-api.service.

Initializing postgres
The files belonging to this database system will be owned by user "postgres".
This user must also own the server process.

The database cluster will be initialized with locale "en_US.UTF-8".
The default database encoding has accordingly been set to "UTF8".
The default text search configuration will be set to "english".

Data page checksums are disabled.

fixing permissions on existing directory /data/pgsql/data94 ... ok
creating subdirectories ... ok
selecting default max_connections ... 100
selecting default shared_buffers ... 128MB
selecting dynamic shared memory implementation ... posix
creating configuration files ... ok
creating template1 database in /data/pgsql/data94/base/1 ... ok
initializing pg_authid ... ok
initializing dependencies ... ok
creating system views ... ok
loading system objects&apos; descriptions ... ok
creating collations ... ok
creating conversions ... ok
creating dictionaries ... ok
setting privileges on built-in objects ... ok
creating information schema ... ok
loading PL/pgSQL server-side language ... ok
vacuuming database template1 ... ok
copying template1 to template0 ... ok
copying template1 to postgres ... ok
syncing data to disk ... ok

WARNING: enabling "trust" authentication for local connections
You can change this by editing pg_hba.conf or using the option -A, or
--auth-local and --auth-host, the next time you run initdb.

Success. You can now start the database server using:

    /usr/pgsql-9.4/bin/postgres -D /data/pgsql/data94
or
    /usr/pgsql-9.4/bin/pg_ctl -D /data/pgsql/data94 -l logfile start

Setting up config files
Starting the database service
Created symlink from /etc/systemd/system/multi-user.target.wants/postgresql-9.4.service to /usr/lib/systemd/system/postgresql-9.4.service.
Setting password for default user &apos;postgres&apos;
ALTER ROLE
Tightening Postgres access security
Reloading Postgres
Redirecting to /bin/systemctl reload postgresql-9.4.service
Installing Elemental Live &version_short;.3.3011641
Welcome to the product installation and configuration utility!
Welcome to the product installation utility!
Version information:
        Elemental Live (CPU) &version_short;.3.3011641
        -------------------------
        ruby 2.3.7p456 (2018-03-28 revision 63024) [x86_64-linux]
        Rails 3.2.22.5
        psql (PostgreSQL) 9.4.19
        Elemental Git revision 0290c91c</programlisting>
    
    <para>You&apos;re prompted to read and accept the EULA.</para>
    <programlisting language="none">Checking license files.
IMPORTANT INFORMATION
.
.
.
Continue? [Y] <userinput>y</userinput>
.
.
.
Continue? [Y] <userinput>y</userinput>
.
.
.
Continue? [Y] <userinput>y</userinput>
.
.
.
Do you agree to these terms? [N] <userinput>y</userinput></programlisting>'>

   

<!ENTITY sample_network
'<para>You are prompted to configure the network&upd_pword;.</para>
<programlisting language="none">Enter this server&apos;s Hostname: [elemental@hostname ~]&cond_db;-01
Detected 2 ethernet devices 
Configuring eth0 
&eth1_mgmt;
Does eth0 use DHCP to get its IP address? [Y] 
Would you like to configure eth1? [N] 
The firewall for this system is currently enabled. Would you like to disable it? [N] 
&upd_pw_prompt;</programlisting>'>

<!ENTITY  eth1_mgmt_y 'Is eth0 a management interface? [Y] '>

<!ENTITY sample_stopped
'<para>Services are stopped (note that actually no services are running) and interfaces are shut down.</para>
<programlisting language="none">Stopping services...
Restarting network services
Redirecting to /bin/systemctl start postgresql-9.4.service
Creating user &apos;elemental&apos;
Creating database &apos;web_production&apos;
Granting all privileges on &apos;web_production&apos;&#160;to user &apos;elemental&apos;</programlisting>'>

<!ENTITY desc_eth_y '<listitem><para><guilabel>Description</guilabel>: Auto-populates when you choose a device name. You can modify
              the description as needed.</para></listitem>'>
	  
<!ENTITY master_eth_y '<listitem><para><guilabel>Master Device</guilabel>: Should display <errortext>No devices with port bond
                settings available.</errortext> This wording indicates that you haven&apos;t created a
              bond-type device, so bonding isn&apos;t available.</para></listitem>'>

  <!ENTITY add_eth_other '<procedure><title>To add Ethernet devices</title>
      <step>
        <para>On the &servicenamelong; web interface, go to the <guilabel>Settings</guilabel> page
          and choose <guilabel>Network</guilabel>.</para></step>
        <step><para>On the <guilabel>Network</guilabel> page, choose <guilabel>Network Devices</guilabel>.</para></step>
        <step><para>On the <guilabel>Network Devices</guilabel> page, choose <guilabel>Add Network Device</guilabel>.</para></step>
      <step><para>In the <guilabel>Add a New Network Device</guilabel> dialog, select <guilabel>eth (ethN)</guilabel>.</para></step>
      <step><para>Complete the fields as follows:</para>
      <itemizedlist>
        <listitem><para><guilabel>Device Name</guilabel>: Select the eth device that you&apos;re setting up.</para></listitem>
      &add_mgmt_eth;
	  &desc_eth;
	  &master_eth;
        <listitem><para><guilabel>Address Mode</guilabel>: Select the type of IP addresses this device uses, either
                <guilabel>dhcp</guilabel>, <guilabel>static</guilabel>, or
              <guilabel>none</guilabel>. If you&apos;re bonding eth0 and eth1, use static IPs. </para></listitem>
        <listitem><para><guilabel>IP Address</guilabel>, <guilabel>Netmask</guilabel>, <guilabel>Gateway</guilabel>:
              Available when static IP addresses are used only. Complete with your networking
              information.</para></listitem>
        <listitem><para><guilabel>Static Routes</guilabel>: Select if you&apos;re using static routing.</para></listitem>
          <listitem>
            <para><guilabel>Network</guilabel>, <guilabel>Netmask</guilabel>,
                <guilabel>Gateway</guilabel>: Available when static routes are used only. Complete
              with your networking information.</para>
          </listitem>
      </itemizedlist></step>
      <step>
        <para>Choose <guilabel>Save</guilabel>. The new device appears in the Network Devices
          list.</para>
      </step>
    </procedure>'>
	
	<!ENTITY add_mgmt_eth_y '  <listitem><para><guilabel>Management</guilabel>: Typically, leave this unchecked. This device won&apos;t be set up
              as a management interface. The node is usually installed with eth0 as the management
              interface and the node doesn&apos;t need more than one.</para></listitem>'>
 
 <!ENTITY move_event
 '   <para>To control the Conductor node via the REST API, you must either use a command line tool such as cURL or use a REST web browser client. Use cURL if you are familiar with that tool. Otherwise, search on the internet for a web browser client and install it. These clients are very easy to use.</para>
   <para>All the signatures in this section are specified in a format that is independent of the tool being used. You must transform the signature into the format that is appropriate for your tool.</para>
   <formalpara><title>Where to Access the API?</title>
     <para>In these examples, make sure you access the API on the Conductor node, not on the individual &worker; node. You will be able to move the event to another node only when accessing the API from the &servicename; node.</para>
   </formalpara>
   <para>To access the API on the Conductor node, just make sure that you enter the URI of the Conductor node rather than the URI of the &worker; node.</para>
   <formalpara><title>Step A: Get the ID of the Event</title>
     <para>All the commands you enter require the ID of the event you want to change. To obtain a list of IDs, send a GET request to <code>/&api_event;s</code>.</para>
   </formalpara>
   <variablelist>
     <varlistentry>
       <term>HTTP URL</term>
       <listitem><programlisting language="none">GET http://&lt;conductor ip address&gt;/&api_event;s</programlisting></listitem>
     </varlistentry>
     <varlistentry>
       <term>Response</term>
       <listitem><para>The response is XML content consisting of one <code>&api_event;_list</code> element, containing one or more <code>&api_event;</code> elements, each holding:</para>
         <itemizedlist>
<listitem>           <para>An href as a property of the tag, with a value of <code>/&api_event;/&lt;ID&gt;</code>. In the example below, the ID is 1.</para>
</listitem>          
           <listitem><para>Other properties of the tag.</para></listitem>
           <listitem><para>The <code>&lt;name&gt;</code> tag, which specifies the event name.</para></listitem>
          <listitem> <para>The <code>&lt;node_id&gt;</code> tag, which specifies the node the event currently “belongs to”.</para></listitem>
          <listitem> <para>Many other tags.</para></listitem>
         </itemizedlist>
       </listitem>
     </varlistentry>
     <varlistentry>
       <term>Example</term>
       <listitem><programlisting language="none">GET http://&delta_IP;/&api_event;
==========================================
&lt;?xml version=”1.0” encoding=”UTF-8”?&gt;
&lt;&api_event;_list&gt;
  &lt;&api_event; href=&quot;/&api_event;/1&quot; product=&quot;&worker;&quot; version=&quot;&version_short;.0cls.28412&quot;&gt;
    &lt;name&gt;event_A&lt;/name&gt;  
    ...
    &lt;node_ID&gt;8&lt;/node_id&gt;
    ...
  &lt;/&api_event;&gt;
  &lt;&api_event; href=&quot;/&api_event;/1&quot; product=&quot;&worker;&quot; version=&quot;&version_short;.0cls.28412&quot;&gt;
    &lt;name&gt;event_B&lt;/name&gt;  
    ...
    &lt;node_ID&gt;8&lt;/node_id&gt;
    ...
    &lt;/&api_event;&gt;
&lt;/&api_event;_list&gt;</programlisting></listitem>
     </varlistentry>
   </variablelist>
   <formalpara><title>Step B: Stop the Event</title>
     <para>Stop the event that you&apos;re moving.</para>
   </formalpara>
   <variablelist>
     <varlistentry>
       <term>HTTP URL</term>
       <listitem> <programlisting language="none">POST http://&lt;conductor ip address&gt;/&api_event;s/<replaceable>&lt;id&gt;</replaceable>/stop</programlisting>
  <para>Where: &lt;id&gt; is the ID of the event.</para>
       </listitem>
     </varlistentry>
   </variablelist>
   <formalpara><title>Step C: Change the Node for the Event</title>
     <para>Change the node for an event by doing a PUT of the event’s attributes, with the body containing an XML body that contains only the new node ID for the event.</para>
   </formalpara>
   <variablelist>
     <varlistentry>
       <term>HTTP URL</term>
       <listitem> <programlisting language="none">PUT http://&lt;conductor ip address&gt;/&api_event;s/<replaceable>&lt;id&gt;</replaceable></programlisting></listitem></varlistentry>
     <varlistentry>
       <term>HTTP Body</term>
       <listitem><para>XML content consisting of one <code>&api_event;</code> element, containing the following tag:</para>
         <table><title/>
           <tgroup cols="3">
             <colspec colname="Tag" colnum="1"/>
             <colspec colname="Value" colnum="2"/>
             <colspec colname="Description" colnum="3"/>
             <thead>
               <row>
                 <entry>Tag</entry>
                 <entry>Value</entry>
                 <entry>Description</entry>
               </row>
             </thead>
             <tbody>
               <row>
                 <entry><code>node_id</code></entry>
                 <entry>Integer or string</entry>
                 <entry>The ID of the node to associate with this event: A node ID, hostname or IP address.</entry>
               </row>
             </tbody>
           </tgroup>
         </table>
       </listitem>
     </varlistentry>
     <varlistentry>
       <term>Example</term>
       <listitem><para>To move the event with the ID 6 to the node with the ID 4.</para>
         <programlisting language="none">PUT http://&delta_IP;/&api_event;s/6
&lt;?xml version=”1.0” encoding=”UTF-8”?&gt;
&lt;&api_event;&gt;
  &lt;node_id&gt;4&lt;/node_id&gt;
&lt;/&api_event;&gt;</programlisting>
       </listitem>
     </varlistentry>
   </variablelist>
   <formalpara><title>Step D: Reset the Event</title>
     <para>Reset the event that you moved.</para>
   </formalpara>
   <variablelist>
     <varlistentry>
       <term>HTTP URL</term>
       <listitem><programlisting language="none">POST http://&lt;conductor ip address&gt;/&api_event;s/<replaceable>&lt;id&gt;</replaceable>/reset</programlisting>
  <para>Where: <code>&lt;id&gt;</code> is the ID of the event.</para>
  <para>If you reset an event that is not actually stopped, you will get an error response.</para></listitem>
     </varlistentry>
   </variablelist>
   <formalpara><title>Step E: Start the Event</title>
     <para>Start the event that you moved.</para>
   </formalpara>
   <variablelist>
     <varlistentry>
       <term>HTTP URL</term>
       <listitem> <programlisting language="none">POST http://&lt;conductor ip address&gt;/&api_event;s/<replaceable>&lt;id&gt;</replaceable>/start</programlisting></listitem>
     </varlistentry>
   </variablelist>'>

      
<!--filter_settings entities. pick and choose based on OF-->



<!ENTITY  delta_ofs_audio_packets_pes
      '<row>
        <entry><code>audio_packets_per_pes_bitrate</code></entry>
        <entry>integer</entry>
        <entry>The number of audio packets that &servicename; inserts for each PES packet. Default is <userinput>2</userinput>.</entry>
      </row>'>

<!ENTITY  delta_ofs_fragment_lookahead
      '<row>
        <entry><code>fragment_lookahead</code></entry>
        <entry>integer</entry>
        <entry><para>The number of fragments that &servicename; must keep in the buffer.</para>
        <para>Applies to live content only. The default value is <userinput>2</userinput>. When you specify a different value, it must be greater than <userinput>0</userinput>.</para></entry>
      </row>'>

<!ENTITY  delta_ofs_major_brand
      '<row>
        <entry><code>major_brand</code></entry>
        <entry>string</entry>
        <entry>When provided, this 4-character value overrides the <code>Major Brand</code> field in the output file.</entry>
      </row>'>

<!ENTITY  delta_ofs_pcr_period
      '<row>
        <entry><code>pcr_period</code></entry>
        <entry>integer</entry>
        <entry>Nominal time in milliseconds between <code>program clock references</code> (PCRs) in the transport stream. The default is <userinput>40</userinput>.</entry>
      </row>'>
	  
	 <!--tracks tags-->

<!ENTITY delta_ofavs_bitrate
'<row>
          <entry><code>bitrate</code></entry>
          <entry>integer</entry>
          <entry>The bitrate of the track.</entry>
        </row>'>
<!ENTITY delta_ofavs_bits_ps
'<row>
          <entry><code>bits_per_sample</code></entry>
          <entry>integer</entry>
          <entry></entry>
        </row>'>
<!ENTITY delta_ofavs_channel_count
' <row>
          <entry><code>channel_count</code></entry>
          <entry>integer</entry>
          <entry></entry>
        </row>'>
<!ENTITY delta_ofavs_codec
' <row>
          <entry><code>codec</code></entry>
          <entry>string</entry>
          <entry>&codec;</entry>
        </row>'>
<!ENTITY delta_ofavs_framerate_denom
'<row>
          <entry><code>framerate_denominator</code></entry>
          <entry>integer</entry>
          <entry><para>The denominator for the framerate. For example, 30 frames per second is a numerator of 30 and a denominator of 1. Similarly, 20.334 frames per second is a numerator of 20334 and a denominator of 1000.</para><para>Default is 1.</para></entry>
        </row>'>



<!ENTITY delta_ofavs_pid
'	<row>
<entry><code>pid</code></entry>
          <entry>integer</entry>
          <entry>The PID of this track.</entry>
        </row>'>
<!ENTITY delta_ofavs_sample_rate
' <row>
          <entry><code>sample_rate</code></entry>
          <entry>integer</entry>
          <entry>The numerator for the sample rate of this track. For example, <userinput>44100</userinput> means 44100 samples per second.</entry>
        </row>'>

<!ENTITY delta_ofavs_stream_index
'<row>
          <entry><code>stream_index</code></entry>
          <entry>integer</entry>
          <entry>The stream index for this track.</entry>
        </row>'>
<!ENTITY delta_ofavs_track_type
'   <row>
          <entry><code>track_type</code></entry>
          <entry>string</entry>
          <entry>&track_type;</entry>
        </row>'>
		
<!ENTITY delta_if_resp
"<varlistentry>
                <term>Response</term>
                <listitem><para>The response repeats back the data that you posted, with the addition of unique IDs that &servicename; assigns to the <code>input_filter</code> and to the <code>filter_settings</code>. </para>
                    <para>The response is identical to the response to a GET Input Filter. See <xref
                    linkend='ingesting-content-if-get' endterm='ingesting-content-if-get.title'/> for an example.</para></listitem>
            </varlistentry>">
			

								



<!ENTITY delta_if_time_source_element_ingest_time '
                    <row>
                        <entry><code>ingest_time</code></entry>
                        <entry>string</entry>
                        <entry>
                            <para>Time from the &servicename; node.</para>
                        </entry>
                    </row>'>
                    
<!ENTITY delta_if_time_source_element_pdt '
                    <row>
                        <entry><code>program_date_time</code></entry>
                        <entry>string</entry>
                        <entry>
                            <para>Time from the external source.</para>
                            <para>If <code>program_date_time</code> is used and is not available in the stream, <code>ingest_time</code> is used instead.</para></entry>
                    </row>' >

  <!ENTITY delta_ifs_aws_credential_id '
    <row>
        <entry><code>aws_credential_id</code></entry>
        <entry>integer</entry>
        <entry>This field applies only if <code>storage_location</code> is an S3 URL.
            Enter the Amazon Web Service credential to use in order to be authenticated
            on the S3 server.</entry>
    </row>
    ' >
  
  <!ENTITY delta_ifs_buffer_time "
    <row>
        <entry><code>buffer_time</code></entry>
        <entry>integer</entry>
        <entry>
            <para>Applies only to deployments with two Delta nodes.</para>
            <para>A time in seconds. The non-lead node continually buffers this amount
                of incoming content. In the event of a failover of the Delta nodes, when
                the non-lead node becomes leader, it inserts this buffered content in
                order to compensate for content loss during the failure.</para>
            <para>Must be higher than the value in <xref linkend='drop_node' xrefstyle='select: nopage'/>.</para>
        </entry>
    </row>
          ">
  
  <!ENTITY delta_ifs_depth '
    <row>
        <entry><code>depth</code></entry>
        <entry>integer</entry>
        <entry>
            <para>The number of layers of subdirectories to monitor inside the watch
                folder.</para>
            <itemizedlist>
                <listitem>
                    <para><userinput>0</userinput> (default): Monitor only the top-level folder.</para>
                </listitem>
                <listitem>
                    <para>Nil: Recursively monitor all subdirectories in the
                        folder.</para>
                </listitem>
                <listitem>
                    <para>1-10: Monitor this number of layers.</para>
                </listitem>
            </itemizedlist>
        </entry>
    </row>
          ' >


  <!ENTITY delta_ifs_incoming "
    <row>
        <entry><code>incoming</code></entry>
        <entry>location</entry>
        <entry>
            <para>The folder to watch, which must be accessible to Delta (for example,
                it must be a remote server mounted onto Delta via
                    <guilabel>Settings</guilabel> > Mount Points).</para>
            <para>For contents of the location type, see <xref linkend='location-type' xrefstyle='select: nopage'/>.</para>
        </entry>
    </row>
          ">


  <!ENTITY delta_ifs_relative_uri '
    <row>
        <entry><code>relative_uri</code></entry>
        <entry>string</entry>
        <entry>
            <para>For HTTP or MSS:</para>
            <itemizedlist>
                <listitem>
                    <para>If content has been posted to &lt;Delta IP
                        address>:8080/in_mss/ or ../in_http/, then leave blank.</para>
                </listitem>
                <listitem>
                    <para>If it has been posted to a subfolder of <code>&lt;Delta IP
                            address>:8080/in_mss/</code> or <code>../in_http</code>.,
                        then specify that subfolder path in format
                            <code>&lt;subfolder/sub-subfolder/></code> (no leading
                        slash).</para>
                </listitem>
            </itemizedlist>
            <para>For WebDAV:</para>
            <itemizedlist>
                <listitem>
                    <para>If content has been posted to <code>&lt;WebDAV
                            server>/in/</code>, leave blank.</para>
                </listitem>
                <listitem>
                    <para>If it has been posted to a subfolder of <code>&lt;WebDAV
                            server>/in/</code>, then specify that subfolder path in
                        format <code>&lt;subfolder/sub-subfolder/></code> (no leading
                        slash).</para>
                </listitem>
            </itemizedlist>
        </entry>
    </row>
    ' >

   <!ENTITY delta_ifs_seconds_to_keep '
    <row>
        <entry><code>seconds_to_keep</code></entry>
        <entry>integer</entry>
        <entry>The number of seconds of content to keep on disk. Required if
            content_window_type is set to keep_seconds; ignored otherwise.</entry>
    </row>
    ' >


  <!ENTITY delta_ifs_vod_content '
    <row>
        <entry><code>vod_content</code></entry>
        <entry>boolean</entry>
        <entry>
            <para>This field applies only to input filters that handle assets that could
                be either a stream or VOD.</para>
            <itemizedlist>
                <listitem>
                    <para>If the asset is a stream, set the value to <userinput>false</userinput>.
                        (A value of true will give unpredictable results.)</para>
                </listitem>
                <listitem>
                    <para>If the asset is VOD, set the value to <userinput>true</userinput>. (A
                        value of false will give unpredictable results.)</para>
                </listitem>
            </itemizedlist>
            <para>Default is <code>false</code>.</para>
        </entry>
    </row>
    ' >
  <!ENTITY delta_ifs_vod_catalog_output_aws_credential_id '
    <row>
        <entry><code>vod_catalog_output_aws_credential_id</code></entry>
        <entry>integer</entry>
        <entry>This field applies only if <code>vod_catalog_output_location</code> is an S3 URL.
            Enter the Amazon Web Service credential to use in order to be authenticated
            on the S3 server.</entry>
    </row>
    ' >
  <!ENTITY delta_ifs_vod_catalog_output_location '
    <row>
        <entry><code>vod_catalog_output_location</code></entry>
        <entry>string</entry>
        <entry>
            <para>Folder to store VOD Catalog contents produced using a Live-to-VOD
                Catalog output filter. Either:</para>
            <itemizedlist>
                <listitem>
                    <para>A local directory that the Delta node has access to - one of
                        the following folders or a folder under one of these (if the
                        subfolder does not yet exist, it will be automatically
                        created):</para>
                    <itemizedlist>
                        <listitem>
                            <para><code>mnt</code></para>
                        </listitem>
                        <listitem>
                            <para><code>tmp</code></para>
                        </listitem>
                        <listitem>
                            <para><code>local_sources</code></para>
                        </listitem>
                        <listitem>
                            <para><code>server</code></para>
                        </listitem>
                        <listitem>
                            <para><code>pgsql-delta-vod</code></para>
                        </listitem>
                        <listitem>
                            <para><code>pgsql</code></para>
                        </listitem>
                    </itemizedlist>
                </listitem>
                <listitem>
                    <para>An Amazon Web Services S3 URL. Enter the URL as
                            <code>s3://&lt;full path></code></para>
                </listitem>
            </itemizedlist>
        </entry>
    </row>
    ' >

  <!ENTITY delta_ifs_vod_url_prefix '
    <row>
        <entry><code>vod_url_prefix</code></entry>
        <entry>string</entry>
        <entry>
            <para>Optional.</para>
            <para>Partial URL path added to the start of all VOD Catalog content
                endpoints produced through the input filter.</para>
        </entry>
    </row> ' >

	
<!ENTITY delta_ug_of_absolute_timestamps 
'<varlistentry>
   <term><guilabel>Absolute Timestamps</guilabel></term>
   <listitem><para>The base time that &servicename; uses to determine the HDS timestamp. This timestamp specifies the time (in milliseconds) relative to the base time that &servicename; ingested the corresponding segment.</para>
   <para>When you select <guilabel>Absolute Timestamps</guilabel>, the base time is the epoch (00:00:00 UTC, Thursday, 1 January 1970). Otherwise, the base time is the start of the stream.</para></listitem>
  </varlistentry>'>
  
<!ENTITY delta_ug_of_audiopackets_per_pes
'<varlistentry>
   <term><guilabel>Audio Packets per PES</guilabel></term>
   <listitem><para>The number of audio packets for &servicename; to insert for each Packetized Elementary Stream (PES) header. Default is 2.</para></listitem>
  </varlistentry>'>
 
 <!ENTITY delta_ug_of_bitrate
 '<varlistentry>
   <term><guilabel>Bitrate</guilabel></term>
   <listitem><para>The output bitrate of the transport stream, in bits per second. Leaving this box empty lets the muxer automatically determine the appropriate bitrate. Other common values are 3750000, 7500000, and 15000000.</para></listitem>
  </varlistentry>'>
  
<!ENTITY delta_ug_of_dash_profile
'<varlistentry>
   <term><guilabel>DASH Profile</guilabel></term>
   <listitem><para>The DASH profile that &servicename; uses for the output.</para>
   <para>Available options:</para>
   <itemizedlist>
    <listitem><para><guilabel>None</guilabel> &emdash; the output doesn&apos;t use a DASH profile.</para></listitem>
    <listitem><para><guilabel>HbbTV 1.5</guilabel> &emdash; the output is compliant with HbbTV.</para></listitem>
    <listitem><para><guilabel>Hybridcast 2.0</guilabel> &emdash; the output is compliant with IPTV Forum Japan&apos;s Hybridcast system.</para></listitem>
   </itemizedlist></listitem>
  </varlistentry>'>
  
<!ENTITY delta_ug_of_description
'<varlistentry>
   <term><guilabel>Description</guilabel></term>
   <listitem><para>Any descriptive text that helps you to identify the endpoint later. This information is also useful creating a cross-reference to data in your content management system (CMS). Additionally, it helps to distinguish between multiple endpoints of the same type, each with different output characteristics.</para></listitem>
  </varlistentry>'>
  
<!ENTITY delta_ug_of_enable_blackout
'<varlistentry>
   <term><guilabel>Enable Blackout</guilabel></term>
   <listitem><para>What &servicename; does with SCTE-35 Network Start and End segmentation descriptors from the input stream.</para>
    <para>When you select <guilabel>Enable Blackout</guilabel>, &servicename; adds blackout tags to the output manifest based on these markers. This has no effect on the video content itself. This option requires the Network ID (in the <guilabel>Network End Blackout</guilabel> field), which is matched against the SCTE-35 message to determine the blackout state.</para>
   <para>If you don&apos;t select <guilabel>Enable Blackout</guilabel>, &servicename; won&apos;t add blackout tags to the output manifest.</para></listitem>
  </varlistentry>'>

<!ENTITY delta_ug_of_enable_events
'<varlistentry>
   <term><guilabel>Enable Events</guilabel></term>
   <listitem><para>Where the <code>Events</code> tag is embedded.</para>
    <para>When you select <guilabel>Enable Events</guilabel>, &servicename; embeds the tags in the URL field of the manifest. Otherwise, &servicename; embeds the tags in the manifest itself.</para></listitem>
  </varlistentry>'> 

<!ENTITY delta_ug_of_enable_external_bootstrap
'<varlistentry>
   <term><guilabel>Enable External Bootstrap</guilabel></term>
   <listitem><para>How the bootstrap is delivered to the player.</para>
    <para>When you select <guilabel>Enable External Bootstrap</guilabel>, &servicename; emits the bootstrap as a separate file. Some HDS players require external bootstrap files.</para>
    <para>If you don&apos;t select <guilabel>Enable External Bootstrap</guilabel>, &servicename; embeds the bootstrap in the manifest file.</para></listitem>
  </varlistentry>'>
  
<!ENTITY delta_ug_of_segment_duration
' <varlistentry>
   <term><guilabel>Segment Duration</guilabel></term>
   <listitem><para>The duration (in seconds) of each segment. If the value that you type here is different from the input segment size, &servicename; rounds segments to the nearest multiple of the input segment duration.</para></listitem>
  </varlistentry>'>
  
<!ENTITY delta_ug_of_include_cslg
'<varlistentry>
   <term><guilabel>Include CSLG</guilabel></term>
   <listitem><para>Determines what additional information is included in the output manifest.</para>
   <para>When you select <guilabel>Include CSLG</guilabel>, &servicename; inserts information to improve compatibility with Apple players and tools. Configuration specifics include:</para>
   <itemizedlist>
    <listitem><para>File composition starts at zero.</para></listitem>
    <listitem><para>Composition times in the ctts box for B-frames are negative.</para></listitem>
    <listitem><para>A CSLG box is included per <filename>.iso</filename> 14496-1 amendment 1.</para></listitem>
   </itemizedlist>
    <para>If you don&apos;t select <guilabel>Include CSLG</guilabel>, &servicename; creates a stream that&apos;s compliant with <filename>.iso</filename> MPEG-4.</para></listitem>
  </varlistentry>'>
  
<!ENTITY delta_ug_of_min_buffer
'<varlistentry>
   <term><guilabel>Minimum Buffer Time</guilabel></term>
   <listitem><para>The minimum amount of content (measured in seconds) that a player must keep in the buffer. If network conditions interrupt playback, the player has additional buffered content before playback fails, allowing for recovery time before the viewer&apos;s experience is affected.</para></listitem>
  </varlistentry>'>
  
<!ENTITY delta_ug_of_min_update
'<varlistentry>
   <term><guilabel>Minimum Update Period</guilabel></term>
   <listitem><para>The minimum amount of time (in seconds) that the player should wait before requesting manifest updates. A lower value means that manifests are updated more frequently, but a lower value also contributes to request and response network traffic.</para></listitem>
  </varlistentry>'>
  
<!ENTITY delta_ug_of_pcr_every_pes
' <varlistentry>
   <term><guilabel>PCR Every PES</guilabel></term>
   <listitem><para>How &servicename; handles program clock reference (PCR) values.</para>
   <para>When you select <guilabel>PCR Every PES</guilabel>, &servicename; inserts a PCR for every Packetized Elementary Stream (PES) header. This parameter is effective only when the PCR program identifier (PID) is the same as the video or audio elementary stream.</para>
    <para>If you don&apos;t select <guilabel>PCR Every PES</guilabel>, &servicename; inserts a PCR, but not for every PES header.</para></listitem>
  </varlistentry>'>

<!ENTITY delta_ug_of_suggested_pres_delay
'<varlistentry>
   <term><guilabel>Suggested Presentation Delay</guilabel></term>
   <listitem><para>The amount of time (in seconds) that the player should be from the end of the manifest. This sets the content start point back <replaceable>x</replaceable> seconds from the end of the manifest (the point where content is live). For example, with a 35-second presentation delay, requests at 5:30 receive content from 5:29:25.</para></listitem>
  </varlistentry>'>
  
<!ENTITY delta_ug_of_ad_markers
'<varlistentry>
   <term><guilabel>Ad Markers</guilabel></term>
   <listitem><para>How &servicename; includes ad markers in the packaged content.</para>
   <para>Available options:</para>
   <itemizedlist>
    <listitem><para><guilabel>None</guilabel> &emdash; copy the SCTE-35 messages directly from the input stream to the output manifest.</para></listitem>
    <listitem><para><guilabel>SCTE-35 Enhanced</guilabel> &emdash; generate ad markers and blackout tags based on the SCTE-35 messages from the input stream.</para></listitem>
    <listitem><para><guilabel>Passthrough</guilabel> &emdash; omit all SCTE-35 ad markers from the output.</para></listitem>
   </itemizedlist></listitem>
  </varlistentry>'>
  
<!ENTITY delta_contents_entity
"<para>A content entity is created automatically or manually, as shown in the table below.</para> 
        <table><title/>
            <tgroup cols='4'>
                <colspec colname='content' colnum='1'/>
                <colspec colname='direction' colnum='2'/>
                <colspec colname='entity' colnum='3'/>
                <colspec colname='when' colnum='4'/>
                <thead>
                    <row>
                        <entry>Content Type</entry>
                        <entry>Direction</entry>
                        <entry>Type of Content Entity</entry>
                        <entry>When Created</entry>
                    </row>
                </thead>
                <tbody> 
                    <row>
                        <entry>HTTP Input</entry>
                        <entry>Push</entry>
                        <entry>Content</entry>
                        <entry>Automatically, when an asset is pushed to &servicename;.</entry>
                    </row>
                    <row>
                        <entry>MSS Input</entry>
                        <entry>Push</entry>
                        <entry>Content</entry>
                        <entry>Automatically, when an asset is pushed to &servicename;.</entry>
                    </row>
                    <row>
                        <entry>Remote Input</entry>
                        <entry>Pull</entry>
                        <entry>Remote input content</entry>
                        <entry>Manually. See &remote;.</entry>
                    </row>
                    <row>
                        <entry>RTMP Input</entry>
                        <entry>Push</entry>
                        <entry>Content</entry>
                        <entry>Automatically, when an asset is pushed to &servicename;.</entry>
                    </row>
                    <row>
                        <entry>UDP Input</entry>
                        <entry>Push</entry>
                        <entry>Content</entry>
                        <entry>Automatically, when an asset is pushed to &servicename;.</entry>
                    </row>
                    <row>
                        <entry>Watch Folder Input</entry>
                        <entry>Pull</entry>
                        <entry>Content</entry>
                        <entry>Automatically, the first time &servicename; detects an asset in the watched folder.</entry>
                    </row>
                    <row>
                        <entry>WebDAV Input</entry>
                        <entry>Push</entry>
                        <entry>Content</entry>
                        <entry>Automatically, when an asset is pushed to &servicename;.</entry>
                    </row>
					<row>
                        <entry>VOD Catalog Input</entry>
                        <entry>Varies</entry>
                        <entry>VOD Catalog Content</entry>
                        <entry>See &vodcatalog;.</entry>
                    </row>
                </tbody>
            </tgroup>
        </table>">

<!ENTITY delta_ug_ofss_audio_rend_group
'<varlistentry>
   <term><guilabel>Audio Rendition Group</guilabel></term>
   <listitem><para>Which audio rendition group this video track will use.</para>
    <para>Available options:</para>
   <itemizedlist>
    <listitem><para><guilabel>(default)</guilabel> &emdash; selects the earliest created audio rendition group. &servicename; assigns the default to a video track before you make a selection.</para></listitem>
    <listitem><para>Group names &emdash; all audio rendition groups are listed. Select the one that this track will use.</para></listitem>
    <listitem><para><guilabel>&lt;None&gt;</guilabel> &emdash; means that this video track doesn&apos;t use an audio rendition group. Typically, use this when the audio is combined with the video, making additional audio tracks unnecessary.</para></listitem>
   </itemizedlist>
   <warning><para>Some players fail if some of your stream sets have an audio group selected and others are set to <guilabel>None</guilabel>. If this is your configuration, make sure that your player supports a combination of stream sets that use audio rendition groups and some that don&apos;t.</para></warning></listitem>
  </varlistentry>'>
  
<!ENTITY delta_ug_ofss_codec
" <varlistentry>
   <term><guilabel>Codec</guilabel></term>
   <listitem><para>Use the track that matches the specified codec. This selector works on only ingested content that has one track that matches your selection. If the ingested content contains two tracks with the specified codec, then &servicename; automatically uses the first one.</para>
   <para>Available codecs:</para>
   <itemizedlist>
    <listitem><para><emphasis role='bold'>Video</emphasis> &emdash; H264 or H265</para></listitem>
    <listitem><para><emphasis role='bold'>Audio</emphasis> &emdash; AACL, AC3, EAC3, AACH, or WMA2</para></listitem>
    <listitem><para><emphasis role='bold'>Subtitles and Captions</emphasis> &emdash; DFXP, TTML, WebVTT, DVBSub, DVBText, or SRT</para></listitem>
   </itemizedlist></listitem>
  </varlistentry>">

<!ENTITY delta_ug_ofss_input_stream_index
'<varlistentry>
   <term><guilabel>Input Stream Index</guilabel></term>
   <listitem><para>In the incoming content, select one track, by index relative to other tracks. For example, a value of 2 will select the track that is ranked second. If the track indexes are 189, 190, and 191, a value of 2 selects the track with index 190.</para></listitem>
  </varlistentry>'>

<!ENTITY delta_ug_ofss_language
'<varlistentry>
   <term><guilabel>Language</guilabel></term>
   <listitem><para>Select all of the tracks that match the specified language. Use the <filename>.iso</filename>-639-2 three-letter code to identify a language.</para></listitem>
  </varlistentry>'>

<!ENTITY delta_ug_ofss_pid
'<varlistentry>
   <term><guilabel>PID</guilabel></term>
   <listitem><para>Select one track that matches the specified program identifier (PID). This field only applies to output filters that are attached to HLS or TS content.</para></listitem>
  </varlistentry>'>
 
<!ENTITY delta_ug_ofss_track_index
'<varlistentry>
   <term><guilabel>Track Index</guilabel></term>
   <listitem><para>The order that &servicename; displays this track in the stream set once it&apos;s created.</para></listitem>
  </varlistentry>'>

<!ENTITY delta_ug_if_interface
'<varlistentry>
  <term><guilabel>Interface</guilabel></term>
  <listitem><para>The network interface for &servicename; to use (such as eth2).</para>
  <para>Optional. If you don&apos;t specify an interface, &servicename; uses the system routing table to select an interface.</para></listitem>
 </varlistentry>'>
 
<!ENTITY delta_ug_if_listening_port
'<varlistentry>
  <term><guilabel>Listening Port</guilabel></term>
  <listitem><para>The port on the &servicename; node where &servicename; listens for incoming RTMP content. The default port is 1935.</para></listitem>
 </varlistentry>'>
 
<!ENTITY delta_ug_if_local_storage_location
'<varlistentry>
  <term><guilabel>Local Storage Location</guilabel></term>
  <listitem><para>What local folder &servicename; uses as the remote file cache. Select the appropriate folder from the listed directory.</para></listitem>
 </varlistentry>'>
 
<!ENTITY delta_ug_if_s3_storage_location
'<varlistentry>
  <term><guilabel>S3 Storage Location</guilabel></term>
  <listitem><para>What Amazon S3 folder &servicename; uses as the remote file cache. Enter the S3 URL as <userinput>s3://&lt;full_path&gt;</userinput>.</para></listitem>
 </varlistentry>'>


<!ENTITY delta_ug_if_password
'<varlistentry>
  <term><guilabel>Password</guilabel></term>
  <listitem><para>The selected input user&apos;s password.</para></listitem>
 </varlistentry>'> 
 
<!ENTITY delta_ug_if_relative_path
'<varlistentry>
  <term><guilabel>Relative Path</guilabel></term>
  <listitem><para>The relative path where content is posted.</para>
  <para>If content is posted to &relative_path;, then leave this field empty.</para>
  <para>If content is posted to a subfolder of &relative_path;, specify that subfolder path in the format <userinput>&lt;subfolder/sub-subfolder/&gt;</userinput> (with no leading slash).</para></listitem>
 </varlistentry>'>
 
<!ENTITY delta_ug_if_segmentation_marker
'<varlistentry>
  <term><guilabel>Segmentation Marker</guilabel></term>
  <listitem><para>The type of marker that identifies segmentation in the input stream.</para>
  <para>Available options:</para>
  <itemizedlist>
   <listitem><para><guilabel>IDR Frames</guilabel> &emdash; instantaneous decoder refresh (IDR) segments are positioned at each closed group of pictures (GOP) boundary.</para></listitem>
   <listitem><para><guilabel>EBP Markers</guilabel> &emdash; segments are positioned at encoder boundary points (EBP) as specified by OpenCable OC-SP-EBP-101-130118.</para></listitem>
  </itemizedlist></listitem>
 </varlistentry>'>

<!ENTITY delta_ug_if_username
'<varlistentry>
  <term><guilabel>Username</guilabel></term>
  <listitem><para>The input user that you will pass when you post content to the &servicename; WebDAV server. The username and password are required for WebDAV content. For information about setting up input users, see <xref linkend="input-users" endterm="input-users.title"/>.</para></listitem>
 </varlistentry>'>
      
 <!--  Delta upgrade guides entities -->
 <!ENTITY delta_upg_verify_version
 '<para>Verify the current &servicenamelong; version one of these two ways:</para>
    <itemizedlist>
        <listitem><para>Look at the bottom of any screen on the web interface.</para></listitem>
        <listitem><para>Type the following command in the Linux command line, when you&apos;re logged in as the <emphasis>elemental</emphasis> user.</para>
        <programlisting language="none">cat /opt/elemental_se/versions.txt</programlisting></listitem>
     </itemizedlist>'>
	  


<!ENTITY delta_upg_ready_locate_sw_dgonly
'      <listitem>
        <para>Find the version of the software that you&apos;re downgrading to. </para>
        &important_dg;
		<para>Follow these
          steps:</para>
        <orderedlist>
          <listitem>
            <para>From a Linux prompt, log in to the hardware until with the <emphasis>elemental</emphasis> user
              credentials.</para>
          </listitem>
          <listitem>
            <para>Look for the desired installer as shown here.</para>
            <programlisting language="none"><computeroutput>[elemental@hostname ~]</computeroutput> ls</programlisting>
			<para>Look for the file named similar to this <filename>...&installer_name;_&delta_dg_version_short;.0.123456.run...</filename></para>
          </listitem>
        </orderedlist>
      </listitem>
      <listitem>
        <para>If you find the software, skip to &adg_step;.<!--define in file--></para>
        <para>If the software isn&apos;t on the hardware unit, go to the next step.</para>
      </listitem>'>

<!ENTITY delta_upg_stop_egress
'<para>If you&apos;re not using a health checker, remove all egress nodes from the load
            balancer prior to starting the process of changing versions. For assistance, see product documentation specific to the load balancer.</para>
    <para>Perform these steps at each egress node.</para>'>
	
<!ENTITY delta_upg_stop_command
    '<listitem>
          <para>From a Linux prompt, log in with the <emphasis>elemental</emphasis> user credentials. Once you are
            logged in, the initial directory is <filename>/home/elemental</filename>.</para>
      </listitem>
      <listitem>
          <para>Enter the following command to stop the node.</para>
    <programlisting language="none">sudo service elemental_se stop</programlisting>
      </listitem>'>
	  
<!ENTITY delta_upg_stop_command_dn
    '<listitem>
          <para>From a Linux prompt, log in with the <emphasis>elemental</emphasis> user credentials. Once you are
            logged in, the initial directory is <filename>/home/elemental</filename>.</para>
      </listitem>
	  <listitem>
	   <para>Enter the following command.</para>
        <programlisting language="none">[elemental@hostname ~]$ <command>chmod 755 &installer_name;_&version_short;.<replaceable>n.nnnn</replaceable><filename>.run</filename></command></programlisting>
	  </listitem>
      <listitem>
          <para>Enter the following command to stop the node.</para>
    <programlisting language="none">sudo service elemental_se stop</programlisting>
      </listitem>'>

<!ENTITY delta_upg_stop_a
'<para>If you&apos;re not using a health checker, swap node B for node A in the load
            balancer like this:</para>
        <orderedlist>
      <listitem>
          <para>Add node B back to the load balancer.</para>
      </listitem>
      <listitem>
          <para>Remove node A from the load balancer.</para>
      </listitem>
        </orderedlist>
          <para>See product documentation specific to the load balancer for assistance.</para>
    <para>Perform these remaining steps at node A.</para>'>

	  
	
<!ENTITY delta_upg_complete_b_end
' <para>Once node B has restarted, node B becomes
      leader and starts to ingest content.</para>'>
	  
<!ENTITY delta_upg_admonition
'<para>Plan to &adm_up_dn; during a maintenance window or have a redundant cluster available to accept traffic during the &adm_up_dn; process. All activity on the node stops during this process and content could be lost.</para>'>

<!ENTITY delta_upg_important_intro
'<important>
    <para>To avoid service interruptions, perform &adm_up_dn;s during a maintenance window! All
      traffic to and from an &servicenamelong; node stops while the node is being &adm_up_dn;d.</para>
  </important>'>
	
<!ENTITY delta_upg_simple_intro
'<para>If you have a cluster that includes a leader node and a  secondary node, follow this
    procedure to &adm_up_dn; the nodes. If you&apos;re not using a health checker, ensure that your load
    balancer doesn&apos;t reference the node that&apos;s currently being &adm_up_dn;d and isn&apos;t in the correct
    state to output content.</para>'>

<!ENTITY delta_upg_egress_intro
'<para>If you have a cluster that includes a leader node, a secondary node, and one or more nodes dedicated for egress, follow this
    procedure to &adm_up_dn; the nodes. If you&apos;re not using a health checker, ensure that your load
    balancer doesn&apos;t reference nodes that are currently being &adm_up_dn;d and aren&apos;t in the correct
    state to output content.</para>'>

<!ENTITY delta_upg_dn_limits
'<para>You can&apos;t perform a regular downgrade to version &delta_dg_minus2_version_short;.x and earlier. To downgrade to an earlier version, see <xref linkend="kickstart" endterm="kickstart.title"/>. Note that there may be also special consideration if you&apos;re downgrading to versions 2.1.0 through 2.1.2. For more information, see <xref linkend="special"/>.</para>'>

<!ENTITY delta_upg_dn_command
' <programlisting language="none">[elemental@hostname ~]$<command> sudo sh ./&installer_name;_<replaceable>&lt;version></replaceable><filename>.run</filename> –-skip-all –xeula --start --downgrade --restore-db <replaceable>&lt;path/to/database/backup></replaceable></command></programlisting>'>

<!ENTITY delta_upg_up_command
'<programlisting language="none">[elemental@hostname ~]$ <command>sudo sh ./&installer_name;_<replaceable>&lt;version></replaceable><filename>.run</filename> –-skip-all</command></programlisting>'>

<!ENTITY delta_upg_upgB_lb
'<para>If you&apos;re not using a health checker, remove the reference to node B from the load balancer prior to &adm_up_dn;. For assistance, see product documentation specific to the load balancer.</para>
<para>Perform these steps at the hardware unit for node B.</para>'>

<!ENTITY delta_upg_login
'<listitem>
        <para>From a Linux prompt, log in with the <emphasis>elemental</emphasis> user credentials. Once
          you&apos;re logged in, the initial directory is <code>/home/elemental</code>.</para>
      </listitem>'>
      
      <!ENTITY server_cluster_yes
      '       <listitem><para>You are not prompted to change the &servicenamelong; cluster configuration (configuration into a manager and worker nodes).</para></listitem>
'>
	  
<!ENTITY delta_upg_dn_installer
'<listitem>
              <para>Enter the following command.</para>
        <programlisting language="none"><computeroutput>[elemental@hostname ~]$</computeroutput> chmod 755 &installer_name;_&delta_version_short;.n.nnnn.run</programlisting>
      </listitem>
          <listitem>
              <para>Enter the following command to stop the node.</para>
        <programlisting language="none"><computeroutput>[elemental@hostname ~]$</computeroutput> sudo service elemental_se stop</programlisting>
          </listitem>
          <listitem>
              <para>Wait for the node to time out on the web interface, then run the prepare for
                downgrade script.</para>
            <programlisting language="none"><computeroutput>[elemental@hostname ~]$</computeroutput> sudo /opt/elemental_se/web/script/prepare_for_downgrade.sh -i ./&installer_name;_&lt;<replaceable>version</replaceable>>.nnnnnn.run</programlisting>
            <para>These are the guidelines for the version to use in the script:</para>
            <itemizedlist>
              <listitem><para>If you meet the conditions in <xref linkend="special"/>, run the script for version 2.1.3.</para></listitem>
              <listitem><para>If you <emphasis>don&apos;t</emphasis> meet the conditions for special consideration, run the script for the version that you&apos;re downgrading to.</para></listitem>
            </itemizedlist>
          </listitem>
          <listitem>
              <para>Run the installer with the skip-all option:</para>        
            &delta_upg_dn_command;
            <para>These are the guidelines for the version to use in the installer:</para>
            <itemizedlist>
              <listitem><para>If you meet the conditions in <xref linkend="special"/>, run the installer for version 2.1.3.</para></listitem>
              <listitem><para>If you <emphasis>don&apos;t</emphasis> meet the conditions for special consideration, run the installer for the version that you&apos;re downgrading to.</para></listitem>
            </itemizedlist>
              <para>The installer automatically stops the software, if it&apos;s still running. These prompts are skipped:</para>
<itemizedlist>
          <listitem>
              <para>You will not be prompted to change the network setup (eth0 and eth1) or the
                Ethernet partitioning (setup of eth0 as a management interface).</para>
          </listitem>
          <listitem>
              <para>You will not be prompted to choose the time zone.</para>
          </listitem>
          <listitem>
              <para>You will not be prompted to enable or disable user authentication.</para>
          </listitem>
</itemizedlist>
              <para>The new software is installed and all services except elemental_se are automatically be restarted.</para>
      </listitem>'>
	  
<!ENTITY delta_upg_reboot
'          <para>Once installation is complete, you might be prompted to reboot.</para>    
<programlisting language="none">Installation and configuration complete!
.
.
.
NOTE: You must reboot your system to finish the installation!</programlisting>'>
	   
 
<!ENTITY delta_upg_refresh
      '<para>Refresh your web browser to load the updated &servicenamelong; web interface.</para>'>
	  
<!ENTITY delta_upg_reboot_no
'<para>Do not reboot yet. Instead, switch to node A, as described below.</para>
<warning><para>You must not reboot node B yet because doing so would cause node B to become a Leader (along with node A), which would cause serious conflicts.</para></warning>'>


<!ENTITY delta_upg_nodeA_back
'      <para>Node A joins the cluster. Node B is the leader now and node A is the secondary.</para>'>

<!ENTITY delta_upg_node_load
'      <para>If you&apos;re not using a health checker, add the node back to the load balancer.</para>'>

<!ENTITY delta_upg_egress_back
'      <para>The egress node joins the cluster. Verify that the egress node is on the same version as the leader and secondary nodes.</para>'>
	 
<!ENTITY delta_cg_firewall_step
'  <para>You can leave the node firewall enabled or disabled. The installer configures each node&apos;s firewall for the ports that must be open for traffic to
        and from each node. If you plan to enable the firewall, you can open more ports for any
        reason.</para>
      <para>For assistance opening ports or starting the firewall, see <xref linkend="firewall"
        />.</para>
      <important>
        <para>Whether the individual node firewalls are enabled or not, we recommend that the
          cluster always be installed behind a customer firewall on a private network.</para>
      </important>'>
      
<!--  ================================= LSC Upgrade Entities ================================= -->
 
 <!ENTITY about_upg
 ' <para>This guide is intended for engineers who will upgrade the software running on the nodes of
    an &servicenamelong; cluster with  worker nodes.</para>
   <para>The full suite of upgrade information for &servicenamelong; and &worker; is described in the table:</para>
   
   <table>
     <tgroup cols="3">
       <colspec colnum="1" colname="Deployment"/>
       <colspec colnum="2" colname="description"/>
       <colspec colnum="3" colname="guide"/>
       <thead>
         <row>
           <entry>Deployment</entry>
           <entry>Description</entry>
           <entry>Information</entry>
         </row>
       </thead>
       <tbody>
         <row>
           <entry><itemizedlist>
             <listitem><para>Single Conductor cluster</para></listitem>
             <listitem><para>No backup workers</para></listitem>
           </itemizedlist> 
           </entry>
           <entry>&worker; nodes without backup in a cluster controlled by one Elemental Conductor.</entry>
           <entry>&single_cond;
           </entry>
         </row>
         &info_row;
        <row>
          <entry><itemizedlist>
            <listitem><para>Two Conductor (high-availability) cluster</para></listitem>
            <listitem><para>With or without backup workers</para></listitem>
          </itemizedlist></entry>
          <entry>&worker; nodes in a cluster controlled by redundant &servicenamelong; nodes (a primary and a backup). Workers might or might not have redundant nodes.</entry>
          <entry>&ha_conds;</entry>
          </row>
       </tbody>
     </tgroup>
   </table>
   &prereq_knowledge;
     <formalpara><title>Sending Commands</title>
       <para>Tips for sending commands:</para></formalpara>
   <itemizedlist>
     <listitem><para>Unless otherwise stated, enter all Linux shell commands from the home directory (/home/elemental). </para></listitem>
     <listitem><para>To ensure that the commands will be executed regardless of your user permissions, use &quot;sudo&quot; to run the command as superuser.</para></listitem>
   </itemizedlist>'>
   
 <!ENTITY live_info_row
 '<row>
           <entry>
             <itemizedlist><listitem><para>Single Conductor cluster</para></listitem>
             <listitem><para>Backup workers</para></listitem></itemizedlist>
           </entry>
           <entry>&worker; nodes with backups in a cluster controlled by one Elemental Conductor.</entry>
           <entry><para>&cl3_upg_current;</para>
           </entry>
         </row> '>
         
<!ENTITY empty ''>

<!ENTITY nodes_same '<important><para>All nodes in the cluster must have the same credentials for the <emphasis>elemental</emphasis> user.</para></important>'>
   
  <!ENTITY prep_cond_step
  ' <para>Upgrade the Conductor nodes before upgrading the worker nodes.</para>
     <formalpara>  <title>Back up the Database</title>
         <para>We strongly recommend that you make a backup database.</para></formalpara>
         <orderedlist>
           <listitem><para>On the &servicenamelong; web interface, choose <guilabel>Configuration</guilabel> (gear icon) on the main menu. </para>
        
         <para>The <guilabel>Conductor Configuration</guilabel> screen appears showing the <guilabel>General</guilabel> tab.</para>
           </listitem>
         <listitem><para>Change the Minutes between database backups to <userinput>10</userinput> and choose <guilabel>Save</guilabel>. </para>
         
         <para>A database backup will automatically be made in 10 minutes from now. The backup process takes less than 1 minute.</para>
         </listitem>
         <listitem><para>Make a note of the current time, so that you know when 10 minutes have passed.</para>
         </listitem>
         </orderedlist>
       <formalpara><title>Move Files</title>
           <para>If the primary Conductor node has any custom &AWSE; assets such as scripts, locate them and if they are in <filename>/opt/elemental_se/web/public/script</filename>, then back them up to a safe location, so that they are not deleted during the upgrade.</para></formalpara>
           <para>For detailed information on keeping backup files before the upgrade, see the article 
           <ulink url="&bup_kba;">Backup Files for Safekeeping/Upgrading/Downgrading</ulink>.</para>'>  
           
  
<!ENTITY disable_ha_step
'     <para>Disable high availability prior to performing any changes on the Conductor nodes.</para>
       <procedure><title>To disable high availability on the primary Conductor</title>
         <step><para>From the Linux prompt, log in to the primary Conductor node with the <emphasis>elemental</emphasis> user credentials.</para>
         </step>
         <step><para>Enter the following command to configure the primary Conductor node for HA. </para>
           <programlisting language="none">[elemental@hostname ~]$ <command>sudo /opt/elemental_se/.support_utils/dbrepl disable</command> </programlisting>
         </step>
         <step>
           <para>Restart the service using the following commands.</para>
           <programlisting language="none">[elemental@hostname ~]$ <command>sudo /etc/init.d/postgresql-9.4 restart</command>
[elemental@hostname ~]$ <command>sudo /etc/init.d/elemental_se restart</command></programlisting>
         </step>
         <step>
           <para>Enter the following command to verify that Conductor high availability is disabled.</para>
           <programlisting language="none">[elemental@hostname ~]$ <command>tail -F /opt/elemental_se/web/log/conductor.output</command></programlisting>
           <para>The conductor.output log starts to scroll on the screen and shows messages as they are occurring. Watch for the following INFO lines on the primary Conductor node.</para>
           <programlisting language="none">CONDUCTOR: Initializing environment
I, [2015-11-13T04:37:54.491204 #4978] &#160;INFO -- : HA environment not enabled
  [2015-11-13 04:39:03 UTC SERVICE]: Elemental &servicename; &delta_dg_version_short;.x.x</programlisting>             
         </step>
         <step>
           <para>Type <command>Ctrl-C</command> to exit the tail command.</para>
         </step>
         <step>
           <para>Enter the following commands.</para>
           <programlisting language="none">[elemental@hostname ~]$ <command>sudo -s </command></programlisting>
           <programlisting language="none">[elemental@hostname ~]$ <command>cd /data/pgsql/logs</command></programlisting>
           <programlisting language="none">[elemental@hostname ~]$ <command>tail -F postgresql-&lt;day&gt;.log</command></programlisting>
  <para>Where &lt;day&gt; is today (the day you are upgrading), typed with an initial capital letter: Mon, Tue, Wed, Thu, Fri, Sat, Sun</para>
         </step>
         <step>
           <para>Confirm that you see this line.</para>
           <programlisting language="none">database system is ready to accept connections.</programlisting>
<note><para>If the elemental_se or postgres process has already started when you starting tailing the logs, you might not see the <code>ready to accept connections</code>  message.
      Instead, you could see <code>rejects connection for host</code> messages until you upgrade the worker nodes.</para></note>		   
         </step>
         <step>
           <para>Type <command>Ctrl-C</command> to exit the tail command.</para>
         </step>
         <step>
           <para>Type the following command to exit the session as the sudo user.</para>
           <programlisting language="none">[elemental@hostname ~]$ <command>exit</command></programlisting>
         </step>
       </procedure>
       <formalpara><title>To disable high availability on the secondary Conductor</title>
         <para>Repeat the high-availability steps on the secondary Conductor node, logged into the secondary Conductor node.</para>
       </formalpara> '>

<!ENTITY stop_step_commands
' <programlisting language="none">[elemental@hostname ~]$ <command>sudo service elemental_se stop</command></programlisting>
  <para>As soon as you stop elemental_se, the Conductor node becomes de-activated (offline) so it isn&apos;t communicating with the worker nodes.</para>
         <programlisting language="none">[elemental@hostname ~]$ <command>sudo service httpd stop</command></programlisting>
  <para>As soon as you stop httpd, the Conductor web interface becomes unavailable.</para>'>
  

  
  <!ENTITY upgrade_sec_ha
  '<formalpara><title>Upgrade the Secondary</title>
  <para>Repeat the upgrade steps on the secondary Conductor node, logged into the secondary Conductor node.</para></formalpara>
  <para>The command is:</para>&upg_up_installer_command;'>
  
  <!ENTITY  upg_up_installer_command_cond 
  '<programlisting language="none">[elemental@hostname ~]$ <command>sudo ./&installer_name;_&version_short;.0.123456.run --skip-all --start</command></programlisting>'>
  
 <!ENTITY upg_up_installer_command_smux
 '<programlisting language="none">[elemental@hostname ~]$ <command>sudo ./&installer_name;_cpu_&version_short;.0.123456.run --skip-all</command></programlisting>'>
  
    <!ENTITY  upg_up_installer_command_ls 
  '&upg_sa_comm_ls;'>
  
  <!ENTITY upgrade_step_adm_ha
  ', otherwise you will not be able to upgrade the secondary Conductor node'>
  
  <!ENTITY upg_start_switch_not_d '--start'>
  
  <!ENTITY upg_warning_not_d '<warning><para>Do not use the <command>--external-db</command> command!</para></warning>'>
  
  
  
  <!ENTITY upg_up_workers
  ' <procedure><title>To upgrade the worker nodes</title>
               <step><para>From the Linux prompt, log in with the <emphasis>elemental</emphasis> user credentials.</para>
               </step>
               <step><para>Run the installer as follows. Use the actual filename of the <filename>.run</filename> file you downloaded, rather than the example below.</para>
                <para>For GPU and CPU versions of the software.</para>
                   <programlisting language="none">[elemental@hostname ~]$ <command>sudo ./&worker_installer_name;_&version_short;.x.xxxxx.run -xeula --start -z</command></programlisting>
  <para>For CPU-only versions of the software.</para>
  <programlisting language="none">[elemental@hostname ~]$ <command>sudo ./&worker_installer_name;_cpu_&version_short;.x.xxxxx.run -t -n -xeula --start -z</command></programlisting>
  <para>For more details about upgrading worker nodes, see <ulink url="&url-doc-domain;elemental-server/latest/upgradeguide">&ESRVRlong; Upgrade Guide</ulink>.</para>
               </step>
  <step><para>Answer the prompts as follows:</para>
      <table><title/>
          <tgroup cols="2">
              <colspec colname="prompt" colnum="1"/>
              <colspec colname="response" colnum="2"/>
              <thead>
                  <row>
                      <entry>Prompt</entry>
                      <entry>Response</entry>
                  </row>
              </thead>
              <tbody> 
                  <row>
                      <entry><computeroutput>Remove this node from the Conductor system? [N]</computeroutput></entry>
                      <entry><userinput>No</userinput></entry>
                  </row>
                  <row>
                      <entry><computeroutput>What is the hostname or IP address of the cluster management node?</computeroutput></entry>
                      <entry>Enter the IP address of the management interface (typically eth0 or bond 0) on the primary Conductor node.</entry>
                  </row>
                  <row>
                      <entry><computeroutput>Trust this public key? [Y]</computeroutput></entry>
                      <entry>Yes</entry>
                  </row>
              </tbody>
          </tgroup>
  </table>
  </step>
<step><para>If you had previously copied a script to a safe location, now copy it back to its location in <filename>/opt/elemental_se</filename>.</para>
</step>
        </procedure>'>
  
  <!ENTITY upg_force_fail_step
  '       <para>Applies to only clusters with backup worker nodes.</para>
           <important><para>Revert the Failover Threshold to the original value before proceeding with this section.</para>
           <para>On the Conductor web interface, go to <guilabel>Settings</guilabel> &gt; <guilabel>Failover</guilabel> and set the <guilabel>Failover Threshold</guilabel> to the original value, or default 12 seconds.</para></important>
           <formalpara><title>Get Ready</title>
                <para>If a worker node has any custom Elemental assets such as scripts , locate them and if they are in <filename>/opt/elemental_se</filename>, then 
                back them up to a safe location, so that they are not deleted during the upgrade. 
                For detailed information on keeping backup files before the upgrade, 
                see the article <ulink url="&bup_kba;">Backup Files for Safekeeping/Upgrading/Downgrading</ulink>.</para></formalpara>
                <formalpara><title>Force Fail</title>
                    <para>Perform these steps on each active worker node. Perform them according to the work order you set as described in &get_ready_wrkr;<!--xref locally to getting ready on worker-->.</para></formalpara>
                    
<orderedlist> 
    <listitem><para>From the Linux prompt, log in with the <emphasis>elemental</emphasis> user credentials.</para>
    </listitem>
   <listitem><para>Enter the following commands.</para>
    <programlisting language="none">[elemental@hostname ~]$ <command>cd /opt/elemental_se/.support_utils/</command></programlisting>
    <programlisting language="none">[elemental@hostname ~]$ <command>sudo ./elemental_se_force_fai</command>l</programlisting>
    <programlisting language="none">[elemental@hostname ~]$ <command>cd ~/</command></programlisting>
  <para>Result:</para>
  <para>The specified node fails. This failure is automatically detected and each event fails over:</para>
 <itemizedlist> 
     <listitem><para>If the event “belongs to” this node, then it fails over to the backup node identified by the backup rule for the event.</para></listitem>
 <listitem> <para>If the event is on this node because it failed over to this node as part of the upgrade of its original node, then the event will fail over again (second failover). </para></listitem>
 </itemizedlist>
   </listitem>
</orderedlist>
  <warning><para>Do not use the Force Failure button on the Nodes screen of the Conductor web interface to force fail these nodes!</para></warning>'>
  
 <!ENTITY upg_up_active
 '       &upg_up_workers;
        <procedure><title>To reboot the &worker_active; worker nodes</title>
            <step><para>As soon as the installation is complete, restart the node.</para>
                <programlisting language="none">[elemental@hostname ~]$<command> sudo reboot</command></programlisting>
                <para>On the Conductor web interface, a message appears to indicate that the node is deactivated (offline).</para>
            </step>
 <step> <para>When the node has rebooted, the Conductor web interface displays a message to indicate the node is back online.</para></step>
<step>  <para>Refresh your web browser on the &worker; node in order to load the updated web interface.</para>
</step>  
            <step><para>Repeat these steps on each &worker_active; worker node.</para></step>
        </procedure>'>

<!ENTITY worker_active_y 'active'>

<!ENTITY upg_up_ready_worker
'<procedure> <title>To make sure nodes are set up for failover</title>
       <step> <para>In each event that will be running on the node during the upgrade session, make sure the event has a backup rule. This backup rule ensures that when the node fails, its events are sent to another node for handling. If a running event does not have backup rules then the event will fail if service is disrupted on the node.</para>
        <para>It is a good idea to create any missing backup rules during a maintenance window, because changing the event causes it to be stopped and restarted. </para>
              </step>
        <step><para>Repeat on each active node. </para>
        </step>
<step><para>Establish an order of work for the worker node upgrades: We recommend that you upgrade the busiest and most important node first, and the least important node last.</para>
</step> </procedure>'>

<!ENTITY upg_up_ready_cond
'<procedure>   
        <step><para>On the &servicenamelong; web interface, choose <guilabel>Settings</guilabel> &gt; <guilabel>Failover</guilabel> and set the following: </para>
        <itemizedlist>
           <listitem><para><guilabel>Failover threshold</guilabel>: Before starting the upgrade, set this value to <userinput>600</userinput> seconds or higher. This will ensure that you can successfully complete &change_failover;<!--xref local Step I--> by preventing any &worker; nodes from prematurely switching to a Failed state. Revert this setting to the original or default value prior to force failing the &worker; nodes.</para></listitem>
        <listitem><para><guilabel>Enable automatic rejoin</guilabel>: Before you start the upgrade, select this option to make sure that after you upgrade a worker node, that node automatically rejoins its cluster. </para>
            <para>When the upgrade is completed, come back and disable this feature: during normal operations, if a worker node fails, you want it to remain outside the cluster so that you can troubleshoot any issues. When you are certain the node is ready to go back into production, you will manually add it back to the cluster. </para></listitem></itemizedlist>
        </step>
       <step><para>Plan ahead for getting events back to their desired nodes once upgrade is done.</para>
        <itemizedlist>
            <listitem><para>If your event backup rules point to a backup group or “any active node” (as shown above), then you cannot guarantee that you will be able to fail over events to a backup node (first failover) and then fail them back successfully to their original node (second failover): it is possible that the second failover will send the event to a completely different node.</para>
        <para>If this happens, you will have to manually move the events back to their original, desired nodes (as described in <!--xref locally manual event move-->&move_apis;). </para></listitem>
      <listitem> <para>If your event backup rules point to specific nodes, then there is a better guarantee that the second failover will move the event back to its original node. But make sure to check that the events failback correctly and be prepared to move these events manually if necessary.</para>
        <para>To prepare for this work:</para>
       <itemizedlist>
           <listitem><para>Determine the node ID of each node.</para></listitem>
        <listitem><para>Make a list of all the events and the node each event “belongs to”.</para></listitem>
       </itemizedlist>
      </listitem></itemizedlist>
       </step>
     </procedure>'>
	 
	 <!ENTITY upg_up_switch_workers
	 ' <para>Do not switch back before you have upgraded all the active nodes.</para>
        <warning><para>Use this forced failover method only on nodes that are strictly backup nodes.</para></warning>
           <orderedlist>
               <listitem><para>Display the <guilabel>Node</guilabel> screen on the primary Conductor node.</para></listitem>
               <listitem><para>On each backup node, click <guilabel>Force Failure</guilabel> (megaphone icon) to force fail each backup node. </para>
            <para>Each node fails and each event on that node fails back to its original node. </para>
            <para>Note that at this point you can use <guilabel>Force Failure</guilabel> to force fail because all the nodes are now using the same software version.</para>
            </listitem></orderedlist>               
        <formalpara><title>Manually Move Events</title>
                <para>For all nodes that are not “strictly backup nodes”, you must review the event allocation and manually move the events back to their original nodes, if this allocation is important.</para></formalpara>
               <orderedlist>
<listitem><para>Using the list you prepared when getting ready, display the Conductor web interface and look at the events on each node. Identify events that are not on the nodes that they “belong to”.</para>
</listitem>                
                   <listitem><para>If you need to move an event, you must:</para>
                <orderedlist>
                    <listitem><para>Stop the event.</para></listitem>
                <listitem><para>Change its node.</para></listitem>
                <listitem><para>Reset the event.</para></listitem>
                <listitem><para>Restart the event.</para></listitem></orderedlist>
                <para>The fastest way to make this change is using the REST API. If you use the API, you should be able to make the change with a downtime of approximately 10 seconds (given that it takes an event approximately 7 seconds to start up). See &move_apis;<!--xref define locally -->Using the API to Move Events for more information.</para></listitem>
               </orderedlist>
                <formalpara><title>Revert Failover Threshold Value</title>
               <para> If you have not yet done it, revert the Failover Threshold to the original or default value.</para></formalpara>
               <para> On the Conductor web interface, go to <guilabel>Settings</guilabel> &gt; <guilabel>Failover</guilabel> and reset to the original value, or default 12 seconds.</para>'>
  
  
 <!ENTITY upg_up_sample
'     <para>Following is a screen printout of a typical upgrade, showing the prompts and possible responses. </para>
     <programlisting language="none">[elemental@hostname ~]$ <command>sudo sh ./&installer_name;_&version_short;.0.12345.run --skip-all</command>
Verifying archive integrity... All good.
Uncompressing Elemental Installer............
Network device eth0 already initialized...
Stopping Apache..
Checking Elemental System Update
Starting system update
New system update version: 25101
Skipping System Update, version 25101 has already been applied
Installing &servicenamelong; &version_short;.1.12345
Network device eth0 already initialized...
&nbsp;
Welcome to the product installation utility!
Version information:
        &servicenamelong; (CPU) &version_short;.0.12345
        -------------------------
        ruby 1.9.3p484 (2013-11-22 revision 43786) [x86_64-linux]
        Rails 3.2.17
        mysql  Ver 14.14 Distrib 5.1.73, for redhat-linux-gnu (x86_64) using readline 5.1
        Elemental Git revision 543f5b87
&nbsp;
Checking license files.
IMPORTANT INFORMATION
.
.
.
Continue? [Y] y
&nbsp;
2. LICENSE AND RESTRICTIONS.
.
.
.
Continue? [Y] y
&nbsp;
TERM AND TERMINATION.  This Agreement is effective until terminated.  This 
.
.
.
&nbsp;
Continue? [Y] y
.
.
.
Do you agree to these terms? [N] y</programlisting>
 <para> The &servicenamelong; services and the database are stopped.</para>
  <programlisting language="none">Stopping services...
Starting mysqld:                                           [  OK  ]
&nbsp;
Stopping mysqld:                                           [  OK  ]
Starting mysqld:                                           [  OK  ]</programlisting>
<para>The software is updated.</para>
  <programlisting language="none">Creating/Updating database...
Running migrations - this could take a while.
Database updated!
Database creation complete!
Loading Rails environment...
Adding node to database...
Saving settings...
Adding cluster stat monitors...
Adding node stat monitors...
Adding cluster scheduled tasks...
Adding node scheduled tasks...
Adding licensing scheduled tasks...</programlisting>
  <para>Files are verified.</para>
  <programlisting language="none">Checking hardware and license files...
[2014-08-29 22:24:31 +0000 SERVICE]: 8 CPU cores available, max CPU load: 21.12
&nbsp;
Hardware and license check complete
Creating default directory structures and data
Setting server defaults...
Checking user presets...
Checking user profiles...
Changing permissions and ownership...
Cleaning elemental_ipc...
Removing tmp...
Removing cached files
Configuring Apache...
Adding Elemental service...
Configuring log rotation...
Configuring SNMP...
Configuring dynamic libraries...
Configuring NTP...
Setting sysctl configuration and adding to /etc/rc.local...
Configuring Avahi...</programlisting>
  <para>Services are started.</para>
  <programlisting language="none">Shutting down SMB services:                                [  OK  ]
Starting SMB services:                                     [  OK  ]
&nbsp;
Setting CPU scaling governorStarting services...
Starting system logger:                                    [  OK  ]
Starting httpd:                                            [  OK  ]
Starting ntpd:                                             [  OK  ]
Shutting down Avahi daemon:                                [  OK  ]
Starting Avahi daemon...                                   [  OK  ]
Starting snmpd:                                            [  OK  ]</programlisting>
  <para>The user is prompted to start elemental_se.</para>
  <programlisting language="none">Would you like to start the Elemental service now? [Y] y
Starting elemental_se:                                     [  OK  ]
Starting elemental-issue:                                  [  OK  ]
&nbsp;
Installation and configuration complete!
Please open a web browser and point it to http://10.4.136.91 to get to the web
interface.
Enjoy!
[elemental@hostname ~]$ </programlisting>'> 
  
  <!ENTITY dg_step_clean_db
  '<formalpara><title>Choose clean database or restore previous database</title>
       <para>When you downgrade, you must either clear your database entirely or provide a backup of a database created with the version of the software you are downgrading to.</para>
     </formalpara>
     <para>For example, if you were running version &dg_minus1_version_short; and created several profiles, then upgraded to &version_short; and now want to downgrade to &dg_minus1_version_short; again, you can restore your &dg_minus1_version_short; database when you downgrade. New profiles created in &version_short; will be lost, but those created in &dg_minus1_version_short; will remain.</para>
     <para>To use a database backup, locate the most recent backup of the version you are downgrading to. Backups are made on a regular basis (as specified in Settings &gt; General on the Conductor web interface). The file has this syntax: <filename>/home/elemental/database_backups/elemental-db-backup_&lt;product_name&gt;_n.n.n_yyyy-mm-dd_hh-mm-ss.tar</filename></para>
     <example><programlisting language="none">elemental-db-backup_conductor_&cond_db;_&dg_minus1_version_short;.0_2016-12-02_21-01-36.tar</programlisting></example>
     <para>Perform the following steps on the &servicenamelong; hardware unit.</para>'>
     
  
     
     <!ENTITY dg_step_sec
     '<formalpara><title>Downgrade the secondary Conductor</title>
       <para>Repeat the downgrade steps on the secondary Conductor node, logged into the secondary Conductor node. The steps are identical to the steps for the primary node. The command is as follows. Use the actual filename of the <filename>.run</filename> file, rather than the example below.</para>
     </formalpara>
    <programlisting language="none">[elemental@hostname ~]$ <command>sudo ./&installer_name;_&dg_minus1_version_short;.n.nnnnn.run -n -xeula --start</command></programlisting>'>
     
     <!ENTITY dg_step_worker
     '  <procedure><title>Downgrade</title>
       <step><para>Enter the following command.</para>
         <programlisting language="none">[elemental@hostname ~]$ <command>chmod 755 elemental_production_&worker_short;_&dg_minus1_version_short;.n.nnnnn.run</command></programlisting>
       </step>
       <step>
         <para>Run the prepare for downgrade script.</para>
         <programlisting language="none">[elemental@hostname ~]$ sudo /opt/elemental_se/web/script/prepare_for_downgrade.sh elemental_production_server_2.13.n.nnnnn.run</programlisting>
       </step>
       <step>
         <para>Downgrade the active worker nodes following these steps. See the <ulink url="&url-doc-domain;elemental-server/latest/upgradeguide">&ESRVRlong; Upgrade Guide</ulink>.</para>
         <para>Run the installer with the skip-all option. Use the following commands with the actual filename of the <filename>.run</filename> file, rather than the example below.</para>
         <programlisting language="none">[elemental@hostname ~]$ sudo ./elemental_production_&worker_short;_&dg_minus1_version_short;.x.xxxxx.run --skip-all -xeula --start --cleandb --downgrade</programlisting>
  <para>Where:</para>
 <itemizedlist> 
<listitem>   <para><code>--skip-all</code>: Skips the configuration prompts you followed the first time you installed. The existing configuration is unchanged.</para>
  </listitem>
   <listitem><para><code>-xeula</code>: Skips the prompts to read through the EULA. You are prompted once to accept it.</para>
  </listitem>
   <listitem><para><code>--start</code>: Specifies to start the services without being prompted.</para>
  </listitem>
   <listitem><para><code>--cleandb</code>: Deletes the existing database from the node. When the node is brought back into the cluster, it will start using the Conductor node’s database. It is essential to include this switch in order to force the worker node to use that database!</para>
  </listitem>
   <listitem><para><code>--downgrade</code>: Tells the installer that an earlier version is being installed.</para>
 </listitem>
 </itemizedlist>
       </step>
       <step>
         <para>Answer the prompts as follows:</para>
         <table>
         <tgroup cols="2">
           <colspec colname="prompt" colnum="1"/>
           <colspec colname="response" colnum="2"/>
           <thead>
             <row>
               <entry>Prompt</entry>
               <entry>Response</entry>
             </row>
           </thead>
           <tbody>
             <row>
               <entry><computeroutput>Remove this node from the Conductor system?</computeroutput></entry>
               <entry>Type <userinput>No</userinput>.</entry>
             </row>
             <row>
               <entry><computeroutput>What is the hostname or IP address of the cluster management node?</computeroutput></entry>
               <entry>Type the IP address of the management interface (typically eth0 or bond 0) on the primary Conductor node.</entry>
             </row>
           </tbody>
         </tgroup>
         </table>
       </step>
     </procedure>
     <formalpara><title>Downgrade the AJA Card Firmware</title>
       <para>Follow this step only if you have worker nodes that have the 8-port SDI card (AJA Corvid 4000 or AJA Corvid 8000 card). Use the actual filename of the <filename>.run</filename> file, rather than the example below.</para>
     </formalpara>
     <programlisting language="none">[elemental@hostname ~]$ <command>sudo ./elemental_production_&worker_short;_&dg_minus1_version_short;.x.xxxxx.run --skip-all -xeula --start --cleandb --downgrade</command></programlisting>
     <procedure><title>Reboot</title>
       <step>
         <para>As soon as the installation is complete, restart the node.</para>
         <programlisting language="none">[elemental@hostname ~]$ <command>sudo reboot</command></programlisting>
  <para>On the Conductor web interface a message appears to indicate the node is deactivated (offline).</para>
       </step>
       <step>
         <para>When the node has rebooted, the Conductor web interface displays a message to indicate the node is back online.</para>
       </step>
       <step>
         <para>Refresh your web browser on the worker node in order to load the updated web interface.</para>
       </step>
       <step>
         <para>Repeat these steps on each worker node.</para>
       </step>
     </procedure>'>
     
     <!ENTITY clean-intro
     '  <para> This appendix describes how to perform a clean install of the software. This type of downgrade involves re-installing the kickstart on all of the nodes. </para>
   <para>Plan to downgrade during a maintenance period because all activity on the nodes will stop during downgrade.</para>
   <formalpara><title>Same procedure to install &worker; and &servicenamelong;</title>
   <para>The procedure for downgrading &worker; and &servicenamelong; is the same; only the file name is different. The procedure for downgrading the version of the product is also the same for every version; only the version numbers in the file name change. </para></formalpara>
   <para>It does not matter whether you install &worker; or &servicenamelong; first.</para>
  <para> In this procedure, we illustrate how to downgrade to &servicenamelong; version &dg_minus1_version_short;.0.12345.</para>
   <para role="topiclist">Summary</para>'>
   
   <!ENTITY clean-ready-save
   '<para>During the kickstart part of a clean install, all the files on the node are permanently deleted. Before you begin, you must first copy important files to another location.</para>
     <procedure>
       <step><para>Locate the following files on the node, in the /home/elemental directory:</para>
         <itemizedlist>
           <listitem><para>The installer for the Elemental software version you are downgrading to.</para>
             <para>Example: <filename>&installer_name;_&dg_minus1_version_short;.0.12345.run</filename></para>
             <para>If you do not have this file, you can download it again at &ESC_activations;.</para></listitem>
           <listitem><para>Your license file or files. They will either be a set of .lic files or a single <filename>.tgz</filename> file.</para></listitem>
           <listitem><para>Any custom scripts or other assets you wish to keep.</para></listitem>
         </itemizedlist>
       </step>
       <step>
         <para>Copy these files to a directory on another system. For example:</para>
         <itemizedlist>
           <listitem><para>Use Windows Share protocol: Connect to<code> \\&lt;node IP&gt;\elemental</code> on a PC.</para></listitem>
           <listitem><para>Use Samba: Connect to <code>smb://&lt;node IP&gt;/elemental </code>on a Mac.</para></listitem>
         </itemizedlist>
       </step>
     </procedure>'>
     
        
     <!ENTITY install_file
     '   <row>
                                    <entry><para><filename>&installer_name;n.n.n.nnnnn.run</filename></para>
                                        <para>where n.n.n.nnnnn is the version you want to downgrade to, for example 2.51.12345</para></entry>
                                    <entry>The installer for the version that you are downgrading to.</entry>
                                </row>'>
     
     <!ENTITY  db_file
     '<row>
                                    <entry><filename>database_backups/elemental-db-backup_&product;_n.n.n.nnnnn_yyyy-mm-dd_hh-mm-ss.tar</filename></entry>
                                    <entry>The database backup that was automatically created when you upgraded from this version, in a compressed, aggregated format.</entry>
                                </row>'>
     
     <!ENTITY  actkey_file
     '<row>
                                    <entry><filename>activation_xxxx-<replaceable>&lt;random characters&gt;</replaceable><filename>.key</filename> </filename></entry>
                                    <entry>The activation key for your license, present only if you installed software yourself.</entry>
                                </row>'>
     
     <!ENTITY  comp_file
     '<row>
                                    <entry><filename>lic-download-<replaceable>&lt;hostname&gt;</replaceable><filename>.tgz</filename></filename></entry>
                                    <entry>Aggregated, compressed file with all your license files. You will either have this file,
                                    or a set of individual <code>.lic</code> files.</entry>
                                </row>'>
     
     <!ENTITY  ui_file
     ' <row>
                                    <entry><filename>ui.lic</filename></entry>
                                    <entry>A license for &servicenamelong;.</entry>
                                </row>'>
     
     <!ENTITY  eme_file
     '<row>
                                    <entry><filename><filename>eme.lic</filename></filename></entry>
                                    <entry>A license for &servicenamelong;.</entry>
                                </row>'>
     
     <!ENTITY  cable_file
     ' <row>
                                    <entry><filename>cable.lic</filename></entry>
                                    <entry>The license for the Cable Labs option, if installed.</entry>
                                </row>'>                
       
       <!ENTITY no 'Type <userinput>No</userinput>.'>
       <!ENTITY yes 'Type <userinput>Yes</userinput>.'>
       <!ENTITY yes_a 'If applicable, type <userinput>Yes</userinput> to open the related port.'> 	   
      
      <!ENTITY  install_cluster
      '  <para>For GPU and CPU versions of the software:</para>
                <para><emphasis role="italic">Conductor</emphasis>
                </para>
                <programlisting language="none">[elemental@hostname ~]$ sudo sh ./&installer_name;_&delta_ug_dg_version;.n.nnnnn.run -l -z -t --restore-db-backup &lt;path to database backup&gt;</programlisting>
                <para><emphasis role="italic">Worker</emphasis></para>
                <programlisting language="none">[elemental@hostname ~]$ sudo sh ./elemental_production_&worker_short;_&delta_ug_dg_version;.n.nnnnn.run -l -z -t --restore-db-backup &lt;path to database backup&gt;</programlisting>
                <para>For CPU-only versions of the software:</para>
                <para><emphasis role="italic">Conductor</emphasis></para>
                <programlisting language="none">[elemental@hostname ~]$ sudo sh ./&installer_name;_cpu_&delta_ug_dg_version;.n.nnnnn.run -l -z -t --restore-db-backup &lt;path to database backup&gt;</programlisting>
                <para><emphasis role="italic">Worker</emphasis></para>
                <programlisting language="none">[elemental@hostname ~]$ sudo sh ./elemental_production_&worker_short;_cpu_&delta_ug_dg_version;.n.nnnnn.run -l -z -t --restore-db-backup &lt;path to database backup&gt;</programlisting>
                <para>Where -l is a letter, not a number.</para>'>
                
                
                <!ENTITY  clean_exp_yes
                ', and &lt;path to database backup&gt; is the path and filename of the backup file of the database that you&apos;re restoring'>
                
                <!ENTITY clean_yes
                ' --restore-db-backup &lt;path to database backup:gt;'>
           
           <!ENTITY  install_standalone_cs
      '<programlisting language="none">[elemental@hostname ~]$ sudo sh ./&installer_name;_&delta_ug_dg_version;.nnnnn.run -l -z -t</programlisting>
                <para>where -l is a letter, not a number.</para>'>
                
  <!ENTITY dhcp_rec_yes
  ' <para>If you plan to bond eth0 and eth1 (which you will set up in a later phase), we recommend that you enter a static IP address and set up eth0, eth1, and bond0 all on the same subnet.</para>'>
  
  <!ENTITY  nameserver_addr
  ': 10.6.16.10'>
               
   <!ENTITY prompt_hostname       
             '         <row>
                 <entry><computeroutput>Enter this server’s Hostname</computeroutput></entry>
                 <entry><para>Type the hostname of this hardware unit. For example, <userinput>&product;-01</userinput></para>
                 </entry>
               </row>'>
               
    <!ENTITY prompt_mgmt           
            '  <row>
                 <entry><computeroutput>Is eth0 a management interface?</computeroutput></entry>
                 <entry>Type <userinput>Yes</userinput>.</entry>
               </row>'>
               
               <!ENTITY prompt_dhcp
             '  <row>
                 <entry><computeroutput>Does eth0 use DHCP to get its IP address?</computeroutput></entry>
                 <entry> <para>Type <userinput>Yes</userinput> to use DHCP or type <userinput>No</userinput> to enter a static IP address.</para>
                  &dhcp_rec;</entry>
               </row>'>
               
               <!ENTITY prompt_eth0
              ' <row>
                 <entry><computeroutput>Enter eth0&apos;s IP address: </computeroutput></entry>
                 <entry>If you chose static, type the IP address for this hardware unit.</entry>
               </row>'>
               
               <!ENTITY prompt_netmask
              ' <row>
                 <entry><computeroutput>Enter eth0&apos;s NETMASK:</computeroutput></entry>
                 <entry>If you chose static, type the netmask for this hardware unit.</entry>
               </row>'>
               
               <!ENTITY prompt_gateway
             '  <row>
                 <entry><computeroutput>Enter eth0&apos;s Gateway (or type <userinput>none</userinput>):</computeroutput></entry>
                 <entry>If you chose static, type <userinput>none</userinput> or type the gateway for this hardware unit.</entry>
               </row>'>
               
            
               
            <!ENTITY prompt_eth1   
              ' <row>
                 <entry><computeroutput>Would you like to configure eth1?</computeroutput></entry>
                 <entry>Type <userinput>No</userinput>; you can configure eth1 in the next phase of the configuration.</entry>
               </row>'>
               
            
               
               <!ENTITY prompt_pword
              ' <row>
                 <entry><computeroutput>For security purposes, we require that you change the default password.</computeroutput></entry>
                 <entry>This prompt is shown if you are still using the default password.</entry>
               </row>'>
               
               <!ENTITY prompt_cl3_cluster
             '  <row>
                 <entry><computeroutput>Is this machine a part of or intended to be a part of a Conductor Live 3 cluster?</computeroutput></entry>
                 <entry>&cl3_cluster;</entry>
               </row>'>
               
               <!ENTITY prompt_cl2_cluster
              ' <row>
                 <entry><computeroutput>Is this machine a part of or intended to be a part of a Conductor Live 2 cluster?</computeroutput></entry>
                 <entry>&cl2_cluster;</entry>
               </row>'>
               
               <!ENTITY prompt_smux
               '<row>
                 <entry><computeroutput>Is this a Statmux machine, or intended to be linked to a Statmux machine?</computeroutput></entry>
                 <entry>&statmux_prompt;</entry>
               </row>'>
               
               <!ENTITY prompt_snmp
              ' <row>
                 <entry><computeroutput>Will this machine require use of SNMP alerts?</computeroutput></entry>
                 <entry>&yes_a;</entry>
               </row>'>
               
               <!ENTITY prompt_rtmp
              ' <row>
                 <entry><computeroutput>Will this machine be ingesting RTMP?</computeroutput></entry>
                 <entry>&yes_a;</entry>
               </row>'>
               
               <!ENTITY prompt_mpegts
              ' <row>
                 <entry><computeroutput>Will this machine ingest MPEG-TS over UDP? (ports 5000-5100)</computeroutput></entry>
                 <entry>&yes_a;</entry>
               </row>'>
               
               <!ENTITY port_hardening
               '<row>
                 <entry><computeroutput>Starting port hardening. Port hardening is performed when upgrading from pre-2.11 versions of Elemental Live and pre-3.4 Elemental Conductor.</computeroutput></entry>
                 <entry>None. Informational message only.</entry>
               </row>'>
               
               <!ENTITY prompt_pool
              ' <row>
                 <entry><computeroutput>Is this machine licensed as part of a licensing pool?</computeroutput></entry>
                 <entry>&licensing_prompt;</entry>
               </row>'>
               
               <!ENTITY prompt_filesharing
              ' <row>
                 <entry><computeroutput>Will this machine serve files using Windows file-sharing (Samba/CIFS)?</computeroutput></entry>
                 <entry>&yes_a;</entry>
               </row>'>
               
               <!ENTITY prompt_ntp
            '   <row>
                 <entry><computeroutput>Will this machine be an NTP server?</computeroutput></entry>
                 <entry>&yes_a;</entry>
               </row>'>
               
               <!ENTITY prompt_timezone
               "<row>
                 <entry><computeroutput>Select time zone ('n' for more)</computeroutput></entry>
                 <entry>Enter the time zone you want to show on the web interface of the nodes. This setting does not affect activity via SSH or via the REST API.</entry>
               </row>">
               
               <!ENTITY prompt_start
             '  <row>
                 <entry><computeroutput>Would you like to start the Elemental service now?</computeroutput></entry>
                 <entry>Type <userinput>Yes</userinput>.</entry>
               </row>'>
               
               <!ENTITY clean-install-restore
               '     <para>Now that you have a clean install of the operating system and &AWSE; software on each node, copy the files that you saved in &step_a; back to their original locations on the nodes.</para>
'>

<!ENTITY install_cl_cf_l_sdg_important
'   <important><para>In a high availability deployment, you cannot downgrade back to version 2.6 or earlier. To return your cluster to 2.6 or earlier, perform a clean install.</para></important>
'>

<!ENTITY clean-install-config
' <para> Now that each system has the appropriate software installed, see &cf_cfig_current; for instructions on bringing your worker nodes into a cluster controlled by
      the Conductor.</para>  '>
   
   <!ENTITY  w_upg_intro_cluster_yes
   '   <para>The upgrade commands are the same, but the procedure around upgrades changes depending on your type of cluster. The following sections provide instructions for the different kinds of &servicenamelong; clusters.</para>
'>
   
    <!ENTITY downgrade_intro_headless
      '<para>As part of the downgrade of the Conductor node, the Conductor software stops working. When this happens, all of the worker nodes go into "headless" mode. The following rules apply until you downgrade all of the worker nodes:</para>
<itemizedlist>
  <listitem><para>You cannot control the worker nodes from the Conductor web interface.</para></listitem>
  <listitem><para>The web interfaces of the worker nodes will have limited functionality: you will only be able to stop and start existing &job_event;s.</para></listitem>
</itemizedlist>
   <para>During headless mode, activity continues on the worker nodes, but you can&apos;t control the worker node.</para>'>
   
 <!ENTITY downgrade_intro  
  '<para>In a Conductor cluster, downgrade the &servicenamelong; nodes first, and then downgrade each of the &worker; nodes.</para>
   <formalpara><title>Downgrade rules</title>
   <para>The following rules apply when you&apos;re downgrading.</para></formalpara>
   <itemizedlist>
     <listitem><para>Your system must be in a working state prior to the downgrade. If it&apos;s in a degraded state (such as not accepting &job_event;s or not responding through the web interface), the downgrade will not work.</para></listitem>
     <listitem><para>You can downgrade to a version that&apos;s a maximum of two major versions below your current version, such as from &version_short;.x to &delta_dg_version_short;.x. The number of patches between the two versions is irrelevant. To downgrade over a bigger span, you must perform several downgrades, such as from &version_short;.0 to &delta_dg_version_short;.4, then &dg_minus2_version_short;.2.</para>
     <para>In a high availability deployment, you cannot downgrade back to version 2.6 or earlier. To return your cluster to 2.6 or earlier, perform a clean install.</para>
</listitem>
   </itemizedlist>
   <para>The downgrade commands are the same, but the procedure around upgrades changes depending on your type of cluster. The following sections provide instructions for the different kinds of &servicenamelong; clusters.</para>
      <important><para>Plan to downgrade during a maintenance window. All activity on the nodes stops during the downgrade.</para></important>
      <para role="topiclist">Summary</para>'>

   <!ENTITY upg_single_cluster_intro
   '<para>This section describes how to upgrade a cluster with one &servicenamelong; node. All worker &worker; nodes are active: there is no redundancy between worker nodes.</para>
    <para>The procedure for upgrading any version of a single-Conductor cluster is the same; only the version numbers in the file name change. In this section, we show how to upgrade to version &version_example; of the software.</para>
    <important>
      <para>Refer to the &servicenamelong; &version_short; Release Notes to identify changes in
        requirements and behavior with the upgrade.</para>
    </important>
   <formalpara><title>Quick reference</title>
    <para>Here are the key upgrade commands. Use the actual filename of the <filename>.run</filename> file that you&apos;re using, rather than that provided in the example.</para></formalpara>
	<itemizedlist>
	<listitem><para>For the Conductor node:</para>
    &upg_up_installer_command;</listitem>
	<listitem><para>For the &worker; nodes:</para>
	<itemizedlist>
	 <listitem><para>For GPU and CPU versions of the software.</para>
                 <programlisting language="none">[elemental@hostname ~]$ <command>sudo sh ./&worker_installer_name;_&delta_ug_dg_version;.n.nnnnn.run --skip-all --start</command></programlisting></listitem>
               <listitem><para>For CPU-only versions of the software.</para>
                <programlisting language="none">[elemental@hostname ~]$ <command>sudo sh ./&worker_installer_name;_cpu_&delta_ug_dg_version;.n.nnnnn.run --skip-all --start</command></programlisting>
                </listitem></itemizedlist>
				</listitem>
				</itemizedlist>
	
    <para>Fore more detailed instructions, see the following topics.</para>
    <para role="topiclist"/>'>
     
     <!ENTITY  upg_sa_comm_ls
     '  <itemizedlist>
       <listitem><para>For GPU and CPU versions of the software.</para>
         <programlisting language="none">[elemental@hostname ~]$ <command>sudo sh ./&installer_name;_&delta_ug_dg_version;.n.nnnnn.run --skip-all --start</command></programlisting></listitem>
       <listitem><para>For CPU-only versions of the software.</para>
         <programlisting language="none">[elemental@hostname ~]$ <command>sudo sh ./&installer_name;_cpu_&delta_ug_dg_version;.n.nnnnn.run --skip-all --start</command></programlisting></listitem></itemizedlist>'>
         
         
         <!ENTITY  dng_sa_comm_ls
     ' <programlisting language="none">[elemental@hostname ~]$ <command>sudo ./&installer_name;_n.n.nnnnn.run --skip-all -xeula --start --downgrade --restore-db-backup &lt;file/path&gt;</command></programlisting>
         <para>where <userinput>n.n.nnnnnn</userinput> is the version and build number of the software that you&apos;re downgrading to, such as &dg_minus1_version_short;.3.36542.</para>'>
         
         
         <!ENTITY  upg_sa_comm_sm
     '<programlisting language="none">[elemental@hostname ~]$ <command>sudo sh ./&installer_name;_&delta_ug_dg_version;.n.nnnnn.run --skip-all --start</command></programlisting></listitem>'>
    
     <!ENTITY upg_ha_cluster_intro
   '<para>This section describes how to upgrade a cluster with two &servicenamelong; nodes - one primary and one secondary that provides high availability. All worker &worker; nodes are active: there is no redundancy between worker nodes.</para>
    <para>The procedure for upgrading any version of a high availability Conductor cluster is the same; only the version numbers in the file name change. In this section, we show how to upgrade to version &version_example; of the software.</para>
   <important>
      <para>Refer to the &servicenamelong; &version_short; Release Notes to identify changes in
        requirements and behavior with the upgrade.</para>
    </important>
  <formalpara><title>Quick reference</title>
    <para>Here are the key upgrade commands. Use the actual filename of the <filename>.run</filename> file that you&apos;re using, rather than that provided in the example.</para></formalpara>
	<itemizedlist>
	<listitem><para>For the Conductor nodes:</para>
    &upg_up_installer_command;</listitem>
	<listitem><para>For the &worker; nodes:</para>
	<itemizedlist>
	 <listitem><para>For GPU and CPU versions of the software.</para>
                 <programlisting language="none">[elemental@hostname ~]$ <command>sudo sh ./&worker_installer_name;_&delta_ug_dg_version;.n.nnnnn.run --skip-all --start</command></programlisting></listitem>
               <listitem><para>For CPU-only versions of the software.</para>
                <programlisting language="none">[elemental@hostname ~]$ <command>sudo sh ./&worker_installer_name;_cpu_&delta_ug_dg_version;.n.nnnnn.run --skip-all --start</command></programlisting>
                <para>Where -l is a letter, not a number.</para></listitem></itemizedlist>
				</listitem>
				</itemizedlist>
    <para>Fore more detailed instructions, see the following topics.</para>
    <para role="topiclist"/>'>
    
     <!ENTITY upg_bup_cluster_intro
   '<para>This section describes how to upgrade a cluster with redundant &worker; worker nodes. This procedure applies whether you have one or two Conductor nodes.</para>
    <para>The procedure for upgrading any version of a redundant-worker cluster is the same; only the version numbers in the file name change. In this section, we show how to upgrade to version &version_example; of the software.</para>
    <formalpara><title>Quick reference</title>
    <para>Here are the key upgrade commands. Use the actual filename of the <filename>.run</filename> file that you&apos;re using, rather than that provided in the example.</para></formalpara>
	<itemizedlist>
	<listitem><para>For the Conductor node:</para>
    &upg_up_installer_command;</listitem>
	<listitem><para>For the &worker; nodes:</para>
	<itemizedlist>
	 <listitem><para>For GPU and CPU versions of the software.</para>
                 <programlisting language="none">[elemental@hostname ~]$ <command>sudo sh ./&worker_installer_name;_&delta_ug_dg_version;.n.nnnnn.run --skip-all --start</command></programlisting></listitem>
               <listitem><para>For CPU-only versions of the software.</para>
                <programlisting language="none">[elemental@hostname ~]$ <command>sudo sh ./&worker_installer_name;_cpu_&delta_ug_dg_version;.n.nnnnn.run --skip-all --start</command></programlisting>
                <para>Where -l is a letter, not a number.</para></listitem></itemizedlist>
				</listitem>
				</itemizedlist>
    <para>Fore more detailed instructions, see the following topics.</para>
    <para role="topiclist"/>'>
    
    <!ENTITY upg_up_installer
'<listitem>
              <para>Run the installer with the skip-all option:</para>
            &upg_up_installer_command;
              <para>The installer automatically stops the software, if it&apos;s still running. The following
                prompts are skipped:</para>
<itemizedlist>
          <listitem>
              <para>You are not prompted to change the network setup (eth0 and eth1) or the
                Ethernet partitioning (setup of eth0 as a management interface).</para>
          </listitem>
          <listitem>
              <para>You are not prompted to choose the time zone.</para>
          </listitem>
          <listitem>
              <para>You are not prompted to enable or disable user authentication.</para>
          </listitem>
           &server_cluster;
</itemizedlist>
            <para>You <emphasis>are</emphasis> prompted to accept the EULA (end user license agreement).</para>
              <para>The new software is installed and all services except <code>elemental_se</code> are
                automatically be restarted.</para>
      </listitem>'>
      
   
      
      <!ENTITY lic-ret-act                 
          '          <row>
                        <entry>Step a: Retrieve Activation Code</entry>
                        <entry>Your workstation</entry>
                        <entry>Activation email</entry>
                        <entry>Activation code</entry>
                    </row>'>
                    
         <!ENTITY lic-gen-key               
          '          <row>
                        <entry>Step b: Generate License Activation Key File</entry>
                        <entry>The &AWSE; system, via an SSH client like PuTTY</entry>
                        <entry>Activation code</entry>
                        <entry>Key file (<filename>.key</filename> )</entry>
                    </row>'>              
                    
          <!ENTITY lic-dl
          '     <row>
                        <entry>Step c: Download Licenses from the &AWSE; User Community</entry>
                        <entry>Your workstation</entry>
                        <entry>Key file (<filename>.key</filename> )</entry>
                        <entry>Tarball file (<filename>.tgz</filename>)</entry>
                    </row>'>
                    
          <!ENTITY  lic-install
                  '  <row>
                        <entry>Step d: Install the License Files</entry>
                        <entry>Your workstation</entry>
                        <entry>Unlicensed software with limited functionality</entry>
                        <entry>Fully licensed, full-feature software</entry>
                    </row>'>
                    
          <!ENTITY lic-distr
                  '  <row>
                        <entry>Step d: Distribute and Unpack the License Files</entry>
                        <entry>Your workstation</entry>
                        <entry>Tarball files (<filename>tar.gz</filename> or <filename>.tgz</filename>) on your workstation</entry>
                        <entry>License files (<filename>.lic</filename>) on nodes that will run &AWSE; software</entry>
                    </row>'>
                    
                           
            <!ENTITY  email_ls_upg_yes
            'If you&apos;re installing software for more than hardware unit, you should have received a separate code for each one.'>
                                                
     <!ENTITY generate-license-access-step
     '<step><para>Follow the instructions in &detailed_dl; to get to the <guilabel>Order Detail</guilabel> page on the 
     &ESC_activations;.</para></step>'>
                    
<!ENTITY generate-license-generate-step 
         '  <step><para>On the <guilabel>License Information</guilabel> page, choose <guilabel>Generate</guilabel>.</para>
                         <mediaobject>
    <imageobject>
      <imagedata fileref="images/install-licinfo-shared-png.png" format="PNG"/>
    </imageobject>
  </mediaobject>
                    </step>'>
                    
        <!ENTITY generate-license-key-step  
        '  <step><para>On the <guilabel>Generate Licenses</guilabel> page, select <guilabel>Choose File</guilabel> to browse to and select your <filename>.key</filename>  file.</para>
                        </step>'>                             									
      
       <!ENTITY generate-license-repeat-step
       '<step><para>Repeat these steps for each hardware unit that will have &AWSE; software.</para></step>'>
  
    <!ENTITY not_cl3_update 'Back on the Licenses screen, choose <guilabel>Update</guilabel>.'>
    <!ENTITY cl3_update 'Choose <guilabel>Upload</guilabel>.'>
    
   <!ENTITY not_cl3_choose 'Choose File'>
   <!ENTITY cl3_choose 'Upload License'>
 
                    
                    
                   
                    <!ENTITY cluster-config
                    '<row>
                        <entry>All scenarios</entry>
                        <entry>Configuring a Conductor Cluster – Quick Guide<!--xref - change name?--></entry>
                    </row>'>
                    
                    <!ENTITY single-delta-config
                    '<row>
                        <entry>One &servicenamelong; node</entry>
                        <entry>Configuring a Stand-alone Node – Quick Guide<!--xref - change name?--></entry>
                    </row>'>
                               
                   
                    
     <!ENTITY  error_eth0
     ' <row>
                    <entry>eth0 is not set up</entry>
                    <entry>You didn&apos;t specify the address for eth0. Review the prompts in &eth0_setup;.</entry>
                </row>'>
                
                <!ENTITY  error_eme
                '<row>
                    <entry><filename>eme.lic</filename> is not valid</entry>
                    <entry>If you&apos;re installing licenses on several hardware units, you may have installed the wrong <filename>eme.lic</filename> license on this unit. Review the steps in &licensing_setup;.</entry>
                </row>'>
                
                <!ENTITY  error_cable
                '<row>
                    <entry><filename>cable.lic</filename> is not valid</entry>
                    <entry>If you&apos;re installing licenses on several hardware units, you may have installed the wrong cable.lic license on this unit. Review the steps in &licensing_setup;.</entry>
                </row>'>
                
                <!ENTITY  error_products
                '<row>
                    <entry>Products do not match</entry>
                    <entry>You might have requested and installed a license for one product (for example, &servicenamelong;) and then installed a different product (for example, &other_product;).</entry>
                </row>'>
                    
                    
                 <!ENTITY  installing_lines_live
'Installing AJA Driver
Installing Deltacast Driver'>

<!ENTITY upd_pw_yes ' and update the password'>
<!ENTITY  upd_pw_y_prompt 'For security purposes, we require that you change the default password.' >

<!ENTITY upd_delta_pl_y 'Updating Delta Playlists...'>  


<!ENTITY sample_interfaces
'<para>Interfaces are configured with the new information.</para>
<programlisting language="none">Bringing up loopback interface: &#160;&#160;&#160;[ &#160;OK &#160;]
Bringing up interface eth0: &#160;
Determining IP information for eth0... done.
&#160;&#160;&#160;[ &#160;OK &#160;] Bringing up interface eth1: &#160;
Determining IP information for eth1... done.
&#160;&#160;[ &#160;OK &#160;]</programlisting>'>

<!ENTITY sample_configured
'<para>The &servicenamelong; software is configured.</para>
<programlisting language="none">Creating/Updating database...
Running migrations - this could take a while.
Database creation complete!
Loading Rails environment...
Adding node to database...
Saving settings...
Adding cluster stat monitors...
Adding node stat monitors...
Adding cluster scheduled tasks...
Adding node scheduled tasks...
Adding licensing scheduled tasks...
Hardware and license check complete
Creating default directory structures and data</programlisting>'>

<!ENTITY sample_continue
'<para>The installation continues.</para>
   <programlisting language="none">Changing permissions and ownership...
Cleaning elemental_ipc...
Removing tmp...
Removing cached files
Configuring Apache...
Adding Elemental service...
Configuring log rotation...
Configuring apache...
&upd_delta_pl;
..Configuring SNMP...
Configuring dynamic libraries...
Configuring NTP...
Setting sysctl configuration and adding to /etc/rc.local...
Shutting down SMB services: [60G[[0;32m &#160;OK &#160;[0;39m]
Starting SMB services: [60G[[0;32m &#160;OK &#160;[0;39m]
&nbsp;
Configuring RabbitMQ.........
&nbsp;
Setting CPU scaling governor
Starting services...
Starting system logger: [60G[[0;32m &#160;OK &#160;[0;39m]
Starting httpd: httpd.worker: Could not reliably determine the server&apos;s fully qualified domain name, using ::1 for ServerName
[60G[[0;32m &#160;OK &#160;[0;39m]
Starting ntpd: 
Starting snmpd: [60G[[0;32m &#160;OK &#160;[0;39m]</programlisting>'>

<!ENTITY sample_restart
  '<para>You are prompted to start elemental_se.</para>
   <programlisting language="none">Would you like to start the Elemental service now? [Y] 
Starting elemental_se: &#160;&#160;&#160;&#160;[ &#160;OK &#160;]
Starting elemental-motd: &#160;&#160;[60G[[0;32m &#160;OK &#160;[0;39m]
Starting elemental-issue: &#160;[ &#160;OK &#160;]
&nbsp;
Installation and configuration complete!
Please open a web browser and point it to http://&delta_IP; to get to the web interface.
Enjoy!</programlisting>'>

<!ENTITY sample_tz
'<para>You are prompted for the time zone and user authentication.</para>
    <programlisting>Configuring time zone...
...
Select time zone (&apos;n&apos; for more) [Pacific Time (US &amp; Canada)]
Selected: Pacific Time (US &amp; Canada)
Do you wish to enabled authentication [N]</programlisting>'>

<!ENTITY  server_support
'<row>
          <entry><para>Stand-alone deployments</para></entry>
          <entry><para>&servicenamelong; nodes are not in a cluster controlled by &mgmt;.</para></entry>
          <entry>This guide.</entry>
        </row>
        <row>
          <entry>Single Conductor cluster</entry>
          <entry>&servicenamelong; nodes in a cluster controlled by one &mgmt; node.</entry>
          <entry>&cf_upg_current;</entry>
        </row>
        <row>
          <entry>High-availability cluster</entry>
          <entry>&servicenamelong; nodes in a cluster controlled by two &mgmt; nodes (a primary and a backup).</entry>
          <entry>&cf_upg_current;</entry>
        </row>'>
        
<!ENTITY smux_support
'<row>
          <entry><para>Stand-alone deployments</para></entry>
          <entry><para>&servicenamelong; nodes are not in a cluster controlled by &mgmt;.</para></entry>
          <entry>This guide.</entry>
        </row>
        <row>
          <entry>&mgmt; simple cluster</entry>
          <entry>&servicenamelong; nodes in a cluster controlled by one &mgmt; node without backup worker nodes.</entry>
          <entry>&cl3_upg_current;</entry>
        </row>
        <row>
          <entry>&mgmt; high-availability cluster, no worker redundancy</entry>
          <entry>&servicenamelong; nodes in a cluster controlled by two &mgmt; nodes (a primary and a backup). No backup worker nodes.</entry>
          <entry>&cl3_upg_current;</entry>
        </row>
        <row>
          <entry>&mgmt; with worker redundancy</entry>
          <entry><para>One of the following:</para>
          <itemizedlist>
            <listitem><para>&servicenamelong; nodes with backup &servicename; nodes, in a cluster controlled by one &mgmt; node.</para></listitem>
            <listitem><para>&servicename; nodes with backup &servicename; nodes, in a cluster controlled by two &mgmt; nodes (a primary and a backup).</para></listitem>
          </itemizedlist></entry>
          <entry>&cl3_ins_current;</entry>
        </row>'>
   
   <!ENTITY  dn_loc_db_step
   ' <para>Every time that you upgrade, a backup of the database is automatically made and in the following location.</para>
           <programlisting language="none">/home/elemental/database_backups/elemental-db-backup_&product;_n.n.n.n_yyyy-mm-dd_hh-mm-ss</programlisting>
<example>
    <para><filename>elemental-db-backup_&product;_&version_example;.4_2018-02-08_21-01-36.tar</filename></para></example>
     <para>When you perform a downgrade, you must specify a database to restore. Ideally, you should restore the backup that corresponds to the version you are downgrading to. For example, when downgrading to &dg_minus1_version_short;.4, restore the &dg_minus1_version_short;.4 database.</para>
     <para>However, if that database is not available, you can use a database that is earlier (but not below 2.6.0). For example, when downgrading to &dg_minus2_version_short;.4, you could restore the &dg_minus2_version_short;.1 database. You will lose all entities you created between &dg_minus2_version_short;.4 and &dg_minus2_version_short;.1 – the profile, events, and so on.</para>
     <para>Make a note of the path and filename of the database you will restore. There is no need to copy it to another location because performing a downgrade does not affect your file structure in /home/elemental/</para>
   '>
   
   <!ENTITY  upg_dn_installer
   ' <step>
         <para>From the Linux prompt, log in with the <emphasis>elemental</emphasis> user credentials.
         Once you are logged in, the initial directory is <filename>/home/elemental</filename>.</para>
       </step>
       <step><para>Enter the following command.</para>
         <programlisting language="none">[elemental@hostname ~]$<command> chmod 755 &installer_name;_&dg_minus1_version_short;.n.nnnnn.run</command></programlisting></step>
       <step>
         <para>Run the prepare for downgrade script.</para>
         <programlisting language="none">[elemental@hostname ~]$ <command>sudo /opt/elemental_se/web/script/prepare_for_downgrade.sh -i ./&installer_name;_&dg_minus1_version_short;.n.nnnnn.run</command></programlisting>
       </step>
       <step>
         <para>Run the installer as follows:</para>
         &dng_sa_comm_ls;
         <para>Switches are as follows:</para>
         <itemizedlist>
           <listitem>
             <para><code>--skip-all</code>: Skips the configuration prompts that you followed the first time that you installed the software. The existing configuration is unchanged.</para>
           </listitem>
          <listitem>
            <para><code>-xeula</code>: Skips the prompts to read through the EULA. You are prompted
              once to accept it.</para>
          </listitem>
          <listitem>
            <para><code>--start</code>: Specifies to start the services without being
              prompted.</para>
          </listitem>
           <listitem>
             <para><code>--downgrade</code>: Tells the installer that an earlier version is being installed.</para>
           </listitem>
          <listitem>
            <para><code>--restore-db-backup &lt;path&gt;</code>: Installs the version old version of
              the database backup file. Provide the path and filename in the following format. </para>
            <programlisting language="none">/home/elemental/elemental-db-backup_&lt;date&gt;_&lt;version&gt;.tar</programlisting>
          </listitem>
        </itemizedlist>
         <example><programlisting language="none">[elemental@hostname ~]$ <command>sudo ./&installer_name;_&dg_minus1_version_short;.3.36542.run --skip-all -xeula --start --downgrade --restore-db-backup /home/elemental/database_backups/elemental-db-backup_conductor_&cond_db;_&dg_minus1_version_short;.3.36542_2016-12-22_19-05-29.tar</command></programlisting></example>
        <para>The installer looks for the database file that you specified and checks that it is a
          compatible version. If the file is not found or is not compatible, the downgrade
          fails.</para>
        <para>The installer automatically stops the software, if it is running. You will be prompted
          to accept the EULA (end user license agreement).</para>
        <para>The new software is installed. During installation, the database is restored. Finally,
          all services except elemental_se are automatically restarted.</para>
       </step>'>
       
       <!ENTITY sa_clean_intro
       ' <para>This section describes how to perform a clean install of the software and is applicable as follows:</para>
   <itemizedlist> 
       <listitem><para>It applies to downgrading from any version of &servicenamelong; to any other version, when you want to perform a clean install. </para></listitem>
        <listitem><para>It applies to downgrading to version 2.5.x and is the only way to downgrade from one version of 2.5.x to a lower version of 2.5.x. </para>
   </listitem></itemizedlist>
            <para>This type of downgrade involves re-installing the kickstart on all the hardware units. All the files in /home/elemental are lost, so the procedure includes steps for first copying important files to another location.</para>
<para>The procedure for kickstarting any version of &servicenamelong; is the same; only the version numbers in the file name change. In this procedure, we show how to downgrade to version &dg_version_short;.1.12345.</para>
<para role="topiclist">Summary</para>'>

<!ENTITY clean_install_restore_sa
' <para>Now that your operating system is reinstalled, restore the files that you copied back onto the &servicenamelong; hardware unit, to /home/elemental. </para>
            <para>Enter this command to extract the database.</para>
                        <programlisting language="none">[elemental@hostname ~]$ <command>tar -xvf elemental-db-backup_&product;_&version_example;.1.12345_2018-03-18_17-34-38.tar</command></programlisting>  '>
                                            
                    
           <!ENTITY extract_license_files
                 '    <para>Each <filename>.tgz</filename> file is named as follows: <filename>lic-download-&lt;hostname&gt;<filename>.tgz</filename></filename></para>
<procedure><title>To extract the files and point the software at them</title>
                        <step><para>Put the <filename>.tgz</filename> files in a convenient directory on your workstation. Make a note of the path.</para></step>
                            <step><para>Unpack each <filename>.tgz</filename> file. The <filename>.tgz</filename> file contains one or more of the following files:</para>  
                             <itemizedlist>   
                                 <listitem><para><filename>eme.lic</filename>: This file is always included.</para></listitem>
                                    <listitem><para>ui.lic: This file might be included.</para></listitem>
                                   <listitem><para>cable.lic: This file is included only if your deployment includes the Cable Package option.</para></listitem></itemizedlist>
                                            <important><para>Take care to unpack the files methodically so that you can track which 
                                            hostname a particular file belongs to. For example, put each <filename>.tgz</filename> file in a directory called licenses_&lt;hostname&gt;, then unpack directly into this directory.</para></important>
                                                <para>Perform the following steps for each hardware unit for which you received license files.</para></step>
                                                    <step><para>On the &servicenamelong; node, display the web interface. From the main menu, choose <guilabel>Settings</guilabel> &gt; <guilabel>Licenses</guilabel>. The Licenses screen appears.</para></step>
<step><para>Choose <guilabel>Browse</guilabel> and navigate to the directory where you placed the license files for the node with this hostname. Select the first in the directory.</para></step>
<step><para>Back on the Licenses screen, choose <guilabel>Update</guilabel>. The license file will be installed. Repeat for each license file: <filename>eme.lic</filename>, ui.lic, cable.lic (if applicable).</para></step>
<step><para>Repeat steps 3 to 5 for each hardware unit.</para></step></procedure>'>      

<!ENTITY  cl2_configure
'<row>
                        <entry>Multiple &servicenamelong; nodes managed by &mgmt2;.</entry>
                        <entry>Configuring a Conductor Cluster Quick Guide<!--link - update if title changes--></entry>
                    </row>'>
                    
                    <!ENTITY about_cg
                    ' <para>This guide is intended for engineers who are performing the initial configuration on one or more &AWSE; nodes that are in an &servicenamelong; cluster. In other words, this guide describes how to set up &worker; nodes in a &servicename; cluster. </para>
     <formalpara><title>Phase 2 of Installation</title>
       <para>This guide provides detailed information on phase 2 of installation, including:</para></formalpara>
       <itemizedlist>
         <listitem><para>Configure all the nodes into a cluster so that they can be controlled by Elemental Conductor.</para></listitem>
         <listitem><para>Enable user authentication so that users must log in to use any product.</para></listitem>
           <listitem><para>Add users, if user authentication is enabled.</para></listitem>
             <listitem><para>Configure the time zone, DNS server, NTP servers, firewall, and alert notifications.</para></listitem>
               <listitem><para>Configure other Ethernet interfaces, as required.</para></listitem>
                 <listitem><para>Configure routers and other input devices.</para></listitem></itemizedlist>
   &prereq_knowledge;'>
   
   <!ENTITY clive_cluster_yes '    In addition, the worker nodes in the cluster can be set up in a redundant or non-redundant configuration. In a redundant configuration, when a worker node fails, its events automatically fail over to another node.
'>

<!ENTITY clive_cluster_row_yes
'      <row>
          <entry><para>Redundant (some workers are backups while others are active)</para></entry>
          <entry>Non-redundant (only one Conductor node)</entry>
        </row>
        <row>
          <entry><para>Redundant (some workers are backups while others are active)</para></entry>
          <entry>Redundant (two Conductor nodes)</entry>
        </row>'>
        
        <!ENTITY config_gen_info
        '<formalpara><title>CPU-only and GPU-enabled</title>
      <para>There are two processing architectures for &worker;: CPU-only and GPU-enabled.</para></formalpara>
    <para>In an &servicenamelong; cluster, the &servicename; nodes and the &worker; nodes must be either all running CPU-only versions of software, or all running GPU-enabled versions of software. So both &servicename; and all &worker; nodes must all be running CPU-only software versions, or all be running GPU-enabled software.</para>
    <formalpara><title>Redundancy and Non-Redundant Clusters</title>
      <para>The &servicenamelong; cluster can be set up in a redundant or non-redundant Conductor configuration. &clive_cluster;</para>
    </formalpara>
    <itemizedlist>
      <listitem><para>A redundant configuration involves setting up two &servicename; nodes. Only one Conductor node controls the cluster at a time, but both are active and performing database replication.</para></listitem>
      <listitem><para>In a non-redundant configuration, there is only one Conductor node.</para></listitem>
    </itemizedlist>
    <para>This table summarizes the available cluster options for &servicenamelong;:</para>
 <table>   
   <tgroup cols="2">
      <colspec colname="worker" colnum="1"/>
      <colspec colname="conductor" colnum="2"/>
      <thead>
        <row>
          <entry>Workers</entry>
          <entry>Conductor</entry>
        </row>
      </thead>
      <tbody>
 <row>
   <entry><para>Non-redundant</para></entry>
   <entry>Non-redundant (only one Conductor node)</entry>
 </row>
        <row>
          <entry><para>Non-redundant</para></entry>
          <entry>Redundant (two Conductor nodes)</entry>
        </row>
  &clive_cluster_row;
      </tbody>
   </tgroup>
 </table>
    <para>This guide describes how to set-up all of these configurations.</para>'>
                      
 <!ENTITY config_web_access
  ' <para>Many of the steps in this procedure involve working in the web interface.</para>
    <para>To display the web interface for the primary Conductor, enter the hostname or IP address of that node in a web browser.</para>
    <para>If you answered Yes to the prompt “Do you wish to enable authentication”, then when you display the web interface, the Login screen will appear. </para>
    <para>Log in to the web interface using the “admin” credentials you created via the configure script.</para>
    <important><para>You cannot log in using the <emphasis>elemental</emphasis> user credentials!</para></important>'>
  
  <!ENTITY  config_where_work
  '<para>The procedures in this guide use one of three screens on the Conductor web interface. All work is done from the Conductor web interface; there is never a need to switch to the web interface for a worker.</para>
    <para>The three screens are:</para>
    <itemizedlist>
      <listitem><para>The Node Configuration screen for a Conductor node.</para></listitem>
      <listitem><para>The Node Configuration screen for a worker node.</para></listitem>
        <listitem><para>The Conductor Configuration screen for a Conductor node.</para></listitem></itemizedlist>
          <para>These three screens cover slightly different configuration features, and are accessed in slightly different ways. The following tables provides more detail.</para>
          <table><title/>
            <tgroup cols="3">
              <colspec colname="screen" colnum="1"/>
              <colspec colname="nav" colnum="2"/>
              <colspec colname="purpose" colnum="3"/>
              <thead>
                <row>
                  <entry>Screen</entry>
                  <entry>How to Navigate to this Screen</entry>
                  <entry>Purpose of this Screen</entry>
                </row>
              </thead>
              <tbody>
                <row>
                  <entry>Node Configuration screen for Conductor</entry>
                  <entry>From the Conductor web interface: <guilabel>Nodes</guilabel> &gt; <guilabel>Edit</guilabel> (wrench icon)</entry>
                  <entry>Configures the Conductor node as one of several nodes in the cluster. Includes network settings, mount points, and firewall for &servicenamelong;.</entry>
                </row>
                <row>
                  <entry>Node Configuration screen for worker</entry>
                  <entry>From the Conductor web interface: <guilabel>Nodes</guilabel> &gt; <guilabel>Edit</guilabel> (wrench icon)</entry>
                  <entry>Configures the worker node as one of several nodes in the cluster. Include network settings, mount points, and firewall for &worker;.</entry>
                </row>
                <row>
                  <entry>Conductor Configuration screen</entry>
                  <entry>From the Conductor web interface: Configuration (cog icon) in the main menu</entry>
                  <entry>Configures the Conductor in its special role as the manager of the cluster. Includes failover management, authentication on the cluster, SNMP management, and so on.</entry>
                </row>
              </tbody>
            </tgroup>
          </table>
    <important><para>Take care to go to the correct screen! Do not confuse the Node Configuration screen with the Conductor Configuration screen. </para></important>
<formalpara><title>Node Configuration Screen</title>
  <para>This example shows the Node Configuration screen for a Conductor node. The screen for a worker node is nearly identical.</para>
</formalpara>
    <mediaobject>
      <imageobject>
        <imagedata fileref="images/ready-node-shared-png.png" format="PNG"/>
      </imageobject>
    </mediaobject>
    <formalpara><title>Conductor Configuration Screen</title>
    <para>This example shows the Conductor configuration screen.</para>
    </formalpara>
    <mediaobject>
      <imageobject>
        <imagedata fileref="images/ready-cond-shared-png.png" format="PNG"/>
      </imageobject>
    </mediaobject>'>
    
    <!ENTITY sdi_topic_yes '<listitem><para><xref linkend="config-cond-cl-cg-sdi" endterm="config-cond-cl-cg-sdi.title"/></para></listitem>'>
    
    <!ENTITY rtmp_topic_yes ' <listitem><para><xref linkend="config-cond-cl-cg-rtmp" endterm="config-cond-cl-cg-rtmp.title"/></para></listitem>'>
    
    
      <!ENTITY prompt_hostname_config       
          '         <row>
            <entry><computeroutput>Enter this server’s Hostname</computeroutput></entry>
            <entry>&cfig_prompt_already;
              <para>Change the value only if you realize that you have given the same hostname to more than one hardware unit in the cluster.</para>
            </entry>
          </row>'>
          
          <!ENTITY cfig_prompt_already
          '<para>This is already set to the value that you entered or accepted during node installation. For more information, see &srvr_cfig_current;.</para>'>
          
           <!ENTITY prompt_mgmt_config           
          '  <row>
            <entry><computeroutput>Is eth0 a management interface?</computeroutput></entry>
            <entry>&cfig_prompt_already;</entry>
          </row>'>
          
          <!ENTITY prompt_dhcp_config
          '  <row>
            <entry><computeroutput>Does eth0 use DHCP to get its IP address?</computeroutput></entry>
            <entry>&cfig_prompt_already;</entry>
          </row>'>
          
          <!ENTITY prompt_eth0_config
          ' <row>
            <entry><computeroutput>Enter eth0&apos;s IP address: </computeroutput></entry>
            <entry>&cfig_prompt_already;</entry>
          </row>'>
          
          <!ENTITY prompt_netmask_config
          ' <row>
            <entry><computeroutput>Enter eth0&apos;s NETMASK:</computeroutput></entry>
            <entry>&cfig_prompt_already;</entry>
          </row>'>
          
          <!ENTITY prompt_gateway_config
          '  <row>
            <entry><computeroutput>Enter eth0&apos;s Gateway (or type <userinput>none</userinput>):</computeroutput></entry>
            <entry>&cfig_prompt_already;</entry>
          </row>'>
          
           <!ENTITY prompt_nameserver_config
          '<row>
            <entry><computeroutput>Keep this configured nameserver&nameserver;?</computeroutput></entry>
            <entry>Skip; you will set up a nameserver on the web interface.</entry>
          </row>'>
          
          <!ENTITY prompt_eth1_config   
          ' <row>
            <entry><computeroutput>Would you like to configure eth1?</computeroutput></entry>
            <entry>Skip; you will set up more Ethernet devices on the web interface.</entry>
          </row>'>
          
          <!ENTITY prompt_firewall_config
          ' <row>
            <entry><computeroutput>The firewall for this system is currently disabled. Would you like to enable it?</computeroutput></entry>
            <entry>Skip; you can set up the firewall on the web interface.</entry>
          </row>'>
          
          <!ENTITY prompt_secondary_config
          ' <row>
            <entry><computeroutput>Configure this node as the secondary node?</computeroutput></entry>
            <entry>See the following section <emphasis>Configuring the Conductor Nodes</emphasis>.</entry>
          </row>'>
          
          
          <!ENTITY prompt_timezone_config
          "<row>
            <entry><computeroutput>Select time zone ('n' for more)</computeroutput></entry>
            <entry>Change the time zone as appropriate. This impacts only the web interface.</entry>
          </row>">
          
    
  
  <!ENTITY config_cond_eth_add
  ' <orderedlist>
      <listitem><para>On the &servicenamelong; web interface, choose <guilabel>Nodes</guilabel> in the main menu.</para></listitem>
        <listitem><para>On the <guilabel>Nodes</guilabel> screen, choose <guilabel>Edit</guilabel> (wrench icon) beside the primary Conductor node.</para></listitem>
          <listitem><para>On the <guilabel>Network Configuration</guilabel> screen, choose <guilabel>Network</guilabel> &gt; <guilabel>Network Devices</guilabel>.</para>
             &warning_red;</listitem>
                <listitem><para>On the <guilabel>Network Devices</guilabel> tab, choose <guilabel>Add Network Device</guilabel>.</para></listitem>
                  <listitem><para>In the <guilabel>Add Network Device</guilabel> dialog, select <guilabel>eth</guilabel> as the device type and choose <guilabel>Save</guilabel>.</para></listitem>
      <listitem><para>In the <guilabel>Edit a Network Device</guilabel> dialog, complete the fields as follows:</para>
                        <itemizedlist>
                          <listitem><para><guilabel>Device Name</guilabel>: Specify "ethN" (for example, <userinput>eth1</userinput>).</para></listitem>
                          <listitem><para><guilabel>Management</guilabel>: Leave unchecked. eth0 has already been set up as the management interface and you do not need more than one management interface in the cluster. The management interface is ideally connected to a network dedicated to communication between Conductor and its worker nodes.</para></listitem>
                            <listitem><para><guilabel>Description</guilabel>: Optional.</para></listitem>
                              <listitem><para><guilabel>Address Mode</guilabel>: Select <guilabel>DHCP</guilabel>, <guilabel>Static</guilabel>, or <guilabel>None</guilabel>. We recommend that you select <guilabel>Static</guilabel> if you plan to bond the two Conductor management interfaces.</para>
                                <para>If you choose Static Routing, extra fields appear for you to configure the device: <guilabel>IP Address</guilabel>, <guilabel>Netmask</guilabel>, (optional) <guilabel>Gateway</guilabel>, and (optional) <guilabel>Static Routes</guilabel>.</para></listitem></itemizedlist></listitem>
                                  <listitem><para>Choose <guilabel>Save</guilabel>. The new device appears in the Network Devices list.</para></listitem>
                                    <listitem><para>&repeat_eth;</para></listitem>
      
    </orderedlist>'>
    
    <!ENTITY  repeat_eth_cond
    'If there is another Conductor node in the cluster, repeat these steps on the web interface for that node.'>
    
    <!ENTITY  repeat_eth_wrkr
    'Repeat these steps for each worker in the cluster.'>
    
    <!ENTITY  warning_red_yes
    ' <important><para>This screen has a warning in red. It does not apply the first time you set up network devices. </para></important>'>
    
                      
                     <!ENTITY  bond_use_yes
                     '<para>One specific use case applies if you have two Conductor nodes: you can bond the two management interfaces on the two nodes.</para>'>
                     
                     <!ENTITY config_cond_eth_bond_create
                      '<orderedlist> 
       <listitem><para>Make sure that you have set up the two devices that you want to bond.</para></listitem>
        <listitem><para>On the Conductor web interface, choose <guilabel>Nodes</guilabel> in the main menu.</para></listitem> 
          <listitem><para>On the <guilabel>Nodes</guilabel> screen, choose <guilabel>Edit</guilabel> (wrench icon) beside the primary Conductor node.</para></listitem>
            <listitem><para>On the <guilabel>Node Configuration</guilabel> screen, choose <guilabel>Network</guilabel> &gt;<guilabel> Network Devices</guilabel>.</para></listitem>
              <listitem><para>On the <guilabel>Network Devices</guilabel> tab, choose <guilabel>Add Network Device</guilabel>.</para></listitem>
                <listitem><para>In the <guilabel>Add Network Dialog</guilabel> dialog, select <guilabel>bond</guilabel> as the device type. The dialog immediately expands to include more fields.</para></listitem>
                    <listitem><para>Complete the fields as follows:</para>
                      <table><title/>
                        <tgroup cols="2">
                          <colspec colname="field" colnum="1"/>
                          <colspec colname="description" colnum="2"/>
                          <thead>
                            <row>
                              <entry>Prompt</entry>
                              <entry>Action</entry>
                            </row>
                          </thead>
                          <tbody>
                            <row>
                              <entry><guilabel>Bond ID</guilabel></entry>
                              <entry>A number that is unique among your bonded interfaces.</entry>
                            </row>
                            <row>
                              <entry><guilabel>Management</guilabel></entry>
                              <entry><itemizedlist>
                                <listitem><para>Checked: if you are creating a bond in order to bond two management interfaces. For example, if you want to set up both eth0 and eth1 as management interfaces, with eth1 as a backup in case eth0 fails.</para></listitem>
                                <listitem><para>Unchecked: if you are not bonding two management interfaces.</para></listitem>
                              </itemizedlist></entry>
                            </row>
                            <row>
                              <entry><guilabel>Description</guilabel></entry>
                              <entry>Optional.</entry>
                            </row>
                            <row>
                              <entry><guilabel>IP Address</guilabel>, <guilabel>Netmask</guilabel>, and <guilabel>Gateway</guilabel></entry>
                              <entry><para>The fields appear only if you set Address Mode to Static. </para>
                                <para>The eth0, eth1, and bond0 devices should all be on the same subnet.</para></entry>
                            </row>
                            <row>
                              <entry><guilabel>Static Routes</guilabel></entry>
                              <entry>Optional.</entry>
                            </row>
                            <row>
                              <entry><guilabel>Mode</guilabel></entry>
                              <entry>Choose the mode that meets your networking requirements.</entry>
                            </row>
                            <row>
                              <entry>More fields</entry>
                              <entry>Depending on the mode, more fields may appear. Complete them as required to meet your networking requirements.</entry>
                            </row>                            
                          </tbody>
                        </tgroup>
                      </table>
                    </listitem>
                      <listitem><para>Choose <guilabel>Save</guilabel>. The new device appears in the Network Devices list.</para></listitem>
                        <listitem><para>&repeat_create_bond; </para></listitem></orderedlist>'>
                        
                        <!ENTITY  repeat_create_bond_cond
                        'If you have a secondary Conductor node, switch to the web interface for that node and repeat these steps.'>
                        
                        <!ENTITY  repeat_create_bond_wrkr
                        'If you have additional worker nodes, switch to the web interface for each node and repeat these steps.'>
                        
                        <!ENTITY config_cond_eth_bond_assign
                        '<orderedlist>
       <listitem><para>Revise the two regular Ethernet devices as follows:</para>
       <itemizedlist> 
         <listitem><para><guilabel>Management</guilabel>: Always Unchecked. This indicates that whether the devices are management or not is defined in the bond, not in the individual devices.)</para></listitem>
          <listitem><para><guilabel>Master Device</guilabel>: Select the bond that you just created (for example, bond0).</para></listitem></itemizedlist></listitem>
            <listitem><para>Choose <guilabel>Save</guilabel>. The Network Devices list shows the two Ethernet devices and the bond, as displayed in this example:</para>
              <mediaobject>
                <imageobject>
                  <imagedata fileref="images/confc-device-shared-png.png" format="PNG"/>
                </imageobject>
              </mediaobject>
            </listitem>
              <listitem><para>&repeat_assign; </para></listitem></orderedlist>'>
              
              <!ENTITY  repeat_assign_cond
              'If you have a secondary Conductor node, switch to the web interface for that node and repeat these steps.'>
              
              <!ENTITY  repeat_assign_wrkr
              'If you have additional worker nodes, switch to the web interface for each node and repeat these steps.'>
              
              <!ENTITY config_cond_servers
              '<para>You can configure servers in the following ways:</para>
<itemizedlist>  
  <listitem><para>Create a list of DNS servers for each node to use.</para></listitem>
    <listitem><para>Create a list of NTP servers for each node to use.</para></listitem></itemizedlist>
  
      <procedure><title>To configure servers</title>
        <step><para>On the &servicenamelong; node, choose <guilabel>Nodes</guilabel> in the main menu.</para></step>
        <step><para>On the <guilabel>Nodes</guilabel> screen, choose <guilabel>Edit</guilabel> (wrench icon) beside the primary Conductor node.</para></step>
        <step><para>On the The <guilabel>Hostname, DNS &amp; NTP</guilabel> tab, choose <guilabel>Network &gt; Hostname, DNS &amp; NTP</guilabel>.</para>
          <important><para>This screen has a warning in red. It does not apply the first time you set up DNS and NTP servers.</para></important></step>
                <step><para>Add servers as desired and choose <guilabel>Save</guilabel>.</para></step>
                  <step><para>If you have a secondary Conductor node, switch to the web interface for that node and repeat these steps. </para></step></procedure>'>
                  
                  <!ENTITY config_cond_fw
                  ' <para>You can enable or disable the firewall. By default, the firewall is enabled.</para>
    <para>The installer configures the ports on your firewall that must be open for incoming and outgoing traffic to and from each node. You can open more ports if required for any reason.</para>
    <procedure><title>To open ports on the firewall</title>
      <step><para>On the &servicenamelong; node, click <guilabel>Nodes</guilabel> in the main menu. </para></step>
      <step><para>On the <guilabel>Nodes</guilabel> screen, choose <guilabel>Edit</guilabel> (wrench icon) beside &fw_node; node.</para></step>
        <step><para>On the <guilabel>Node Configuration</guilabel> screen, choose <guilabel>Firewall</guilabel>.</para></step>
            <step><para>Choose <guilabel>Firewall On</guilabel>. A list of ports appears. </para></step>
              <step><para>In the list of ports, add or delete ports as desired.</para></step>
                <step><para>&repeat_fw;</para></step></procedure>'>
                
                <!ENTITY  fw_node_cond
                'the primary Conductor'>
                
                <!ENTITY  fw_node_wrkr
                'a worker node'>
                
                <!ENTITY repeat_fw_cond
                'If you have a secondary Conductor node, switch to the web interface for that node and repeat these steps.'>
                
                <!ENTITY repeat_fw_wrkr
                'Repeat on all worker nodes in the cluster.'>
                
                <!ENTITY config_cond_mount
                '<para>You might want to specify files as the input sources for &job_event;s. You might also have assets such as scripts and image files that you want to use in &job_event;s that are stored in a folder on a remote server. </para>
 <para>For Conductor or a worker node to access remote files, you must mount the remote server
  folder onto the node. The folder will become a “remote share”. The remote share is mounted to:
    <code>/data/mnt/<replaceable>folder</replaceable></code></para>
 <para>where <code><replaceable>folder</replaceable></code> is a folder name that you specify and
  that is then created on the node.</para>
 <procedure><title>To add mount points</title>
  <step><para>On the &servicenamelong; node, click <guilabel>Nodes</guilabel> in the main menu.</para></step>
  <step><para>On the <guilabel>Nodes</guilabel> screen, choose <guilabel>Edit</guilabel> (wrench icon) beside the primary Conductor node.</para></step>
  <step><para>On the <guilabel>Node Configuration</guilabel> screen, choose <guilabel>Mount Points</guilabel>.</para></step>
  <step><para>On the <guilabel>Mount Points</guilabel> screen, complete the screen according to the
    following table and choose <guilabel>Save</guilabel>.</para>
   &mount_settings;
  </step>
  <step><para>Wait a few minutes. The newly mounted folder appears on the screen.</para></step>
  <step><para>If you have a secondary Conductor node, switch to the web interface for that node and repeat these steps. </para></step></procedure>
 <para>The folder on the remote server is now mounted on the Conductor nodes.</para>'>
                    
                    <!ENTITY config_cond_sdi
                    '  <important><para>To configure routers for the entire cluster, you need perform this setup only on the Conductor node. If you have two Conductor nodes, you need perform this setup only on the primary Conductor node. </para></important>
    <para>Your deployment can include routers that route SDI video inputs to &worker; nodes. One router can route to several &worker; nodes. You must set up each router on the Conductor, in order to provide the Conductor and the worker nodes with information about the router. Once this setup is completed, the router will appear in the list of inputs on each worker node.</para>
<procedure><title>To add SDI Video Routers</title>
  <step><para>Identify all of the SDI inputs that you want to use on every &worker; node. Keep in mind that one SDI card may have several inputs; you are not required to use them all.</para> </step>
    <step><para>Identify the outputs on the router that you want to use. You must have one router output for each SDI input (on all the nodes) that you want to use. </para>
      <para>For example, on Node_X you have a 4x SDI card on which you want to use 4 inputs and another 4x SDI card that has only 1 input. On Node_Y, you have an 4x SDI card on which you want to use 2 inputs. This gives a total of 7 inputs.</para>
      <para>This means that you need 7 outputs on the router.</para></step>
      <step><para>On the primary Conductor node, hover over <guilabel>Configuration</guilabel> (cog icon) on the main menu and choose <guilabel>Routers</guilabel> from the dropdown menu. </para>   </step>       
              <step><para>On the <guilabel>Routers</guilabel> screen, choose <guilabel>Add Router</guilabel> and select the appropriate router model.</para></step>
                        <step><para>In the <guilabel>Add Router</guilabel> dialog, complete the fields and choose <guilabel>Create</guilabel>.</para></step>
</procedure>'>

<!ENTITY config_cond_bkup_intro
'<important><para>To set up database backup for the entire cluster, you need perform this setup only on the Conductor node. If you have two Conductor nodes, you need perform this setup only on the primary Conductor node. </para></important>
  <para>All nodes in the cluster – Conductor and worker nodes – share the same database. The &servicenamelong; node is automatically configured to back up the database to a local disk. The following sections describe how to work with the backup.</para>
  <para role="topiclist"/> '>
  
  <!ENTITY config_cond_bkup_view
  '<orderedlist> 
     <listitem><para>On the primary Conductor web interface, choose <guilabel>Configuration</guilabel> (cog icon) on the main menu.</para></listitem>
      <listitem><para>On the <guilabel>Conductor Configuration</guilabel> screen, review the management database fields. </para>
        <para>In the following example, the system creates backups every 24 hours and five consecutive backup files are saved. When the system creates the sixth backup, the it deletes the oldest file before saving the most recent backup.</para>
        <mediaobject>
          <imageobject>
            <imagedata fileref="images/bkup-mgmt-shared-png.png" format="PNG"/>
          </imageobject>
        </mediaobject>
      </listitem>
   </orderedlist>
          <para>Backup files are named in this format: <code>&lt;yyyy-mm-dd_hh-mm-ss.tar.bz2&gt;</code></para>
            <important><para>Similar database fields also appear in the <guilabel>Settings</guilabel> &gt; <guilabel>General</guilabel> screen on the worker nodes. When the workers are part of a cluster, the system ignores the values set on the worker nodes.</para></important>'>
            
            <!ENTITY  config_cond_bkup_change
            '<para>The default folder for backups is on the node at <filename>/home/elemental/database_backups</filename>.</para>
    <para>We strongly advise that you mount a remote folder as the location for backups. In that way, if the hardware unit fails, you can restore the database from that remote folder.</para>
     <procedure><title>To mount a remote folder</title>
       <step><para>Choose a remote server in your organization and designate a folder for backups.</para></step>
       <step><para>Mount that folder to the &servicenamelong; node, as described in &mount_xref;. </para></step>
          <step><para>In <guilabel>Path to Store Management</guilabel> in the &ECF;&apos;s settings, type the path to the mount folder. The path will always start with <filename>/data/mnt/</filename>. For example: <code>/data/mnt/conductor1_backup</code></para></step>
     </procedure>'>
     
 
   
   <!ENTITY config_cond_rtmp
   '<para>To set up worker nodes for RTMP inputs, you need to perform this setup only on the Conductor node. If you have two Conductor nodes, you need to perform this setup only on the primary Conductor node.</para>
   <orderedlist> 
     <listitem><para>On the primary Conductor web interface, hover over <guilabel>Configuration</guilabel> (cog icon) on the main menu and choose <guilabel>Advanced</guilabel> from the dropdown menu.</para></listitem>          
     <listitem><para>On the Conductor Configuration screen, choose the <guilabel>Live Nodes</guilabel> tab and scroll down to the bottom of the screen. </para></listitem>
              <listitem><para>Verify these fields:</para>
               <itemizedlist> 
                 <listitem><para><guilabel>Enable RTMP input</guilabel>: Checked</para></listitem>
                  <listitem><para><guilabel>RTMP input port</guilabel>: Specifies the desired port. The default port (1935) is already enabled on the node. If you specify a different port, you will have to open it on the firewall. For instructions, see &fw_xref;.</para></listitem></itemizedlist>
              </listitem>                        
                        <listitem><para>Choose <guilabel>Save to All</guilabel>.</para></listitem></orderedlist>
                          <important><para>The other fields on these Advanced tabs do not relate to initial configuration. They relate to fine-tuning of the load balance on the nodes. Therefore, they are not described in this guide.</para></important>'>
                         
  
  <!ENTITY config_cond_users_auth
  '<orderedlist>    
  <listitem><para>On the primary Conductor web interface, hover over <guilabel>Configuration</guilabel> (cog icon) on the main menu and choose <guilabel>Authentication</guilabel> from the drop-down menu.</para></listitem>
  <listitem><para>On the Conductor Configuration screen, change the values to suit your preferences and choose <guilabel>Save</guilabel>.</para>
    <important><para>If the Authentication tab does not appear, you did not run the configure script correctly. To rerun the script, see &auth_xref;.</para></important></listitem></orderedlist>'>
    
  
    <!ENTITY live_worker_fail_yes
    'In addition, if you have set up backup rules, the events on the failed worker node will be moved to another node according to that rule.'>
    
    <!ENTITY config_cond_failover_intro
    '<para>This section describes how to set the timeout rate for failover.</para>
  <para>To set up failover timings for the entire cluster, you need to perform this setup only on the Conductor node.
  If you have two Conductor nodes, you need to perform this setup only on the primary Conductor node. </para>
  <procedure><title>To set failover timing</title>
    <step><para>Hover over <guilabel>Configuration</guilabel> (cog icon) on the main menu and choose 
    <guilabel>Authentication</guilabel> from the drop-down menu.</para></step>
      <step><para>On the Conductor Configuration screen, choose <guilabel>Failover</guilabel>.</para></step>              
              <step><para>On the Failover screen, complete the fields and choose <guilabel>Save</guilabel>.</para></step></procedure>
  <para>The fields have the following implications on worker and Conductor nodes.</para>'>
              
              <!ENTITY config_cond_failover_worker
              ' <formalpara><title>Worker Nodes </title>
        <para>The primary Conductor node expects to receive a heartbeat
        from each worker node according to the frequency specified in <guilabel>Heartbeat Frequency</guilabel>. 
        If it does not receive a heartbeat for more than the seconds specified in <guilabel>Failover Threshold</guilabel>, 
        then the Conductor considers the worker node to have failed. </para></formalpara>
        <para>The Conductor node flags the worker node as failed. &live_worker_fail;</para>'>

<!ENTITY config_cond_failover_cond
 ' <formalpara><title>Conductor Nodes</title>
    <para>The settings on this screen have an effect only if you have set up for Conductor redundancy.</para></formalpara>
    <para>The secondary Conductor node expects to receive a heartbeat from the primary Conductor node according to the 
    frequency specified in <guilabel>Heartbeat Frequency</guilabel>. 
    If it does not receive a heartbeat for more than the seconds specified in <guilabel>Failover Threshold</guilabel>, 
    then the secondary Conductor considers the primary node to have failed. It then flags itself as the 
    primary Conductor node and flags the other node as the secondary, and takes over control of the cluster.</para>'>
    
    <!ENTITY  config_cond_red_intro
    '<para>Read this section if you have two Conductor nodes.</para>
  <para>This section describes how to set up the two Conductor nodes to work in a redundant fashion, so that if one node fails, the other node automatically takes control of the cluster, with no loss of data.</para>
  <para>This procedure will likely require 1 hour to complete. </para>
  <para role="topiclist">Summary</para>'>
  
  <!ENTITY config_cond_red_ready
  '<orderedlist> 
     <listitem><para>Identify the interface that you have configured as the management interface. Typically, this is one of the following:</para>
     <itemizedlist> 
       <listitem><para>eth0</para></listitem>
        <listitem><para>bond0, if you bonded the management interfaces for the two Conductor nodes</para></listitem></itemizedlist></listitem>
          <listitem><para>Find the MAC addresses of the management interface for the primary and secondary Conductor nodes.</para>
            <para>If you bonded the management interfaces for the two Conductor nodes, use the <code>ifconfig</code> command to obtain the MAC addresses for bond0.</para>
            <programlisting language="none">[elemental@hostname ~]$ <command>ifconfig</command></programlisting></listitem>
  <listitem><para>Decide on a virtual IP address that will be used by the management interfaces on both Conductor nodes. This address must meet the following criteria:</para>
 <itemizedlist> 
   <listitem><para>An address on your network that will never be allocated to any other host. </para></listitem>
  <listitem><para>An address on the same subnet as the Conductor nodes.</para></listitem></itemizedlist></listitem>
  <listitem><para>Decide on the ID for a virtual router. The ID can be any arbitrary integer from 1-255. This ID must be unique on the subnet for each &AWSE; cluster or any other keepalived-managed VIPs that are in the network. </para></listitem></orderedlist>'>
  
 <!ENTITY config_cond_red_dbrepl
 '  <orderedlist><listitem><para>Use a text editor to create a file called <filename>dbrepl_config.yml</filename> in the home/elemental directory.</para></listitem>
      <listitem><para>Enter the following lines in the file. Make sure to enter values in single quotes. </para>
        <itemizedlist>
          <listitem><para><userinput>primary_hostname</userinput>: The hostname for the primary Conductor. Use one of
              the following:</para>
            <itemizedlist> 
              <listitem><para>The name that you assigned when you installed the Conductor software, regardless of whether
                  you installed on a hardware unit or a VM. For example
                    <userinput>conductor_01</userinput>. </para></listitem>
              <listitem><para>The name that &AWSE; assigned to an appliance: <filename>ecle</filename> or
                    <filename>ecfe</filename> and the serial number (unless you changed this name at
                  some point).</para></listitem></itemizedlist>
          </listitem>
          <listitem><para><userinput>primary_ip</userinput></para></listitem>
          <listitem><para><userinput>primary_mac</userinput>: The MAC address of the management interface on the primary
              Conductor. You identified this address when getting ready in Step A.</para></listitem>
          <listitem><para><userinput>secondary_hostname</userinput>: The hostname for the secondary Conductor, as
              described in <code>primary_hostname</code>.</para></listitem>
          <listitem><para><userinput>secondary_ip</userinput></para></listitem>
          <listitem><para><userinput>secondary_mac</userinput> </para></listitem>
          <listitem><para><userinput>virtual_ip</userinput>: You identified this address when getting ready in Step
              A.</para></listitem>
          <listitem><para><userinput>virtual_router_id</userinput>: You identified this ID when getting ready in Step
              A.</para></listitem>
          <listitem><para><userinput>virtual_ip_interface</userinput>: You identified this interface when getting ready
              in Step A.</para></listitem>
        </itemizedlist></listitem></orderedlist>
    <example>
      <programlisting language="none">primary_hostname: &apos;cl_primary&apos;
primary_ip: &apos;10.4.138.230&apos;
primary_mac: &apos;00:50:56:AE:A5:5D&apos;
secondary_hostname: &apos;cl_secondary&apos;
secondary_ip: &apos;10.4.138.231&apos;
secondary_mac: &apos;00:50:56:AE:A5:60&apos;
virtual_ip: &apos;10.4.138.232&apos;
virtual_router_id: 42
virtual_ip_interface: &apos;eth0&apos;</programlisting></example>'>

<!ENTITY  config_cond_red_script
'<para>This install script configures Conductor redundancy.</para>
    <orderedlist>
      <listitem><para>On the primary Conductor, enter the following command to run the database redundancy install script.</para>
      <programlisting language="none">[elemental@hostname ~]$ <command>sudo /opt/elemental_se/.support_utils/dbrepl configure dbrepl_config.yml primary</command></programlisting>
  <para>where &lt;dbrepl_config&gt; is the file that you created above.</para></listitem>
  <listitem><para>You are prompted to restart the Conductor node. </para>
  <programlisting language="none">[elemental@hostname ~]$ <command>sudo /etc/init.d/elemental_se restart</command></programlisting></listitem>
  <listitem><para>On the secondary Conductor, enter the following command to configure the secondary Conductor.</para>
  <programlisting language="none">[elemental@hostname ~]$ <command>sudo /opt/elemental_se/.support_utils/dbrepl configure dbrepl_config.yml secondary</command></programlisting>
  <para>where &lt;dbrepl_config&gt; is the file you created above.</para></listitem>
  <listitem><para>You are prompted to restart the Conductor node.</para>
  <programlisting language="none">[elemental@hostname ~]$ <command>sudo /etc/init.d/elemental_se restart</command></programlisting></listitem>
    </orderedlist>'>
    
    <!ENTITY config_cond_red_test
    ' <orderedlist>
      <listitem><para>Power off the primary Conductor.</para></listitem>
      <listitem><para>Perform a ping to confirm that the virtual IP is still accessible.</para></listitem>
    </orderedlist>
        <para>Make sure you can access the Conductor web interface.</para>'>
        
        <!ENTITY config_wrkr_mount
        '<para>If you have mounted remote shares on the Conductor node or nodes, we strongly recommend that you mount the same shares on all worker nodes. </para>
  <procedure><title>To add mount points</title>
    <step><para>On the Conductor web interface, hover over <guilabel>Configuration</guilabel> (cog icon) on the main menu and choose <guilabel>Mount Point</guilabel> from the dropdown menu.</para>
    <para>The<guilabel> Conductor Configuration</guilabel> screen appears showing the <guilabel>Cluster Mount Point Settings</guilabel> tab. </para>
    <important><para>This screen has the same fields as the Mount Points screen (where you mounted remote shares for the Conductor nodes). But it is not the same screen!</para></important></step>
        <step><para>Complete the screen with the same information as you entered on the Mount Points screen.</para></step>
  </procedure>
          <para>The folder on the remote server will now be mounted on the worker nodes.</para>'>
          
          <!ENTITY config_wrkr_red_intro
          '<important><para>Typically, the procedure in this section is not part of the initial configuration of the cluster: it is part of the procedures followed during production. However, the procedure is included here in order to provide the complete picture of how worker node redundancy works with Elemental Live nodes.</para></important>
    <para>If an &worker; node fails, the &job_event;s running on the node move to a different node. </para>
    <para>The failure detection relies on the heartbeat, described in &heartbeat_explain;.</para>
    <para>The failover to another node relies on a backup rule that is created for each &job_event; that runs on the node. The backup rule is created when the &job_event; is created. Each &job_event; on the node might have a different rule.</para>
  <para>The following sections describe how to work with backup rules and groups.</para>
  <para role="topiclist"/>'>
  
  <!ENTITY config_wrkr_red_rule
  '  <para>To set up an &job_event; so that it has a backup rule, you must create the &job_event; (or modify an existing &job_event;) via the &servicenamelong; web interface. (Keep in mind that &job_event;s can be created via the Conductor or the worker web interface; you can only specify a backup rule when creating via the Conductor web interface.)</para>
    <para>The &job_event; includes a <guilabel>Backup Rule</guilabel> field. Select from the possible values as described here:</para>
   <itemizedlist>
     <listitem><para><guilabel>None</guilabel>: Failover as a result of node failure will not occur for this &job_event;.</para></listitem>
      <listitem><para><guilabel>Any Active Node</guilabel>: The &job_event; will fail over to any node that is active (not headless or inactive nodes).</para></listitem>
        <listitem><para><guilabel>Group &lt;name&gt;</guilabel>, where &lt;name&gt; is the name of a backup group: The &job_event; will failover to any node in the specified backup group that is not headless or inactive. This option appears only if you have already created backup groups, as described in the next section.</para></listitem>
          <listitem><para><guilabel>Node &lt;name&gt;</guilabel>, where &lt;name&gt; is the name of a worker node in the cluster. The &job_event; will fail over to the specified node. Each node in the cluster appears, so you can specify that an &job_event; will fail over to a specific node. If the selected node has itself failed or is no longer in the cluster by the time this node fails, there will be no failover (failover will try and fail).</para></listitem>
   </itemizedlist>'>
   
   <!ENTITY config_wrkr_red_group
   '   <para>The backup rule for an &job_event; on a node might be to back up to any node in a backup group.</para>
   <procedure><title>To create a backup group</title> 
     <step><para>On the primary Conductor web interface, hover over <guilabel>Nodes</guilabel> and choose <guilabel>Backup Groups</guilabel>.</para></step>         
     <step><para>On the<guilabel> Backup Groups</guilabel> screen, choose <guilabel>New Live Backup Group</guilabel>.</para></step>       
     <step><para> The <guilabel>New Backup Group</guilabel> screen lists all of the nodes that currently belong to the cluster and that are not headless or inactive. Select the nodes to put in the backup group and enter a name for the backup group. </para></step>
                <step><para>Choose <guilabel>Save</guilabel>.</para></step>
                  <step><para>Create more backup groups, as desired.</para></step>
   </procedure>'>
   
   <!ENTITY config_wrkr_add_proc
   ' <para>Add all of the worker nodes to the cluster so that they can be controlled by the Conductor node.</para>
   <important><para>If this is your first time adding worker nodes to a cluster you must add worker nodes to the Conductor File cluster via the CLI. Using the Conductor File web interface to discover the worker node and add to the cluster causes the worker node to go into a failed state.</para></important>
  <procedure><title>To add worker nodes to the cluster via the CLI</title>
    <step><para>On the worker node, enter the following command to change the directory:</para>
    <para><code>cd /opt/elemental_se</code></para></step>
      <step><para>Enter the following command to start the configurations script on the worker node:</para>
      <para><code>sudo ./configure</code></para></step>
        <step><para>After being prompted to add the worker node to the Conductor File cluster, you are asked to trust the public key from the conductor node(s). You must accept this for the Conductor File node to control the worker node.</para></step>
            <step><para>After trusting the public key, continue through the configuration prompts as normal.</para></step>
              </procedure>
              <note><para>After you run the configuration script on the worker node, you can add or remove any future nodes using the Conductor File web interface. EXCEPTION: If you kickstart the worker node after you added it to the Conductor File cluster, you must add it back into the cluster via the CLI again.</para></note>
  <procedure><title>To add worker nodes to the cluster</title>
    <step><para>On the primary Conductor web interface, choose <guilabel>Nodes</guilabel>.</para></step>
      <step><para>On the <guilabel>Nodes</guilabel> screen, scroll down to the list of nodes.</para></step>
        <step><para>Choose <guilabel>All Nodes</guilabel> to display a list of all the Conductor and worker nodes in the network. If a given node does not appear in the list, you must force discovery, as described in the next section.</para></step>
            <step><para>Select the nodes to add to the cluster or use the checkbox to select all nodes, and choose <guilabel>Add to Cluster</guilabel> (+ icon).</para></step>
              <step><para>Wait a few minutes and then select the <guilabel>Cluster</guilabel> tab to view all of the nodes in the cluster.</para></step>
  </procedure>'>
  
  <!ENTITY config_wrkr_add_disc
  ' <para>If a node did not appear in the list of all nodes, you can force its discovery.</para>
    <note><para>If this is your first time discovering or add node to a Conductor File cluster, you must <link linkend="config-wrkr-cf-cg-add.title">add the nodes via the CLI</link> prior to using the web interface for any operations.</para></note>
    <procedure><title>To force discovery</title>
      <step><para>On the primary Conductor web interface, hover over <guilabel>Nodes</guilabel> and select Discover Node<guilabel></guilabel>.</para></step>
      <step><para>On the <guilabel>Discover Node</guilabel> screen, type the hostname or IP address of the node and choose <guilabel>Discover Node</guilabel>. </para></step></procedure>
            <para>The node appears in the <guilabel>All Nodes</guilabel> tab on the <guilabel>Nodes</guilabel> screen.</para>'>
            
            <!ENTITY  cpu_gpu_yes '<para>Make sure that you download the right version of software for the processing architecture that you need, either CPU-only or GPU-enabled.</para>'>
                            
          <!ENTITY  ova-file
            '<listitem><para>A kickstart (<filename>.ova</filename>) file for creating a VM instance. For example, <filename>centos-20161028T12270-production-usb.ova</filename>. </para>
                            <para>You will use this file to put a preconfigured installation of your operating system on your VM.</para></listitem>'>
                           
                            
                             <!ENTITY lic-gen-key-vm               
          '          <row>
                        <entry>Step b: Generate License Activation Key File</entry>
                        <entry>The <code>keygen</code> utility available on the VM</entry>
                        <entry>Activation code</entry>
                        <entry>Key file (<filename>.key</filename> )</entry>
                    </row>'>
                    
                     <!ENTITY retrieve-code
                    '<para>You should have received an email containing an activation code. If you&apos;re installing software for more than one &node_guest;, you will have received a separate code for each one.&email_ls_upg;</para>
            <para>If you didn&apos;t receive this email or have lost it, &support_phrase;.</para>'>
            
                      
                        <!ENTITY  cond_act_yes '&servicenamelong;' >
                                           
     <!ENTITY generate-license-save-step
         '<step><para>Save the <filename>.tgz</filename> file to a place accessible to the &AWSE; system that will be using this license, for example, a directory on your workstation called “licenses”. Make a note of the path. </para>
		 <para>The files are named <filename>lic-download-&lt;hostname&gt;<filename>.tgz</filename></filename>.</para>
                                    </step>'>  

 <!ENTITY generate-license-save-step-cond
         '<step><para>Save the <filename>.tgz</filename> file to a place accessible to the &AWSE; system that will be using this license, for example, a directory on your workstation called “licenses”. Make a note of the path. </para>
		 <para>The files are named <filename>lic-download-&lt;hostname&gt;-primary.tgz</filename> and <filename>lic-download-&lt;hostname&gt;-secondary.tgz</filename>.</para>
                                    </step>'> 
                                    
   <!ENTITY multiple-delta-config
                    '<row>
                        <entry>Two or more &servicenamelong; nodes</entry>
                        <entry>&servicenamelong; &version_short; Configuration Guide</entry>
                    </row>'>
                    
  <!ENTITY generate-license-repeat-step-vm
       '<step><para>Repeat these steps for each virtual machine that will have &AWSE; software.</para></step>'>
       
    <!ENTITY install_cl3
      ' <programlisting language="none">[elemental@hostname ~]$ sudo sh ./&installer_name;_&version_short;.n.nnnnn.run -z -t</programlisting>'>
      
      <!ENTITY  install_sm
      '<programlisting language="none">[elemental@hostname ~]$ sudo sh ./&installer_name;_&version_short;.n.nnnnn.run -l -z -t</programlisting>'>
	  
      
        <!ENTITY prompt_hostname_vm       
             '         <row>
                 <entry><computeroutput>Enter this server’s Hostname</computeroutput></entry>
                 <entry><para>Accept the suggestion, which is the value that you entered when you installed the &ova_qcow;.</para>
                 </entry>
               </row>'>
               
                 <!ENTITY prompt_dhcp_vm
             '  <row>
                 <entry><computeroutput>Does eth0 use DHCP to get its IP address?</computeroutput></entry>
                 <entry> <para>Accept the suggestion.</para>
                 </entry>
               </row>'>
               
               <!ENTITY prompt_eth0_vm
              ' <row>
                 <entry><computeroutput>Enter eth0&apos;s IP address: </computeroutput></entry>
                 <entry>If the prompt appears, accept the suggestion.</entry>
               </row>'>
               
               <!ENTITY prompt_netmask_vm
              ' <row>
                 <entry><computeroutput>Enter eth0&apos;s NETMASK:</computeroutput></entry>
                 <entry>If the prompt appears, accept the suggestion.</entry>
               </row>'>
               
               <!ENTITY prompt_gateway_vm
             '  <row>
                 <entry><computeroutput>Enter eth0&apos;s Gateway (or type <userinput>none</userinput>):</computeroutput></entry>
                 <entry>If the prompt appears, accept the suggestion.</entry>
               </row>'>
                            
                             <!ENTITY install_license_files_cond
   '  <para>Now that you have a <filename>.tgz</filename> compressed license file for each instance of the software you are running, you must point the software to it.</para>
            <para>From your workstation, perform the following steps on each &servicenamelong; node.</para>    
<procedure> 
<step> <para>Navigate to the directory where you saved the <filename>.tgz</filename> file and unpack it.</para></step>
    <step><para>Bring up the web interface for the primary &servicenamelong; system. From the main menu, select <guilabel>Settings</guilabel> &gt; <guilabel>Licenses</guilabel>. The Licenses screen appears.</para>   
    </step>
                <step><para>Select <guilabel>&license_button;</guilabel> and navigate to the directory where you placed the license files. Select the file name with the hostname portion matching the hostname of this node.</para>
                    &lic_screm_img;
                </step>       
                    <step><para>&update_license; The license file will be installed. &cond_licenses;</para>
                    </step>
                       &ver_lic_counts;
                            <step><para>Repeat on the secondary &servicenamelong; node.</para></step></procedure>'>
                            
                            <!ENTITY ver_lic_counts_yes ' <step>
                        <para>Look at the information in the left pane and make sure that:</para>
                        <itemizedlist>
                        <listitem><para><guilabel>Total</guilabel> shows the expected number of licenses in the pool.</para></listitem>
                        <listitem><para><guilabel>Expiration</guilabel> shows the expected expiry date for the licenses.</para></listitem>
                        <listitem><para><guilabel>Product</guilabel> shows the correct product for the worker nodes.</para></listitem>
                        <listitem><para><guilabel>Processing</guilabel> shows the expected CPU and GPU counts.</para></listitem>
                        <listitem><para><guilabel>Pacakages</guilabel> shows the expted options. These are the add-on optionst built in to the &worker; pooled license.</para></listitem>
                        </itemizedlist>
                            </step>'>
                            
                            <!ENTITY  cond_licenses_yes 'Be sure to install each license file: <filename>conductor.lic</filename> and <filename>ui.lic</filename>.'>
                            
                            <!ENTITY kvm_create
                            ' <para>Perform these steps from your workstation.</para>
        <orderedlist>
            <listitem>
                <para>Place the QCOW2 file in a convenient location accessible to the VM
                    host.</para>
            </listitem>
            <listitem>
                <para>Start the Virtual Machine Manager client and choose <guilabel>File</guilabel>
                    > <guilabel>Create New Virtual Machine</guilabel>. </para>
            </listitem>
            <listitem>
                <para>In the <guilabel>New VM</guilabel> dialog, choose <guilabel>Import existing
                        disk image</guilabel> and select <guilabel>Forward</guilabel>.</para>
            </listitem>
            <listitem>
                <para>Complete the fields as described in the following table and then select
                        <guilabel>Forward</guilabel>.</para>
                <table>
                    <title/>
                    <tgroup cols="2">
                        <colspec colname="screen" colnum="1"/>
                        <colspec colname="description" colnum="2"/>
                        <thead>
                            <row>
                                <entry>Screen and Field</entry>
                                <entry>Action</entry>
                            </row>
                        </thead>
                        <tbody>
                            <row>
                                <entry><guilabel>Provide the existing storage
                                    path</guilabel></entry>
                                <entry>Select the location where the QCOW2 image file is
                                    located.</entry>
                            </row>
                            <row>
                                <entry><guilabel>OS type</guilabel></entry>
                                <entry>Select <guilabel>Linux</guilabel>.</entry>
                            </row>
                            <row>
                                <entry><guilabel>Version</guilabel></entry>
                                <entry>Select <guilabel>CentOS 6.5</guilabel>.</entry>
                            </row>
                        </tbody>
                    </tgroup>
                </table>
            </listitem>
            <listitem>
                <para>Complete the memory and CPU fields as described in the following table and
                    then select <guilabel>Forward</guilabel>.</para>
                <table>
                    <title/>
                    <tgroup cols="2">
                        <colspec colname="screen" colnum="1"/>
                        <colspec colname="description" colnum="2"/>
                        <thead>
                            <row>
                                <entry>Screen and Field</entry>
                                <entry>Action</entry>
                            </row>
                        </thead>
                        <tbody>
                            <row>
                                <entry><guilabel>Memory (RAM)</guilabel></entry>
                                <entry>Choose a minimum of 15259 MiB (16GB). If your physical system
                                    has additional RAM available, choose more for improved performance.<note>
                                        <para>If you oversubscribe your memory for your virtual
                                            machine and there isn&apos;t enough for the host, then you
                                            might see performance degradation in the
                                            &servicenamelong; software.</para>
                                    </note></entry>
                            </row>
                            <row>
                                <entry><guilabel>CPUs</guilabel></entry>
                                <entry>Choose <guilabel>24</guilabel>.<important>
                                        <para>Ensure that the number of cores you select matches
                                            your &AWSE; licensing. To check the cores
                                            available with your license, see the <guilabel>Activations</guilabel> information at &ESC_activations;.</para>
                                    </important></entry>
                            </row>
                        </tbody>
                    </tgroup>
                </table>
            </listitem>
            <listitem>
                <para>Complete the installation fields as described in the following table and
                    choose <guilabel>Finish</guilabel>.</para>
                <table>
                    <title/>
                    <tgroup cols="2">
                        <colspec colname="screen" colnum="1"/>
                        <colspec colname="description" colnum="2"/>
                        <thead>
                            <row>
                                <entry>Screen and Field</entry>
                                <entry>Action</entry>
                            </row>
                        </thead>
                        <tbody>
                            <row>
                                <entry><guilabel>Name</guilabel></entry>
                                <entry>Type a descriptive name for the VM. This will be the hostname
                                    that you use to access &servicenamelong;.</entry>
                            </row>
                            <row>
                                <entry><guilabel>Network selection</guilabel></entry>
                                <entry>Use this section to configure your system according to your
                                    network setup.</entry>
                            </row>
                        </tbody>
                    </tgroup>
                </table>
                <para>The QCOW2 is installed and the VM is created.</para>
            </listitem>
            
            <listitem>
                <para>Before proceeding, take a snapshot of the VM, as described in the CentOS 7 online help.</para>
            </listitem>
            <listitem>
                <para>Repeat these steps to install the QCOW2 on all of the VM instances.</para>
            </listitem>
        </orderedlist>'>
        
        <!ENTITY ESC_support '<ulink url="https://console.aws.amazon.com/elemental-appliances-software/home?region=us-east-1#/supportcenter">&AWSE; Support Center</ulink>'>
        <!ENTITY ESC_activations '<ulink url="https://console.aws.amazon.com/elemental-appliances-software/home?region=us-east-1#/activations">&AWSE; Support Center Activations</ulink>'>

        <!ENTITY  dg_step_dg
     ' <procedure> <title>Downgrade the primary Conductor</title>
       <step>
         <para>From the Linux prompt, log in with the <emphasis>elemental</emphasis> user credentials. Once you are logged in, the initial directory is <filename>/home/elemental</filename>.</para>
       </step>
       <step><para>Enter the following command.</para>
         <programlisting language="none">[elemental@hostname ~]$<command> chmod 755 &installer_name;_&dg_minus1_version_short;.n.nnnnn.run</command></programlisting></step>
       <step>
         <para>Run the prepare for downgrade script.</para>
         <programlisting language="none">[elemental@hostnmae ~]$ <command>sudo /opt/elemental_se/web/script/prepare_for_downgrade.sh -i ./&installer_name;_&dg_minus1_version_short;.n.nnnnn.run</command></programlisting>
       </step>
       <step>
         <para>Run the installer.</para>
         <itemizedlist>
           <listitem> <para>If you are restoring a previous database, use this command.</para>
             <programlisting language="none">[elemental@hostname ~]$ <command>sudo ./&installer_name;_&dg_minus1_version_short;.n.nnnnn.run -n -xeula --start --downgrade --restore-db-backup &lt;path&gt;</command></programlisting>
             <para>Where &lt;path&gt; is the path to the backup database, described above. </para></listitem>
           <listitem> <para>If you are creating a new, empty database, use this command. </para>
             <programlisting language="none">[elemental@hostname ~]$ <command>sudo ./&installer_name;_&dg_minus1_version_short;.n.nnnnn.run -n -xeula --start --downgrade -c</command></programlisting>
           </listitem> </itemizedlist>
         <para>Switches are as follows:</para>
         <itemizedlist> 
           <listitem><para><code>-n</code>: Skips the prompts to configure the network.</para></listitem>
           <listitem> <para><code>-xeula</code>: Skips the prompts to read through the EULA. You are prompted once to accept it.</para></listitem>
           <listitem>  <para><code>--start</code>: Specifies to start the services without being prompted.</para></listitem>
           <listitem><para><code>--external-db</code>: Make absolutely sure to include this option.</para></listitem>
           <listitem> <para><code>-c</code>: Clears the database.</para></listitem>
           <listitem> <para><code>--restore-db-backup &lt;path&gt;</code>: Installs the version old version of the database backup file. Provide the path and filename in the following format. </para>
             <programlisting language="none">/home/elemental/elemental-db-backup_&lt;date&gt;_&lt;version&gt;.tar</programlisting></listitem>
         </itemizedlist>
         <example><programlisting language="none">[elemental@hostname ~]$ <command>sudo ./&installer_name;_&dg_minus1_version_short;.3.36542.run --downgrade --restore-db-backup /home/elemental/database_backups/elemental-db-backup_conductor_&cond_db;_&dg_minus1_version_short;.3.36542_2016-12-22_19-05-29.tar</command></programlisting></example>
       </step>
       <step>
         <para>Prompts appear to configure the cluster:</para>
         <table><title/>
           <tgroup cols="2">
             <colspec colname="prompt" colnum="1"/>
             <colspec colname="response" colnum="2"/>
             <thead>
               <row>
                 <entry>Prompt</entry>
                 <entry>Response</entry>
               </row>
             </thead>
             <tbody>
               <row>
                 <entry><computeroutput>Configure this node as a secondary Elemental Conductor in an existing cluster?</computeroutput></entry>
                 <entry>Type <userinput>No</userinput>.</entry>
               </row>
               <row>
                 <entry><computeroutput>What is the database to use on the external database server?</computeroutput></entry>
                 <entry>Press Enter to accept the default.</entry>
               </row>
             </tbody>
           </tgroup>
         </table>
       </step>
       <step>
         <para>Make sure the elemental_se restarts on this node, otherwise you will not be able to downgrade the secondary Conductor node. Look for this prompt on the primary Conductor command line.</para>
         <programlisting language="none">Starting elemental_se:     [  OK  ]</programlisting>
       </step>
       <step>
         <para>Refresh your web browser in order to load the updated web interface.</para>
         <para>When the install is complete, the primary Conductor restarts. </para>
         <para>If you have only one Conductor node, skip to &finish_dg;<!--xref to last step locally-->.</para>
       </step>
     </procedure>'>
     
     <!ENTITY upg_reenable_ha_step
  '  <para>You must re-enable high availability on the Conductor nodes, to put the nodes back into a redundant configuration.</para>
        
    <procedure><title>To enable high availability on the primary Conductor</title>
            
           <step> <para>From the Linux prompt, log in to the primary Conductor node with the <emphasis>elemental</emphasis> user credentials.</para>
           </step>
           <step><para>Enter the following command to configure the primary Conductor node for high availability. </para>
               <programlisting language="none">[elemental@hostname ~]$ <command>sudo /opt/elemental_se/.support_utils/dbrepl configure &lt;<replaceable>dbrepl_config_file_name</replaceable>&gt; primary</command></programlisting>
  <para>Where <userinput>&lt;dbrepl_config_file_name&gt;</userinput> is your dbrepl_config.yml file.</para>
           </step>
 <step><para>Restart the elemental_se service.</para>
     <programlisting language="none">[elemental@hostname ~]$ <command>sudo /etc/init.d/elemental_se restart</command></programlisting>
 </step>
 <step><para>Enter the following command to verify that the service is running.</para>
     <programlisting language="none">[elemental@hostname ~]$ <command>tail -F /opt/elemental_se/web/log/conductor.output</command></programlisting>
<para>The conductor.output log starts to scroll on the screen and shows messages as they are occurring. Watch for the following three INFO lines on the primary Conductor node.</para>
<programlisting language="none">CONDUCTOR: Initializing environment
I, [2015-11-13T04:37:54.491204 #4978] &#160;INFO -- : Configuring the HA environment
I, [2015-11-13T04:37:54.660644 #4978] &#160;INFO -- : configuring keepalived
I, [2015-11-13T04:38:03.905069 #4978] &#160;INFO -- : Preparing database as replication master
[2015-11-13 04:39:03 UTC SERVICE]: Elemental &servicename; &version_short;.x.x</programlisting>
</step>
  <step><para>Type <userinput>Ctrl-C </userinput>to exit the tail command.</para>
  </step>
  <step><para>Enter the following commands.</para>
      <programlisting language="none">[elemental@hostname ~]$ <command>sudo -s </command></programlisting>
      <programlisting language="none">[elemental@hostname ~]$ <command>cd /data/pgsql/logs</command></programlisting>
      <programlisting language="none">[elemental@hostname ~]$ <command>tail -F postgresql-&lt;<replaceable>day</replaceable>&gt;.log</command></programlisting>
  <para>Where <userinput>&lt;day&gt;</userinput> is today (the day you are upgrading), typed with an initial capital letter: Mon, Tue, Wed, Thu, Fri, Sat, Sun</para>
  </step>
  <step><para>Confirm that you see this line.</para>
      <programlisting language="none">database system is ready to accept connections.</programlisting>
      <note><para>If the elemental_se or postgres process has already started when you starting tailing the logs, you might not see the <code>ready to accept connections</code>  message.
      Instead, you could see <code>rejects connection for host</code> messages until you upgrade the worker nodes.</para></note>
  </step>
  <step><para>Enter <userinput>Ctrl-C</userinput> to exit the tail command.</para>
  </step>
 <step> <para>Type the following command to exit the session as the sudo user.</para>
     <programlisting language="none">[elemental@hostname ~]$ <command>exit</command></programlisting>
 </step>
    </procedure>

        <formalpara><title>On the secondary Conductor</title>
  <para>Repeat high availability steps on the secondary Conductor but use the following command instead.</para></formalpara>
        <programlisting language="none">[elemental@hostname ~]$<command> sudo /opt/elemental_se/.support_utils/dbrepl configure &lt;dbrepl_config_file_name&gt; secondary</command></programlisting>
'>

<!ENTITY config_cond_users_add
    '    <procedure><title>To add users</title>
      <step><para>Make sure that you are logged into the Conductor web interface as the “admin” user you created via the configure script.</para></step>
      <step><para>Hover over <guilabel>Configuration</guilabel> (cog icon) on the main menu and choose <guilabel>Users</guilabel> from the dropdown menu.</para></step>
          <step><para>On the Conductor Configuration screen, choose <guilabel>Settings</guilabel> &gt; <guilabel>Users</guilabel>.</para></step>
      <step><para>On the Users screen, complete all fields and choose <guilabel>Create</guilabel>. Some notes:</para>
                <itemizedlist>
                  <listitem><para><guilabel>Expires</guilabel>: If selected, the user will automatically expire after the specified period of time.</para></listitem>
                  <listitem><para><guilabel>Force Password Reset</guilabel>: If checked, the user must reset their password the first time they login.</para></listitem>
                    <listitem><para><guilabel>Role</guilabel>: Select a role: Admin, Manager, User, Viewer. For information about the actions allowed with each role, see the following section <emphasis>user Roles</emphasis>. </para></listitem></itemizedlist></step>
                        <step><para>If your organization uses the REST API, make sure to tell each user to choose <guilabel>Settings</guilabel> &gt; <guilabel>User Profile</guilabel> to make a note of their personal API key.</para>
                          <para>This API key is randomly generated when the user is created. It cannot be created manually (meaning that you cannot specify a specific set of characters for the key).</para></step>
    </procedure>
      <formalpara><title>User roles</title>
      <para>This section describes the actions that each user role can perform.</para>
    </formalpara>
    <itemizedlist>
      <listitem><para><emphasis role="bold">Viewer</emphasis></para>
        <itemizedlist>
          <listitem>
            <para>Read-only access to &servicenamelong; and &worker;</para>
          </listitem>
        </itemizedlist></listitem>
      <listitem><para><emphasis role="bold">Operator</emphasis></para>
        <itemizedlist>
          <listitem>
            <para>Same access as Viewer</para>
          </listitem>
          <listitem>
            <para>Control the state of a &job_event; (cancel, archive, etc)</para>
          </listitem>
        </itemizedlist></listitem>
      <listitem><para><emphasis role="bold">Manager</emphasis></para>
        <itemizedlist>
          <listitem>
            <para>Same access as Viewer</para>
          </listitem>
          <listitem>
            <para>Same access as Operator</para>
          </listitem>
          <listitem>
            <para>Create and edit &job_event;s</para>
          </listitem>
          <listitem>
            <para>Create and edit presets</para>
          </listitem>
          <listitem>
            <para>Create and edit profiles</para>
          </listitem>
          <listitem>
            <para>Create and edit watch folders</para>
          </listitem>
        </itemizedlist></listitem>
      <listitem><para><emphasis role="bold">Administrator</emphasis></para>
        <itemizedlist>
          <listitem>
            <para>Access to the entire &servicenamelong; and &worker; systems, including all of the
              access provided by the other roles</para>
          </listitem>
        </itemizedlist></listitem>
    </itemizedlist>'>
    
     
                          <!ENTITY  config_cond_users_intro
                          '  <para>To set up users for the entire cluster, you need to perform this setup only on the Conductor node. If you have two Conductor nodes, you need to perform this setup only on the primary Conductor node. </para>
    <para>If you answered Yes to the installer prompt “Do you wish to enable authentication”, then users must be set up on the node to access the &AWSE; product from both interfaces as follows:</para>
   <itemizedlist> 
     <listitem><para>The web interface: When the user goes to the web interface, a login page will appear.</para></listitem>
      <listitem><para>The REST API: REST commands must include additional HTTP headers that identify the user: X-Auth-User header, X-Auth-Expires header, X-Auth-Key header (which includes the API key that each user creates for themselves).</para>
        <para>For information on REST API access with user authentication, see the documentation on the REST API.</para></listitem></itemizedlist>'>

<!ENTITY d_ins_current '<ulink url="&url-doc-domain;elemental-delta/latest/configguide">&EDLTlong; Configuration Guide</ulink>'>

<!--  live and cl3 config guides-->
<!ENTITY cg_timezone ' <para>Follow this procedure if you didn&apos;t set the time zone when you ran the install script
    (via the <code>–t</code> prompt), or if you want to change the time zone. You must perform these
    steps on each node in the cluster that needs the time zone updated.</para>
  <procedure><title>To set the time zone (web interface)</title>
    <step>
        <para>On the &servicenamelong; web interface, go to the <guilabel>Settings</guilabel> page and
        choose <guilabel>General</guilabel>.</para>
    </step>
    <step>
      <para>In <guilabel>Timezone</guilabel>, choose your required time zone.</para>
    </step>
    <step>
        <para>Choose <guilabel>Update</guilabel>.</para>
    </step>
  </procedure>
  <para>The web interface shows all activity with a timestamp for the specified time zone.</para>
  <para>This setting does not affect activity via SSH or via the REST API.</para>' >
            
            <!ENTITY about_cg_sa ' <para>This guide is intended for engineers who are performing the initial configuration on one or
    more &servicenamelong; nodes that are each working in a stand-alone mode. The nodes aren&apos;t being
    controlled by &mgmt;.  </para>
   <formalpara><title>Phase 2 of Installation</title>
     <para>This guide provides detailed information on phase 2 of installation, including:</para></formalpara>
   <itemizedlist>
     <listitem><para>Enable user authentication so that users must log in to use any product.</para></listitem>
     <listitem><para>Add users, if user authentication is enabled.</para></listitem>
     <listitem><para>Configure the time zone, DNS server, NTP servers, firewall, and alert notifications.</para></listitem>
     <listitem><para>Configure other Ethernet interfaces, as required.</para></listitem>
     <listitem><para>Configure routers and other input devices.</para></listitem></itemizedlist>
   &prereq_knowledge;'>
    
   <!ENTITY add_sdi_device ' <para><emphasis role="italic">Input devices</emphasis> are cards that are installed in the
    hardware unit. The &servicenamelong; node auto-detects the SDI card and creates an input in
    &servicename; as follows:</para>
  <itemizedlist>
    <listitem>
        <para>One single-link input for each input on the card (so four inputs). Each input is given
          a unique numerical ID.</para>
    </listitem>
    <listitem>
        <para>One quad-link input, if the SDI card supports quad link.</para>
        <para>The quad-link input is used with 4K quad input. When you&apos;re creating a profile or
        event, select this quad-link input to indicate to &servicename; that the four inputs on this
        SDI card are the four parts of a quad-link input.</para>
    </listitem>
  </itemizedlist>
  <para>Once you have cabled the SDI cards, make sure that every input that has a cable appears in
    the <guilabel>Settings</guilabel> > <guilabel>Input Devices</guilabel> screen. The following
    image shows input devices in &servicename;:</para>
  <mediaobject>
    <imageobject>
      <imagedata fileref="images/inputs-shared-png.png" format="PNG"/>
    </imageobject>
  </mediaobject>
  <formalpara>
    <title> Naming Inputs</title>
    <para>If you want, you can give the device a custom name.</para>
  </formalpara>
    <orderedlist>
      <listitem>
          <para>On the &servicenamelong; web interface, hover over
          <guilabel>Settings</guilabel> and choose <guilabel>Input Devices</guilabel>. &servicename;
        lists all of the detected input cards.</para>
      </listitem>
      <listitem>
          <para>Enter a name and choose <guilabel>Save</guilabel>.</para>
      </listitem>
    </orderedlist>
<note>    <para>If these input device cards are connected to a router, you need to now follow the
  procedure for adding the router. See &sdi_router;.</para></note>'>
      
      <!ENTITY  sdi_rou_out '<para>Map each router output to the SDI input on the &servicenamelong; hardware unit that you plan
      to use. This mapping must reflect the actual cabling from the output side of the router to the
      input side of the SDI card.</para>
    <example><title/>
  <para>In the following example, the four inputs on the SDI card at the top have a path into the
    router. The one and only input on the second card has a path to the router. And two of the four
    inputs on the bottom SDI card have a path to the router.</para>
    <mediaobject>
      <imageobject>
        <imagedata fileref="images/sdi-diagram-shared-png.png" format="PNG"/>
      </imageobject>
    </mediaobject>
    </example>
    <procedure><title>To map the outputs</title>
    <step>
        <para>On the &servicenamelong; web interface, make sure you&apos;re on the <guilabel>Edit Router</guilabel>
          screen, as described in &input_map;. Choose <guilabel>Map
            Outputs</guilabel>. </para>
    </step>
      <step>
        <para>Complete the first line as follows:</para>
    
   <itemizedlist> <listitem>
        <para><guilabel>Output</guilabel>: Select an output that is one of the cabled router outputs
              that you plan to use.</para>
    </listitem>
    <listitem>
        <para><guilabel>Connected to</guilabel>: Select the card and node that the router output is
              connected to. </para>
            <example><title/>
              <mediaobject>
                <imageobject>
                  <imagedata fileref="images/map-outputs-shared-png.png" format="PNG"/>
                </imageobject>
              </mediaobject>
            </example>
    </listitem>
  </itemizedlist>
  <warning><para>Do not select any of the quad-link inputs (inputs 5 and 10 in the example above).
            &servicenamelong; does not currently support 4K SDI input via a router.</para></warning>
    </step>
      <step>
        <para>Choose <guilabel>Add</guilabel> (<guilabel>+</guilabel> icon).</para>
    </step>
      <step>
        <para>Choose <guilabel>Map Outputs</guilabel> again and create a line for each router output
          that is cabled.</para>
        <mediaobject>
          <imageobject>
            <imagedata fileref="images/example-outputs-shared-png.png" format="PNG"/>
          </imageobject>
        </mediaobject>
        <para>In this example, only the SDI inputs that are actually attached to the router are
          configured.</para>
      </step>
    </procedure>
    <example><title/><para>Here is an example of a completed router configuration:</para>
    <mediaobject>
      <imageobject>
        <imagedata fileref="images/router-config-shared-png.png" format="PNG"/>
      </imageobject>
    </mediaobject></example>'>
  
  <!ENTITY lvcl_fw_intro '<para>You can enable or disable the firewall. We recommend that your nodes always be installed behind a customer firewall on a private network, regardless of if the individual firewall is enabled on each node. The node firewall is enabled by default.</para>
<para>When the node firewall is enabled, the installer configures the ports that must be open for incoming and outgoing traffic for each node. Use the following procedure to open more ports if you need them.</para>'>

<!ENTITY lv_sm_fw ' <procedure>
    <title>To open ports on the node firewall</title>
    <step>
      <para>On the &servicenamelong; web interface, go to the <guilabel>Settings</guilabel> page and
        choose <guilabel>Firewall</guilabel>.</para>
      <para>You must turn on the node firewall before you can make any changes to the ports.</para>
    </step>
    <step>
      <para>In the <guilabel>Firewall Settings</guilabel>, choose <guilabel>Firewall
        On</guilabel>.</para>
    </step>
    <step>
      <para>(Optional) To enable a port, choose <guilabel>Accept</guilabel> for that port.</para>
    </step>
    <step>
      <para>(Optional) To add a new port, complete the fields in the <guilabel>Add Incoming
          Port</guilabel> section.</para>
    </step>
    <step>
      <para>When you&apos;re done, choose <guilabel>Save</guilabel>.</para>
    </step>
  </procedure>
'>
                   
  <!ENTITY cl3_mount_intro_yes ' <para>Mount point controls initiated from the primary Conductor node are automatically synced to clustered workers and the secondary Conductor node. The sync occurs within one hour for nodes that are already part of the cluster when the mount is created. For nodes added to a cluster with existing mount points, the sync occurs within three minutes.</para>
  <note><para>Do not make mount point changes locally on worker nodes via the web interface. If you do, the changes are overwritten the next time that they sync task runs.</para>
  <para>Mounts created through the command line on a worker node are not impacted by the sync progress.</para></note>'>
   
   <!ENTITY  restore_cl3_y '<para>If
      you&apos;re restoring the Conductor database, restore to the primary Conductor node.</para>
      <note><para>This procedure describes how to restore the database on a Conductor node. 
      You can use the same procedure to restore the database on worker nodes. 
      Only the file name changes.</para></note>' >
      
      <!ENTITY restore_ssl_y '<listitem>
            <para><code>--https</code> keeps SSL enabled. If you omit this flag, SSL is disabled
              when you run the install script. If you don&apos;t have or don&apos;t want SSL, omit this
              flag.</para>
          </listitem>'>
    
    <!ENTITY disable_bkup ' <para>Follow these steps to disable automatic backups.</para>
    <procedure>
      <step>
        <para>On the &servicenamelong; web interface, go to the <guilabel>Settings</guilabel> page and
          choose <guilabel>General</guilabel>.</para>
      </step>
      <step>
        <para>In the <guilabel>Cluster Tasks</guilabel> section, change the value in
            <guilabel>Minutes between management database backups</guilabel> to
            <userinput>0</userinput>. </para>
      </step>
      <step>
        <para>Choose <guilabel>Save</guilabel>. </para>
      </step>
    </procedure>'>
    
    <!ENTITY ssl_cl3_notes_yes ' <listitem>
      <para>If you&apos;re enabling user authentication and you don&apos;t use the <code>--https</code> (SSL)
        flag in the command, the installer displays a warning that usernames and passwords aren&apos;t
        encrypted in transmission. The install won&apos;t proceed until you acknowledge this
        warning.</para>
    </listitem>
    <listitem>
        <para>In a cluster, every node must match the Conductor’s SSL setting. If the Conductor has
        SSL enabled but a worker does not (or vice versa), the worker will experience errors or
        possible service impairment.</para>
    </listitem>
    <listitem>
        <para>For existing clusters being reconfigured with SSL on or off, all nodes must be
          de-clustered, reconfigured, and then added back to the cluster.</para>
        <para>To avoid service interruption, we recommend that SSL configuration on existing nodes
          be completed in a maintenance window.</para>
    </listitem>'>
    
  <!ENTITY primary_y 'primary '>
  <!ENTITY repeat_steps_cluster_y '<listitem><para>Repeat these steps through remote terminal sessions for the secondary Conductor node and worker nodes.</para></listitem>'>
<!ENTITY  ssl_flag_y '--https'> 
<!ENTITY  ssl_flag_exp_y '<para>where <code>--https</code> enables SSL.</para>' >
  
  <!ENTITY dns_ntp_add '<para>You can add Domain Name System (DNS) name servers and Network Time Protocol (NTP) servers
    for the node to use.</para>
  <procedure><title>To configure servers</title>
    <step> <para>On the &servicenamelong; web interface, go to the <guilabel>Settings</guilabel> page and
      choose <guilabel>Network</guilabel>.</para></step>
    <step><para>On the <guilabel>Network</guilabel> page, choose <guilabel>Hostname, DNS &amp; NTP</guilabel>.</para></step>
    <step><para>As needed, add one server at a time to the <guilabel>DNS Name Servers</guilabel> and
          <guilabel>NTP Servers</guilabel> fields and choose <guilabel>Save</guilabel>.</para></step>
  </procedure>'>
  
   <!ENTITY config_cond_eth_intro
          '<para>When you installed each &AWSE; product in the cluster, you configured eth0. You can now set up eth1 and any additional Ethernet devices. Optionally, you can also bond two devices that you have set up. </para>
  <para role="topiclist"/>'>
  
    
    <!ENTITY eth_intro ' <para>When you installed each &AWSE; product in the cluster, you configured eth0. You can now set up eth1 and any additional Ethernet devices. Optionally, you can also bond two devices that you have set up. </para>
  <formalpara><title>Ethernet devices and the management interface</title>
  <para>When you installed &servicenamelong;, you configured eth0 as the management interface. Note
      that setting up a device as the management interface does <emphasis>not</emphasis> dedicate
      this device to management traffic. The device can still handle other traffic.</para></formalpara>
  <para role="topiclist"/>'>
  
  <!ENTITY  bond_cl3_prereq_y '<listitem><para>Disable Conductor redundancy as described in <xref linkend="config-wrkr-cl3-cg-cond-ha-chg" endterm="config-wrkr-cl3-cg-cond-ha-chg.title"/>.</para></listitem>' >
                      
<!ENTITY bond_ex_cond_y ' Or, if you have two Conductor nodes, you might bond the management interfaces on the two nodes.'>    
    

<!ENTITY  eth_bond_create '  <para>First, create the bond for the network devices. In the next step, you will add the devices to the bond.</para>
      <procedure><title>To create the bond</title>
        <step>
          <para>On the &servicenamelong; web interface, go to the <guilabel>Settings</guilabel> page
            and choose <guilabel>Network</guilabel>.</para></step>
        <step><para>On the <guilabel>Network</guilabel> page, choose <guilabel>Network Devices</guilabel>.</para></step>
        <step><para>On the <guilabel>Network Devices</guilabel> page, choose <guilabel>Add Network Device</guilabel>.</para></step>
        <step><para>In the <guilabel>Add a New Network Device</guilabel> dialog, select <guilabel>bond
              (bondN)</guilabel>.</para></step>
        <step><para>Complete the fields as follows:</para>
          <itemizedlist>
            <listitem><para><guilabel>Bond ID</guilabel>: Provide a number that is unique among your bonded
                interfaces.</para></listitem>
            <listitem><para><guilabel>Management</guilabel>: Select if the devices that you&apos;re bonding are management
                interfaces.</para></listitem>
            <listitem><para><guilabel>Description</guilabel>: Auto-populates when you choose a device name. You can modify
              the description as needed.</para></listitem>
            <listitem><para><guilabel>Address Mode</guilabel>: Select the type of IP addresses this device uses, either
              <guilabel>dhcp</guilabel>, <guilabel>static</guilabel>, or
              <guilabel>none</guilabel>. If you&apos;re bonding eth0 and eth1, use static IPs. </para></listitem>
            <listitem><para><guilabel>IP Address</guilabel>, <guilabel>Netmask</guilabel>, <guilabel>Gateway</guilabel>:
              Available when static IP addresses are used only. Complete with your networking
              information.</para></listitem>
            <listitem><para><guilabel>Static Routes</guilabel>: Select if you&apos;re using static routing.</para></listitem>
            <listitem>
              <para><guilabel>Network</guilabel>, <guilabel>Netmask</guilabel>,
                <guilabel>Gateway</guilabel>: Available when static routes are used only. Complete
                with your networking information.</para>
            </listitem>
          </itemizedlist></step>
        <step>
          <para>In <guilabel>Mode</guilabel>, select the bonding mode that you&apos;re using. The
            following table describes the modes that &servicenamelong; supports:</para>
          <table><title/>
            <tgroup cols="3">
              <colspec colname="mode" colnum="1"/>
              <colspec colname="description" colnum="2"/>
              <thead>
                <row>
                  <entry>Bonding mode</entry>
                  <entry>Description</entry>
                </row>
              </thead>
              <tbody>
                <row>
                  <entry>Round robin</entry>
                  <entry>Transmissions are received and sent sequentially on each bonded interface
                    beginning with the first one available.</entry>
                </row>
                <row>
                  <entry>Active backup</entry>
                  <entry>Transmissions are received and sent out via the first available bonded
                    interface. The other interface is only used if the active interface
                    fails.</entry>
                </row>
                <row>
                  <entry>Balanced XOR</entry>
                  <entry>Using the exclusive-or (XOR) method, the interface matches up the incoming
                    request&apos;s MAC address with the MAC address for one of the bonded interface NICs.
                    Once this link is established, transmissions are sent out sequentially beginning
                    with the first available interface.</entry>
                </row>
                <row>
                  <entry>Broadcast</entry>
                  <entry>All transmissions are sent on all interfaces in the bond.</entry>
                </row>
                <row>
                  <entry>IEEE 802.3ad dynamic link aggregation</entry>
                  <entry>Creates aggregation groups that share the same speed and duplex settings.
                    Transmits and receives on all interfaces in the active aggregator. Requires a
                    switch that is 802.3ad compliant.</entry>
                </row>
                <row>
                  <entry>Adaptive transmit load balancing</entry>
                  <entry>Outgoing traffic is distributed according to current load on each interface
                    in the bond. Incoming traffic is received by the currently active interface. If
                    the receiving interface fails, another interface takes over the MAC address of
                    the failed interface.</entry>
                </row>
                <row>
                  <entry>Adaptive load balancing</entry>
                  <entry>Includes transmit and receive load balancing for IPV4 traffic. Receive load
                    balancing is achieved through ARP negotiation.</entry>
                </row>
               
              </tbody>
            </tgroup>
          </table>
        </step>
        <step>
          <para>In <guilabel>Link Mode</guilabel>, select the linking mode that you&apos;re using for
            this bond and complete the relevant fields, as described here:</para>
          <itemizedlist>
            <listitem>
              <para>For media-independent interface (MII) mode, complete these fields:</para>
              <itemizedlist>
                <listitem>
                  <para><guilabel>MII Monitoring Frequency</guilabel>: Determines how often the link
                    state of each bonded interface is inspected for link failure, in milliseconds.
                    We recommend 100ms as a starting point.</para>
                </listitem>
                <listitem>
                  <para><guilabel>Use Carrier</guilabel> (optional): When checked, MII uses MII or
                    ETHTOOL ioctls instead of netif_carrier_ok. Relies on the device driver to
                    maintain link state. Note that ETHTOOL ioctls is less efficient and uses
                    deprecated kernel calling sequences.</para>
                </listitem>
                <listitem>
                  <para><guilabel>Down Delay</guilabel> (optional): Specifies the time, in
                    milliseconds, to wait before disabling an interface after a link failure is
                    detected. This value should be a multiple of the MII monitoring frequency.
                    Otherwise, it &servicenamelong; rounds it to the nearest multiple of the
                    monitoring frequency. The default is 0.</para>
                </listitem>
                <listitem>
                  <para><guilabel>LACP Rate</guilabel> (optional): Used with IEEE 802.3ad dynamic
                    link aggregation only. Determines the rate that control packets are sent to the
                    interface. <guilabel>Fast</guilabel> is every one second, and
                      <guilabel>Slow</guilabel> is every 30 seconds.</para>
                </listitem>
                <listitem>
                  <para><guilabel>Up Delay</guilabel> (optional): Specifies the time, in
                    milliseconds, to wait before enabling an interface after a link failure is
                    detected. This value should be a multiple of the MII monitoring frequency.
                    Otherwise, it &servicenamelong; rounds it to the nearest multiple of the
                    monitoring frequency. The default is 0.</para>
                </listitem>
              </itemizedlist>
            </listitem>
            <listitem>
              <para>For address resolution protocol (ARP) mode, complete these fields:</para>
              <itemizedlist>
                <listitem>
                  <para><guilabel>ARP Interval</guilabel>: Determines how often the link state of
                    each bonded interface is inspected, in milliseconds. Periodically checks devices
                    for traffic and generates regular interval traffic via ARP probes for ARP IP
                    target.</para>
                </listitem>
                <listitem>
                  <para><guilabel>ARP IP Target</guilabel>: Specifies the IP address to use for ARP
                    probes.</para>
                </listitem>
                <listitem>
                  <para><guilabel>Use Carrier</guilabel> (optional): When checked, MII uses MII or
                    ETHTOOL ioctls instead of netif_carrier_ok. Relies on the device driver to
                    maintain link state. Note that ETHTOOL ioctls is less efficient and uses
                    deprecated kernel calling sequences.</para>
                </listitem>
                <listitem>
                  <para><guilabel>LACP Rate</guilabel> (optional): Used with IEEE 802.3ad dynamic
                    link aggregation only. Determines the rate that control packets are sent to the
                    interface. <guilabel>Fast</guilabel> is every one second, and
                      <guilabel>Slow</guilabel> is every 30 seconds.</para>
                </listitem>
              </itemizedlist>
            </listitem>
          </itemizedlist>
        </step>
        <step>
          <para>Choose <guilabel>Save</guilabel>. The new bond appears in the Network Devices list.
            Don&apos;t apply changes yet.</para>
        </step>
      </procedure>'>
      
      
       <!ENTITY cl3_auth_use_y '<listitem><para>When enabling user authentication on worker nodes from the Conductor interface.</para></listitem>'>
  <!ENTITY  cl3_api_user_y '<listitem><para>The Conductor node presents the admin API user information when it&apos;s communicating with another node in the cluster. This authentication automatically takes place when you submit a command to a worker node through the Conductor node.</para></listitem>'>
  <!ENTITY  cl3_local_all_y '<para>In a cluster, local authentication can be enabled on all or some of the nodes.</para>'>
  <!ENTITY  cl3_pam_all_y '<para>In a cluster, PAM authentication can be enabled on all or some of the nodes.</para>'>
      
      <!ENTITY auth_cond_y '<step>
        <para>Disable Conductor redundancy, if applicable. For help, see <xref linkend="config-wrkr-cl3-cg-cond-ha-chg" endterm="config-wrkr-cl3-cg-cond-ha-chg.title"/>.</para>
      </step>'>
  
  <!ENTITY red_cond_enable_y ' <step>
        <para>When the service starts and the Conductor node is ready, re-enable Conductor redundancy, if applicable. For help, see <xref linkend="config-wrkr-cl3-cg-cond-ha" endterm="config-wrkr-cl3-cg-cond-ha.title"/>.</para>
    </step>'>
    
    <!ENTITY enable_auth_intro '<para>You can require users to provide valid credentials when they access &servicenamelong; from both the web interface and REST API.</para>
    <itemizedlist>
      <listitem><para>For the web interface, users must complete the fields on the login screen.</para></listitem>
      <listitem><para>For the REST API, users must include these additional HTTP headers in commands that they send:</para>
      <itemizedlist>
        <listitem><para><code>X-Auth-User</code></para></listitem>
        <listitem><para><code>X-Auth-Expires</code></para></listitem>
        <listitem><para><code>X-Auth-Key</code></para></listitem>
      </itemizedlist>
      <para>For more information about using the API with authentication enabled, see the
        &servicenamelong; REST API documentation.</para></listitem>
    </itemizedlist>'>
    
    <!ENTITY  add_users_intro '<para>When you enable local authentication on the node, users must enter valid credentials to
    access the node. This section describes how to create users. For information about user
    authentication, see &auth_ref_link;.</para>
  <note>
    <para>If you enabled PAM authentication, your users are maintained in the LDAP server. You can
      manage the roles through the node, as described in &roles_link;, but you don&apos;t add the users to
      the node.</para>
  </note>'>
   
   <!ENTITY sendmail_hosts '    <para>If your network isn&apos;t configured with DNS, add a static entry to the <filename>hosts</filename> file on &servicenamelong;.</para>
    <procedure><title>To add an entry to the <filename>hosts</filename> file</title>
     <step>
      <para>With a text editor, open the <filename>/etc/hosts</filename> file. If you use nano, type the following at the command line.</para>
    <programlisting><command>sudo nano /etc/mail/hosts</command></programlisting>
     </step>
     <step>
       <para>Add a line to the end of the file that has the IP address of the relay server, a space, and the hostname of the relay server. The following shows an example.</para>
        <programlisting><userinput>&delta_IP; ExampleMailHostname</userinput></programlisting>
     </step>
     <step><para>Save and exit the file. For nano, press <keycap>Ctrl</keycap>+<keycap>O</keycap> to save and
      <keycap>Ctrl</keycap>+<keycap>X</keycap> to exit.</para>
     </step>
    </procedure>'>
       
   <!ENTITY snmp_trap_cl3 ' <para>You can configure &servicenamelong; to generate Simple Network Magement Protocol (SNMPv2) traps for the following
      activity:</para>
    <itemizedlist>
      <listitem>
        <para>All alerts that &servicename; and &worker; generate</para>
      </listitem>
      <listitem>
        <para>Conductor node or worker node failure</para>
      </listitem>
    </itemizedlist>'>
   
  
        
 <!ENTITY channels_in_cluster_cl3 ' in the cluster' >
 
 <!ENTITY mib_info_y '  <para>For more information, access the &servicenamelong; web interface, go to the <guilabel>Support</guilabel> page and choose <guilabel>SNMP Interface</guilabel>.</para>
'>


<!ENTITY mib_table ' <table>
              <tgroup cols="2">
                <colspec colname="variable" colnum="1"/>
                <colspec colname="values" colnum="2"/>
                <thead>
                  <row>
                    <entry>Variable</entry>
                    <entry>Values</entry>
                  </row>
                </thead>
                <tbody>
                  <row>
                    <entry><code>serviceStatus</code></entry>
                    <entry>
                      <itemizedlist>
                        <listitem>
                          <para>0 if the &servicenamelong; isn&apos;t running.</para>
                        </listitem>
                        <listitem>
                          <para>1 if it is running.</para>
                        </listitem>
                      </itemizedlist>
                    </entry>
                  </row>
                  <row>
                    <entry><code>firewallSettings</code></entry>
                    <entry>
                      <itemizedlist>
                        <listitem>
                          <para>0 if the node firewall is off.</para>
                        </listitem>
                        <listitem>
                          <para>1 if it is on.</para>
                        </listitem>
                      </itemizedlist>
                    </entry>
                  </row>
                  <row>
                    <entry><code>networkSettings</code></entry>
                    <entry>Always 1. <para>Required for some network management
                      systems.</para></entry>
                  </row>
                  <row>
                    <entry><code>mountPoints</code></entry>
                    <entry>Number of user-mounted filesystems in <filename>/mnt</filename>.</entry>
                  </row>
                  <row>
                    <entry><code>version</code></entry>
                    <entry>The version of the &servicenamelong; node.</entry>
                  </row>
                  <row>
                    <entry><code>httpdStatus</code></entry>
                    <entry>
                      <itemizedlist>
                        <listitem>
                          <para>0 if the <code>httpd</code> service isn&apos;t running.</para>
                        </listitem>
                        <listitem>
                          <para>1 if it is running.</para>
                        </listitem>
                      </itemizedlist>
                    </entry>
                  </row>
                  <row>
                    <entry><code>databaseBackup</code></entry>
                    <entry>
                      <itemizedlist>
                        <listitem>
                          <para>0 if writes (starting backups) is allowed.</para>
                        </listitem>
                        <listitem>
                          <para>1 if they aren&apos;t allowed.</para>
                        </listitem>
                      </itemizedlist>
                    </entry>
                  </row>                
                </tbody>
              </tgroup>
            </table>'>
    
    <!ENTITY no_worker_y '<note>
      <para>Don&apos;t configure worker nodes to send email notifications. &servicenamelong; sends
        operational status for all nodes in the cluster and all transcoding channels.</para>
    </note>'>
  
  <!ENTITY cl3_add_mount '<para>On the <guilabel>Mount Points</guilabel> page, choose <guilabel>Add Mount Point</guilabel>, complete the mount point fields as described in the following table, and choose <guilabel>Create</guilabel>:</para>'>

<!ENTITY other_add_mount '<para>On the <guilabel>Mount Points</guilabel> page, complete the mount point fields as described in the following table and choose <guilabel>Save</guilabel>:</para>'>
  
<!ENTITY bkup_steps_cl3
'<procedure><title>To view and change the backup configuration</title>
    <para>Perform these steps on any node in the cluster that require changes.</para>
    <step>
      <para>On the &servicenamelong; web interface, go to the <guilabel>Settings</guilabel> page and
        choose <guilabel>General</guilabel>.</para>
    </step>
    <step>
      <para>In the <guilabel>Cluster Tasks</guilabel> section, the following fields configure the
        database backups:</para>
      <itemizedlist>
        <listitem>
          <para><guilabel>Minutes between management database backups</guilabel> indicates how often
            &servicenamelong; creates backups.</para>
        </listitem>
        <listitem>
          <para><guilabel>Management database backups to keep</guilabel> indicates how many backups
            &servicename; keeps. When this number is reached, the oldest backup is removed so that
            the newest backup can be saved.</para>
        </listitem>
        <listitem>
          <para><guilabel>Path to store management database backups</guilabel> indicates where
            &servicename; stores backups.</para>
          <para>&servicenamelong; is configured by default to back up to
              <filename>/home/elemental/database_backups</filename> on the local node. We strongly
            recommend you designate a server and directory on your network for backups, and mount
            the server to the Conductor nodes as described in <xref linkend="config-wrkr-cf-cg-mount" endterm="config-wrkr-cf-cg-mount.title"/>. Afterward, enter that path in this field.</para>
          <para>There is no need to backup the worker nodes to a remote server.</para>
        </listitem>
      </itemizedlist>
    </step>
    <step>
      <para>Change any of these values as you need and choose <guilabel>Save</guilabel>. </para>
    </step>
  </procedure>'>
  
  <!ENTITY red_licenses '<important><para>Conductor redundancy must be disabled prior to installing licenses. If you&apos;re performing a first-time configuration, install the licenses before you enable redundancy.</para>
  <para>If you&apos;re installing licenses after the initial configuration, you must first disable redundancy, as described in <xref linkend="config-wrkr-cl3-cg-cond-ha-chg" endterm="config-wrkr-cl3-cg-cond-ha-chg.title"/>.</para></important>'>
  
  <!ENTITY dns_ntp_add_cl3 ' <para>You can add Domain Name System (DNS) name servers and Network Time Protocol (NTP) servers
    for the node to use.</para>
  <procedure><title>To configure servers</title>
    <step> <para>On the &servicenamelong; web interface, go to the <guilabel>Settings</guilabel> page and
      choose <guilabel>Network</guilabel>.</para></step>
    <step><para>On the <guilabel>Network</guilabel> page, choose either <guilabel>Domain Name Servers</guilabel> or <guilabel>Network Time Protocol Servers</guilabel>.</para></step>
    <step><para>Choose <guilabel>Add</guilabel> and enter the IP address for the server that you&apos;re adding.</para></step>
    <step><para>When you&apos;re done, choose add (the checkmark).</para></step>
  </procedure>'>

<!ENTITY  sample_start
   '<programlisting language="none">[elemental@hostname ~] <command>sudo sh ./&installer_name;_&version_short;.0.12345.run -l -z -t</command>
Verifying archive integrity... All good.
Uncompressing Elemental Installer...
Network device eth0 already initialized...

INFO: moving ui.lic to location ./ui.lic
Ensuring Postgres Service Health
Stopping replication recovery
Restarting Postgres
Stopping postgresql-9.3 service: [60G[[0;32m &#160;OK &#160;[0;39m]
Starting postgresql-9.3 service: [60G[[0;32m &#160;OK &#160;[0;39m]
Current version is: &servicenamelong; &dg_minus1_version_short;.0.34713
New version is: &servicenamelong; &version_short;.0.12345

Stopping Apache..
Checking Elemental System Update
Starting system update
New system update version: 25301
System packages are now being updated and modified!
Please DO NOT interrupt the installer after this point!
Running pre-installation tasks
&install_lines;
Installing DekTec Driver
Installing MOTD
Installing /etc/issue
Installing new RPMs...
Installing new gems...
Running scripts...

Updating PostgreSQL configuration
Stopping replication
Setting up config files
Restarting Postgres
Stopping postgresql-9.3 service: [60G[[0;32m &#160;OK &#160;[0;39m]
Starting postgresql-9.3 service: [60G[[0;32m &#160;OK &#160;[0;39m]
Installing &servicenamelong; &version_short;.12345
Restoring previous logs and thumbnails
Merging supported audio &amp; video codec lists
Network device eth0 already initialized...

Welcome to the product installation utility!
Version information:
   &servicenamelong; &version_short;.0.12345
   -------------------------
   ruby 1.9.3p484 (2013-11-22 revision 43786) [x86_64-linux]
   Rails 3.2.17
   psql (PostgreSQL) 9.3.6
   Elemental Git revision 613c91dd</programlisting>

  <para>You are prompted to read and accept the EULA.</para>
<programlisting language="none">Checking license files.
IMPORTANT INFORMATION
.
.
.
Continue? [Y] <userinput>y</userinput>
.
.
.
Continue? [Y] <userinput>y</userinput>
.
.
.
Continue? [Y] <userinput>y</userinput>
.
.
.
Do you agree to these terms? [N] <userinput>y</userinput></programlisting>'>

      <!ENTITY  install_standalone_ls
      '  <para>For GPU and CPU versions of the software.</para>
                 <programlisting language="none">[elemental@hostname ~]$ sudo sh ./&installer_name;_&delta_ug_dg_version;.n.nnnnn.run &cluster_switch; -z -t&clean;</programlisting>
                <para>For CPU-only versions of the software.</para>
                <programlisting language="none">[elemental@hostname ~]$ sudo sh ./&installer_name;_cpu_&delta_ug_dg_version;.n.nnnnn.run &cluster_switch; -z -t&clean;</programlisting>
                &cl_switch_exp;'>
    
    <!ENTITY  cluster_switch_y '-l'>
    <!ENTITY  cl_switch_exp_y '<para>Where -l is a letter, not a number&clean_exp;.</para>'>
    
    <!ENTITY  sa-config
' <row>
                        <entry>&servicenamelong; in a stand-alone configuration. &servicename; is not managed by &mgmt;.</entry>
                        <entry>&cg_link;</entry>
                    </row>'>

<!ENTITY  cl3-config
'<row>
                        <entry>Multiple &servicenamelong; nodes managed by &mgmt;.</entry>
                        <entry>&cl3_cg_link;</entry>
                    </row>'>
                    
 <!ENTITY  install_vm
      '<programlisting language="none">[elemental@hostname ~]$ sudo sh ./<replaceable>&lt;product&gt;</replaceable> -xeula &cluster_switch; -z</programlisting>'>
      
      <!ENTITY  sample_start_live
   '    <programlisting language="none">[elemental@hostname ~] <command>sudo sh ./&installer_name;_&version_short;.0.12345.run -z -t</command>
Verifying archive integrity... All good.
Uncompressing Elemental Installer  100&percnt;
/tmp/selfgz142612827/elemental_system_update/rpms /tmp/selfgz142612827
/tmp/selfgz142612827
Stopping Services
..
.
Checking Elemental System Update
Starting system update
New system update version: 2152005
System packages are now being updated and modified!
Please DO NOT interrupt the installer after this point!
.

Initializing RPM repo......
Cleaning up old kernels
....

Installing RPMs.....
..
Installing AJA Driver
Installing Deltacast Driver
Installing DekTec Driver
‘./elemental_system_update/configuration/60-dektec-net.rules’ -> ‘/etc/udev/rules.d/60-dektec-net.rules’

Installing MOTD
Installing /etc/issue
.........................
.........................
Reload the systemd manager configuration
.
Installing gems...
Installation of passenger failed, please check the log for details

Running scripts............................
Starting plat-api.
.Created symlink from /etc/systemd/system/multi-user.target.wants/plat-api.service to /usr/lib/systemd/system/plat-api.service.

Initializing postgres
The files belonging to this database system will be owned by user "postgres".
This user must also own the server process.

The database cluster will be initialized with locale "en_US.UTF-8".
The default database encoding has accordingly been set to "UTF8".
The default text search configuration will be set to "english".

Data page checksums are disabled.

fixing permissions on existing directory /data/pgsql/data94 ... ok
creating subdirectories ... ok
selecting default max_connections ... 100
selecting default shared_buffers ... 128MB
selecting dynamic shared memory implementation ... posix
creating configuration files ... ok
creating template1 database in /data/pgsql/data94/base/1 ... ok
initializing pg_authid ... ok
initializing dependencies ... ok
creating system views ... ok
loading system objects&apos; descriptions ... ok
creating collations ... ok
creating conversions ... ok
creating dictionaries ... ok
setting privileges on built-in objects ... ok
creating information schema ... ok
loading PL/pgSQL server-side language ... ok
vacuuming database template1 ... ok
copying template1 to template0 ... ok
copying template1 to postgres ... ok
syncing data to disk ... ok

WARNING: enabling "trust" authentication for local connections
You can change this by editing pg_hba.conf or using the option -A, or
--auth-local and --auth-host, the next time you run initdb.

Success. You can now start the database server using:

    /usr/pgsql-9.4/bin/postgres -D /data/pgsql/data94
or
    /usr/pgsql-9.4/bin/pg_ctl -D /data/pgsql/data94 -l logfile start

Setting up config files
Starting the database service
Created symlink from /etc/systemd/system/multi-user.target.wants/postgresql-9.4.service to /usr/lib/systemd/system/postgresql-9.4.service.
Setting password for default user &apos;postgres&apos;
ALTER ROLE
Tightening Postgres access security
Reloading Postgres
Redirecting to /bin/systemctl reload postgresql-9.4.service
Installing Elemental Live &version_short;.3.3011641
Welcome to the product installation and configuration utility!
Welcome to the product installation utility!
Version information:
        Elemental Live (CPU) &version_short;.3.3011641
        -------------------------
        ruby 2.3.7p456 (2018-03-28 revision 63024) [x86_64-linux]
        Rails 3.2.22.5
        psql (PostgreSQL) 9.4.19
        Elemental Git revision 0290c91c</programlisting>
    
    <para>You&apos;re prompted to read and accept the EULA.</para>
    <programlisting language="none">Checking license files.
IMPORTANT INFORMATION
.
.
.
Continue? [Y] <userinput>y</userinput>
.
.
.
Continue? [Y] <userinput>y</userinput>
.
.
.
Continue? [Y] <userinput>y</userinput>
.
.
.
Do you agree to these terms? [N] <userinput>y</userinput></programlisting>'>

<!ENTITY sample_network
'<para>You are prompted to configure the network&upd_pword;.</para>
<programlisting language="none">Enter this server&apos;s Hostname: [elemental@hostname ~]&cond_db;-01
Detected 2 ethernet devices 
Configuring eth0 
&eth1_mgmt;
Does eth0 use DHCP to get its IP address? [Y] 
Would you like to configure eth1? [N] 
The firewall for this system is currently enabled. Would you like to disable it? [N] 
&upd_pw_prompt;</programlisting>'>

<!ENTITY  eth1_mgmt_y 'Is eth0 a management interface? [Y] '>

<!ENTITY sample_stopped
'<para>Services are stopped (note that actually no services are running) and interfaces are shut down.</para>
<programlisting language="none">Stopping services...
Restarting network services
Redirecting to /bin/systemctl start postgresql-9.4.service
Creating user &apos;elemental&apos;
Creating database &apos;web_production&apos;
Granting all privileges on &apos;web_production&apos;&#160;to user &apos;elemental&apos;</programlisting>'>

  <!ENTITY add_eth_other '<procedure><title>To add Ethernet devices</title>
      <step>
        <para>On the &servicenamelong; web interface, go to the <guilabel>Settings</guilabel> page
          and choose <guilabel>Network</guilabel>.</para></step>
        <step><para>On the <guilabel>Network</guilabel> page, choose <guilabel>Network Devices</guilabel>.</para></step>
        <step><para>On the <guilabel>Network Devices</guilabel> page, choose <guilabel>Add Network Device</guilabel>.</para></step>
      <step><para>In the <guilabel>Add a New Network Device</guilabel> dialog, select <guilabel>eth (ethN)</guilabel>.</para></step>
      <step><para>Complete the fields as follows:</para>
      <itemizedlist>
        <listitem><para><guilabel>Device Name</guilabel>: Select the eth device that you&apos;re setting up.</para></listitem>
      &add_mgmt_eth;
        <listitem><para><guilabel>Description</guilabel>: Auto-populates when you choose a device name. You can modify
              the description as needed.</para></listitem>
        <listitem><para><guilabel>Master Device</guilabel>: Should display <errortext>No devices with port bond
                settings available.</errortext> This wording indicates that you haven&apos;t created a
              bond-type device, so bonding isn&apos;t available.</para></listitem>
        <listitem><para><guilabel>Address Mode</guilabel>: Select the type of IP addresses this device uses, either
                <guilabel>dhcp</guilabel>, <guilabel>static</guilabel>, or
              <guilabel>none</guilabel>. If you&apos;re bonding eth0 and eth1, use static IPs. </para></listitem>
        <listitem><para><guilabel>IP Address</guilabel>, <guilabel>Netmask</guilabel>, <guilabel>Gateway</guilabel>:
              Available when static IP addresses are used only. Complete with your networking
              information.</para></listitem>
        <listitem><para><guilabel>Static Routes</guilabel>: Select if you&apos;re using static routing.</para></listitem>
          <listitem>
            <para><guilabel>Network</guilabel>, <guilabel>Netmask</guilabel>,
                <guilabel>Gateway</guilabel>: Available when static routes are used only. Complete
              with your networking information.</para>
          </listitem>
      </itemizedlist></step>
      <step>
        <para>Choose <guilabel>Save</guilabel>. The new device appears in the Network Devices
          list.</para>
      </step>
    </procedure>'>
	
	<!ENTITY add_mgmt_eth_y '  <listitem><para><guilabel>Management</guilabel>: Typically, leave this unchecked. This device won&apos;t be set up
              as a management interface. The node is usually installed with eth0 as the management
              interface and the node doesn&apos;t need more than one.</para></listitem>'>


      

<!ENTITY cli_bond_restart ' <para>Restart the &AWSE; service using the following command.</para>
      <programlisting language="none">sudo systemctl restart network</programlisting>'>

<!ENTITY cli_bond_verify ' <para>Verify that your bond is running using the following command.</para>
      <programlisting language="none">cat /proc/net/bonding/bond0</programlisting>
      
      <example><title>Functioning bond interface</title>
        <programlisting language="none">[elemental@host~]$ cat /proc/net/bonding/bond0
Ethernet Channel Bonding Driver: v3.7.1 (April 27, 2011)

Bonding Mode: transmit load balancing
Primary Slave: None
Currently Active Slave: eth0
MII Status: up
MII Polling Interval (ms): 100
Up Delay (ms): 0
Down Delay (ms): 0

Slave Interface: eth0
MII Status: up
Speed: 10000 Mbps
Duplex: full
Link Failure Count: 0
Permanent HW addr: 00:50:56:b8:64:44
Slave queue ID: 0

Slave Interface: eth2
MII Status: up
Speed: 10000 Mbps
Duplex: full
Link Failure Count: 0
Permanent HW addr: 00:50:56:8d:8e:db
Slave queue ID: 0
[elemental@host~]$</programlisting>
      </example>'>
      
<!ENTITY  create_ks '<para>You must install the host operating system from an <filename>.iso</filename> file onto each physical machine
         that will be running &AWSE; software. Doing so is referred to as “kickstarting
         the system”.</para>
       <para>Make sure that you install the right version of the operating system with each piece of software. The correct <filename>.iso</filename> file 
       is available at &ESC_activations;.</para>
       <formalpara><title>Create a Boot USB Drive</title>
         <para>Do this from your workstation.</para>
       </formalpara>
       <para>Use a third-party utility (such as PowerISO or ISO2USB) to create a bootable USB drive
         from your <filename>.iso</filename> file. For help, see the knowledge base article <ulink
           url="&bootable_kba;">Creating Bootable Recovery
           (kickstart) Media</ulink>.</para>'>
           
 <!ENTITY bootable_kba 'https://us-east-1.console.aws.amazon.com/elemental-appliances-software/home?region=us-east-1#/viewknowledge/How-to-create-bootable-recovery-kickstart-media-CentOS-Elemental-v2-0-Windows-and-Apple-OS-X'>          
           
 <!ENTITY ks_check_y '<step>
           <para>When the reboot is complete, verify that your data is restored on the system. Navigate
             to <code>/opt/upgrade-backups</code> and verify that the file
             <filename>system-backup.tar.gz</filename> is present.</para>
         </step>'>
     
      <!ENTITY  iso-file
            '<listitem><para>A kickstart (<filename>.iso</filename>) file for creating a USB boot drive. 
            For example, <filename>centos-20161028T12270-production-usb.iso</filename>. </para>
                            <para>You use this file to put a preconfigured installation of your operating system 
                            on your physical machine.</para></listitem>'>                      



<!ENTITY upg_dg_important_ks_y '<important>
       <para>Before you do this step, make sure that you&apos;ve copied your files as described in &get_ready;! If you haven&apos;t
         saved the files, you will lose all of your system information and settings (including
         live event XMLs, profiles, and presets) when you perform the kickstart.</para>
     </important>' >


     
   <!ENTITY ks_upg_option_y '<row>
                 <entry><computeroutput>Upgrade</computeroutput></entry>
                 <entry>Ensure this is set to <userinput>No</userinput>.</entry>
               </row>'>
        
 <!ENTITY  sample_start_OS7
   '    <programlisting language="none">[elemental@hostname ~] <command>sudo sh ./&installer_name;_&version_short;.3.12345.run -l -z -t</command>
Verifying archive integrity... All good.
Uncompressing Elemental Installer  100&percnt;
/tmp/selfgz1160911216/elemental_system_update/rpms /tmp/selfgz1160911216
Non-fatal POSTIN scriptlet failure in rpm package 1:logstash-6.5.4-1.noarch
/tmp/selfgz1160911216
Stopping Services
..
.
Checking Elemental System Update
Starting system update
New system update version: 3150008
System packages are now being updated and modified!
Please DO NOT interrupt the installer after this point!
.

Initializing RPM repo......
Cleaning up old kernels
...

Installing RPMs............................................................
..
Installing MOTD
Installing /etc/issue
.............................
..............................
Reload the systemd manager configuration
.
Installing logstash-forwarder plugin for logstash
Installing gems......................................................................
Running scripts......................................................................
Starting plat-api.
.Created symlink from /etc/systemd/system/multi-user.target.wants/plat-api.service to /usr/lib/systemd/system/plat-api.service.

Initializing postgres
The files belonging to this database system will be owned by user "postgres".
This user must also own the server process.

The database cluster will be initialized with locale "en_US.UTF-8".
The default database encoding has accordingly been set to "UTF8".
The default text search configuration will be set to "english".

Data page checksums are disabled.

fixing permissions on existing directory /data/pgsql/data94 ... ok
creating subdirectories ... ok
selecting default max_connections ... 100
selecting default shared_buffers ... 128MB
selecting dynamic shared memory implementation ... posix
creating configuration files ... ok
creating template1 database in /data/pgsql/data94/base/1 ... ok
initializing pg_authid ... ok
initializing dependencies ... ok
creating system views ... ok
loading system objects&apos; descriptions ... ok
creating collations ... ok
creating conversions ... ok
creating dictionaries ... ok
setting privileges on built-in objects ... ok
creating information schema ... ok
loading PL/pgSQL server-side language ... ok
vacuuming database template1 ... ok
copying template1 to template0 ... ok
copying template1 to postgres ... ok
syncing data to disk ... ok

WARNING: enabling "trust" authentication for local connections
You can change this by editing pg_hba.conf or using the option -A, or
--auth-local and --auth-host, the next time you run initdb.

Success. You can now start the database server using:

    /usr/pgsql-9.4/bin/postgres -D /data/pgsql/data94
or
    /usr/pgsql-9.4/bin/pg_ctl -D /data/pgsql/data94 -l logfile start

Setting up config files
Starting the database service
Created symlink from /etc/systemd/system/multi-user.target.wants/postgresql-9.4.service to /usr/lib/systemd/system/postgresql-9.4.service.
Setting password for default user &apos;postgres&apos;
ALTER ROLE
Tightening Postgres access security
Reloading Postgres
Redirecting to /bin/systemctl reload postgresql-9.4.service
Welcome to the product installation utility!
Version information:
   &servicenamelong; &version_short;.0.12345
   -------------------------
    ruby 2.3.7p456 (2018-03-28 revision 63024) [x86_64-linux]
    Rails 3.2.22.5
    psql (PostgreSQL) 9.4.19
    Elemental Git revision 0290c91c</programlisting>

  <para>You are prompted to read and accept the EULA.</para>
<programlisting language="none">Checking license files.
IMPORTANT INFORMATION
.
.
.
Continue? [Y] <userinput>y</userinput>
.
.
.
Continue? [Y] <userinput>y</userinput>
.
.
.
Continue? [Y] <userinput>y</userinput>
.
.
.
Do you agree to these terms? [N] <userinput>y</userinput></programlisting>'>
      
      
 <!ENTITY  upg_intro_OS7 '<para>&servicenamelong; version &version_example;.0 and higher requires an upgraded operating
    system. Before upgrading the software, you have to upgrade the OS. This upgrade process is
    referred to as a kickstart. The following sections describe how to perform an upgrade without
    losing all of your data or settings. These steps apply when you&apos;re upgrading to
    &version_example;.0 or later from version &dg_minus1_version_short;.x and &dg_version_short;.x.
    To upgrade from an earlier version, first upgrade to &dg_version_short;.8, then upgrade to
    &version_example;.x.</para>
  <important>
    <para>Do not skip <xref linkend="ver-version-lifeboat"/>! If you don&apos;t perform this step, you
      will lose all of your settings and licenses that are in use on this &servicenamelong;
      system.</para>
  </important>
  <para role="topiclist"/>'>
  
   <!ENTITY  upg_intro_OS7_2 '<para>&servicenamelong; version 2.15.0 and higher requires an upgraded operating system. Before
    upgrading the software, you have to upgrade the OS. This upgrade process is referred to as a
    kickstart. The following sections describe how to perform an upgrade without losing all of your
    data or settings. These steps apply when you&apos;re upgrading from version
    &dg_minus1_version_short;.x. To upgrade from an earlier version, first upgrade to 2.14.8, then
    upgrade to &version_example;.x.</para>'>
  

  
  <!ENTITY upg_OS7 '<para>When you&apos;ve upgraded the operating system and restored your data, you can upgrade the
      software on the node.</para>
    <procedure><title>To upgrade the node</title>
      <step>
        <para>From a Linux prompt, log in to the hardware unit with the
            <emphasis>elemental</emphasis> user credentials.</para>
      </step>
      <step>
        <para> From the system&apos;s home folder, extract the upgrade-backup tarball. Do not use the
          root user for this.</para>
        <programlisting language="none">[elemental@host ~]$ <userinput>tar -zxvf /opt/upgrade-backups/system-backup.tar.gz</userinput><computeroutput>
./
./licfiles/
./licfiles/<filename>eme.lic</filename>
./licfiles/ui.lic
./settings.xml
./pgsql-backup.pg_dump</computeroutput></programlisting>
      </step>
      <step>
        <para>Move your license files to <code>/home/elemental</code>.</para>
        <programlisting>[elemental@host ~]$ <userinput>cp ~/licfiles/*.lic /home/elemental</userinput></programlisting></step>
          <step>
            <para>Run the installer with the following options. This will restore your database and
              put the licensing files in place.</para>
            <programlisting>[elemental@host ~]$ <userinput>sudo sh ./&installer_name;_&version_example;.0.123456.run --restore-db-backup /opt/upgrade-backups/system-backup.tar.gz</userinput></programlisting>
          </step>
    </procedure>'>
    
    <!ENTITY  restore_OS7 '<para>Apply <filename>settings.xml</filename> to restore the system&apos;s configuration, including events, profiles, and presets. This does not include VLANs and bonded interfaces! You must recreate VLANs and bonds manually through the CLI. If you don&apos;t need to import previous settings or you plan to reconfigure the node manually, you can skip this step.</para>
    <procedure><title>To restore your configuration</title>
      <step><para>Run the following script to apply <filename>settings.xml</filename>.</para>
        <programlisting>[elemental@host ~]$ <userinput>nohup python /opt/elemental_se/web/script/platform_api_settings.py ./settings.xml</userinput></programlisting>     
      </step>
      <step><para>As needed, recreate bonds and VLANs manually through the CLI. For help, see the following articles:</para>
        <itemizedlist>
          <listitem>
            <para><ulink url="&vlan_kba;">Creating a Network VLAN in CentOS7 and RHEL7 from the CLI</ulink> </para>
          </listitem>
          <listitem>
            <para><ulink url="&bond_kba;">Creating a Network Bond in CentOS7 and RHEL7 from the CLI</ulink> </para>
          </listitem>
        </itemizedlist></step>
    </procedure>     
   '>

<!ENTITY  vlan_kba 'https://community.elemental.com/docs/DOC-4023' >
<!ENTITY  bond_kba 'https://community.elemental.com/docs/DOC-3976' >
   
  <!ENTITY  dg_advisory '<para>When the installer completes, <emphasis role="bold">do not</emphasis> reboot or
                restart! Run these two commands first:</para>
              <programlisting>[elemental@hostname ~]$ <command>sudo yum versionlock delete device-mapper*</command></programlisting>
              <programlisting>[elemental@hostname ~]$ <command>sudo yum install lvm2</command></programlisting>
              <para>If you don&apos;t run these commands before rebooting, the node will boot into
                emergency mode and you might lose data.</para>' >
                
                
  <!ENTITY OS7_dg_installer_cl3 '<listitem>
                  <para>For &servicename; nodes:</para>
                  <programlisting language="none">[elemental@host ~]$ <command>sudo sh &installer_name;_&dg_version_short;.8.123456.run -i settings.xml --restore-db-backup /home/elemental/<replaceable>&lt;database_backup&gt;</replaceable></command></programlisting>
                </listitem>' >  
                
         <!ENTITY OS7_2_dg_installer_cl3 '<listitem>
                  <para>For &servicename; nodes:</para>
                  <programlisting language="none">[elemental@host ~]$ <command>sudo sh &installer_name;_&dg_minus1_version_short;.8.123456.run -i settings.xml --restore-db-backup /home/elemental/<replaceable>&lt;database_backup&gt;</replaceable></command></programlisting>
                </listitem>' > 

 <!ENTITY dg_OS7_2 '  <procedure><title>To downgrade the node</title>
            <para>Perform the following steps on the each unit.</para>
            <step>
              <para>From a Linux prompt, log in to the hardware unit with the
                <emphasis>elemental</emphasis> user credentials.</para>
            </step>
            <step>
              <para>Copy the following files from your workstation to <code>/home/elemental</code>:</para>
              <itemizedlist>
                <listitem>
                  <para><filename>ui.lic</filename></para>
                </listitem>
                <listitem>
                  <para><filename><filename>eme.lic</filename></filename></para>
                </listitem>
                <listitem>
                  <para><filename>settings.xml</filename></para>
                </listitem>
                <listitem>
                  <para>The database backup for the version that you&apos;re downgrading to (such as <filename>elemental-db-backup_&product;_&dg_minus1_version_short;.8_2018-02-08_21-01-36.tar</filename>)</para>
                </listitem>
              </itemizedlist>
            </step>
            <step>
              <para>
                Run the installer as follows.
              </para>
              <itemizedlist>
                &OS7_dg_installer;
                <listitem><para>For GPU and CPU versions of &worker; software:</para>
                  <programlisting language="none">[elemental@hostname ~]$ <command>sudo sh &worker_installer_name;_&worker_version_dg;.8.123456.run -i settings.xml --restore-db-backup /home/elemental/<replaceable>&lt;database_backup&gt;</replaceable></command>             </programlisting></listitem>
                <listitem><para>For CPU-only versions of &worker; software:</para>
                  <programlisting language="none">[elemental@hostname ~]$ <command>sudo sh &worker_installer_name;_cpu_&worker_version_dg;.8.123456.run -i settings.xml --restore-db-backup /home/elemental/<replaceable>&lt;database_backup&gt;</replaceable></command></programlisting>
                </listitem>
              </itemizedlist>
            </step>
            
            <step>
              &delta_upg_reboot;
              &delta_upg_reboot_yes;
            </step>
            <step>
              &delta_upg_restart;
              &delta_upg_restart_yes;
            </step>
            <step>
              <para>Refresh your web browser to load the updated web interface.</para>
            </step>
          </procedure>'>
				
       
  <!ENTITY dg_OS7 '  <procedure><title>To downgrade the node</title>
            <para>Perform the following steps on the each unit.</para>
            <step>
              <para>From a Linux prompt, log in to the hardware unit with the
                <emphasis>elemental</emphasis> user credentials.</para>
            </step>
            <step>
              <para>Copy the following files from your workstation to <code>/home/elemental</code>:</para>
              <itemizedlist>
                <listitem>
                  <para><filename>ui.lic</filename></para>
                </listitem>
                <listitem>
                  <para><filename><filename>eme.lic</filename></filename></para>
                </listitem>
                <listitem>
                  <para><filename>settings.xml</filename></para>
                </listitem>
                <listitem>
                  <para>The database backup for the version that you&apos;re downgrading to (such as <filename>elemental-db-backup_&product;_&version_example;.8_2018-02-08_21-01-36.tar</filename>)</para>
                </listitem>
              </itemizedlist>
            </step>
            <step>
              <para>
                Run the installer as follows.
              </para>
              <itemizedlist>
                &OS7_dg_installer;
                <listitem><para>For GPU and CPU versions of &worker; software:</para>
                  <programlisting language="none">[elemental@hostname ~]$ <command>sudo sh &worker_installer_name;_&worker_version_dg;.8.123456.run -i settings.xml --restore-db-backup /home/elemental/<replaceable>&lt;database_backup&gt;</replaceable></command>             </programlisting></listitem>
                <listitem><para>For CPU-only versions of &worker; software:</para>
                  <programlisting language="none">[elemental@hostname ~]$ <command>sudo sh &worker_installer_name;_cpu_&worker_version_dg;.8.123456.run -i settings.xml --restore-db-backup /home/elemental/<replaceable>&lt;database_backup&gt;</replaceable></command></programlisting>
                </listitem>
              </itemizedlist>
            </step>
            
            <step>
              &delta_upg_reboot;
              &delta_upg_reboot_yes;
            </step>
            <step>
              &delta_upg_restart;
              &delta_upg_restart_yes;
            </step>
            <step>
              <para>Refresh your web browser to load the updated web interface.</para>
            </step>
          </procedure>'>
	 
	   <!ENTITY cli_bond_interface_file ' <para>Access the configuration files for each of the interfaces that are participating in the bond. Add the following lines.</para>
      <programlisting language="none">MASTER=bond0
SLAVE=yes</programlisting>
<para>For help creating and updating bonding files through the CLI, see <ulink url="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/7/html/networking_guide/sec-network_bonding_using_the_command_line_interface">Using the CLI</ulink> in the Red Hat <emphasis>Networking Guide</emphasis>.</para>'>
      
    <!ENTITY  install_standalone_ls
      '  <para>For GPU accelerated versions of the software.</para>
                 <programlisting language="none">[elemental@hostname ~]$ sudo sh ./&installer_name;_&delta_ug_dg_version;.n.nnnnn.run &cluster_switch; -z -t&clean;</programlisting>
                <para>For CPU-only versions of the software.</para>
                <programlisting language="none">[elemental@hostname ~]$ sudo sh ./&installer_name;_cpu_&delta_ug_dg_version;.n.nnnnn.run &cluster_switch; -z -t&clean;</programlisting>
                &cl_switch_exp;'>
				
<!ENTITY lboat_avail_other '<para>For &servicenamelong; versions 2.14.5 and later, the script to create the
        lifeboat is available on the system. For versions 2.14.4 and earlier, download the script attached to this article: 
        <ulink url="&kickstart_kba;">Kickstarting
        and Upgrading from CentOS 6.9/RHEL6 to CentOS 7.5/RHEL7</ulink>.</para>'>
        
        <!ENTITY  kickstart_kba 'https://us-east-1.console.aws.amazon.com/elemental-appliances-software/home?region=us-east-1#/viewknowledge/Kickstart-overview-process-and-troubleshooting'>
		
<!ENTITY lboat_avail_cl3 '<para>You must be on &servicenamelong; version 3.7.7 or later to use the
                lifeboat. If you&apos;re on an earlier version, upgrade to 3.7.7, and then
                upgrade to &version_short;.x. For help upgrading to 3.7.7, see the 3.7 upgrade guide in the <ulink
                    url="&url-doc-domain;elemental-conductor/#previous-versions">Previous Versions</ulink> section of the 
                    <emphasis>&ECL3long; Documentation</emphasis> home page.</para>'>
				
 <!ENTITY check_ess_upg '<para>Refer to the essential notes in the <ulink url="&rn;"> &servicenamelong; Release Notes</ulink> to identify changes in behavior with the upgrade. </para>
'>
     

        
        <!ENTITY upg_standalone_intro
   '<para>This section describes how to upgrade a standalone &servicenamelong; node.</para>
     <para>The procedure for upgrading any version of a standalone node is the same; only the version numbers in the file name change. In this section, we show how to upgrade to version &version_example; of the software.</para>
    <important>
      <para>Refer to the &servicenamelong; &version_short; Release Notes to identify changes in
        requirements and behavior with the upgrade.</para>
    </important>
     <formalpara><title>Quick reference</title>
       <para>Here are the key upgrade commands. Use the actual filename of the <filename>.run</filename> file that you&apos;re using, rather than that provided in the example.</para></formalpara>
     &upg_up_installer_command;
     <para>For more detailed instructions, see the following topics.</para>
     <para role="topiclist"/>'>
    
 <!--  edited entities -->
   <!ENTITY delta_upg_restart_no
'<para>Do not respond to this prompt! Instead, switch to node A, as described below.</para>
<warning><para>You must not restart node B yet because doing so would cause node B to become a leader (along with node A), 
which would cause serious conflicts.</para></warning>'>
   
   <!ENTITY delta_upg_cluster_intro
' <para>You must &adm_up_dn; the nodes in concert with each other in order to be able to continue
    ingesting and egressing content during the &adm_up_dn;.</para>
  <warning><para>To ensure a seamless &adm_up_dn;, do not use a VIP for content ingest. Instead, use
            one of these options:</para>
          <itemizedlist>
            <listitem>
             <para>Use a multicast source feed.</para>
            </listitem>
            <listitem>
                <para>Send dual, matching streams to each ingest node.</para>
            </listitem>
          </itemizedlist>
          <para>This way, content can continue to be ingested during &adm_up_dn;.</para>
  </warning>
  <para>These are the node references in this procedure:</para>
  <itemizedlist>
        <listitem><para>The current (as of the start of the &adm_up_dn; process) leader is referred to as “node A."</para></listitem>
    <listitem>
        <para>The current secondary node is referred to as “node B."</para>
    </listitem>
  </itemizedlist>
  <para>You will &adm_up_dn; node B and set it as the leader, and then &adm_up_dn;
      node A and add it to node B&apos;s cluster. In the end, the two nodes will have switched
      roles.</para>
  <note><para>We strongly recommend that you review this entire procedure before starting, in order
    to understand what will happen.</para></note>'>
    
    
<!ENTITY delta_upg_dg
' <listitem>
        <para>Run the installer as follows:</para>        
        &delta_upg_dn_command;
        <para>where:</para>
        <itemizedlist>
          <listitem>
            <para><code>version</code>: If you meet the downgrade special conditions, the version is 2.1.3. Otherwise, use the version that you&apos;re downgrading to.</para>
          </listitem>
          <listitem>
            <para><code>--skip-all</code>: Skips the configuration prompts you followed the first time you
              installed. The existing configuration is unchanged.</para>
          </listitem>
          <listitem>
            <para><code>-xeula</code>: Skips the prompts to read through the EULA. You are prompted once to accept
              it.</para>
          </listitem>
          <listitem>
            <para><code>--start</code>: Specifies to start the services without being prompted.</para>
          </listitem>
          <listitem>
            <para><code>--downgrade</code>: Tells the installer that an earlier version is being
              installed.</para>
          </listitem>
          <listitem>
            <para><code>--restore-db &lt;path></code>: Installs the backup file that you identified earlier.
              Specify just the filename, in this format:
              <userinput>&installer_name;_<replaceable>n.n.n.nnnnnn</replaceable>_<replaceable>yyyy-mm-dd_hh-mm-ss</replaceable></userinput></para>
          </listitem>
        </itemizedlist>
        <para>The installer looks for the database file you specified and checks that it is a
          compatible version. If the file is not found or is not compatible, the downgrade
          fails.</para>
        <para>The installer automatically stops the software, if it is running. You are prompted to accept the EULA (end user license agreement).</para>
        <para>The new software is installed. During installation, the database is restored.
          Finally, all services except elemental_se are automatically restarted.</para>
       <note> <para>During downgrade, the logs display a <code>RubyVersionMismatch</code> error. This is expected
            and doesn&apos;t affect the downgrade process. For reference, the full error is as
            follows:
       <errortext>/opt/elemental-ruby/lib/ruby/gems/1.9.1/gems/bundler-1.11.2/lib/bundler/definition.rb:402:in `validate_ruby!&apos;: Your Ruby version is 1.9.3, but your Gemfile specified 2.3.6 (Bundler::RubyVersionMismatch)</errortext></para></note>
      </listitem>'>
      
       <!ENTITY  delta_upg_clean_db
'<para>Delta version 2.2 included a number of improvements to the live-to-VOD and ive-to-VOD catalog features. To take full advantage of these improvements, clean the database and do a full vacuum on each node prior to upgrading.</para>
    <warning><para>This process can take multiple hours to complete. Make sure you perform cleanup within a maintenance window.</para></warning>
      <orderedlist>
      <listitem>
        <para>Run the following cleanup scripts</para>
    <programlisting language="none">cd /opt/elemental_se/web/vendor/gems/delta/script/</programlisting>
<programlisting>./clean-orphans.rb --clean-orphaned-filters</programlisting>
        <para>If you&apos;re on Delta version 2.0 or later and use live-to-VOD catalog, use the
            following script as well.
        </para>
    <programlisting language="none">cd /opt/elemental_se/web</programlisting>
<programlisting>RAILS_ENV=production /opt/elemental-ruby/bin/rails runner ./vendor/gems/delta/script/clean_l2vc_orphans.rb</programlisting>
      </listitem>
      <listitem>
        <para>Wait for segment cleanup to complete.</para>
        <para>To view progress, navigate to the <guilabel>Delta Content Deletion</guilabel> graph on the <guilabel>Stats</guilabel> tab in the
        Delta web interface. Wait for Delta to reestablish a
            normal 60 second cleanup cadence. This indicates that the content files on the disk that
            were bound to the leaked filters have been cleaned up.</para>
      </listitem>
      <listitem>
         <para>Stop elemental_se using the following command.</para>
        <programlisting language="none">sudo service elemental_se stop</programlisting>
      </listitem>
      <listitem>
        <para>Do a full vacuum of the database to recover any wasted space. Use the following
            commands.</para>
    <programlisting language="none">psql web_production</programlisting>
<programlisting>vacuum full;</programlisting>
        <note><para>You get a number of “superuser” warnings at this point. Ignore these.</para></note>
        <programlisting language="none">\q</programlisting>
      </listitem>
      <listitem>
            <para>Continue with the upgrade process.</para>
      </listitem>
    </orderedlist>'>
   
   <!ENTITY delta_upg_ready_locate_sw_all
'      <listitem>
        <para>From your regular workstation, open a web browser, go to &ESC_activations; and download the software for the version that 
            you&apos;re going to.</para>
      </listitem>
      <listitem>
          <para>Make a note of where downloads are stored on your workstation. For example:</para>
        <programlisting language="none">h:/corporate/downloads/.</programlisting>
      </listitem>
      <listitem>
          <para>Make a note of the name of the download file. For example:
    <filename>&installer_name;_&delta_ug_dg_version;.0.123456.run</filename></para><!--define ug_dg at file level-->
      </listitem>
          <listitem><para> Copy the download file from your workstation to <filename>/home/elemental/</filename> on one of the nodes. For example:</para>
        <itemizedlist>
          <listitem><para>Use SFTP protocol and an FTP client application on your workstation computer.
            Connect to the IP address for &EDLTlong; on port 22 with the <emphasis>elemental</emphasis> user
            credentials and transfer the file.</para></listitem>
      <listitem>
          <para>Use SCP protocol and an SCP client application on your workstation computer. Copy
            the file with the <emphasis>elemental</emphasis> user credentials and transfer the file.</para>
      </listitem>
              </itemizedlist></listitem>
      <listitem>
          <para>Repeat the download to any other nodes that are changing versions. If you&apos;re changing versions on several nodes, copy the download file to every hardware unit at once. Doing so reduces downtime on each node as you start installing the new software.</para>
      </listitem>'>
      <!--<para>Use Windows Share protocol. Connect to <filename>\\&lt;elemental-ip>\elemental</filename> on a PC or
            <filename>smb://&lt;elemental-ip>/elemental</filename> on a Mac. Use the <emphasis>elemental</emphasis> user credentials and
            copy/paste the file into the network share.</para>
      -->
      <!ENTITY delta_upg_up_installer
'<listitem>
              <para>Run the installer with the skip-all option:</para>
            &delta_upg_up_command;
              <para>The installer automatically stops the software, if it&apos;s still running. The following
                prompts are skipped:</para>
<itemizedlist>
          <listitem>
              <para>You are not prompted to change the network setup (eth0 and eth1) or the
                Ethernet partitioning (setup of eth0 as a management interface).</para>
          </listitem>
          <listitem>
              <para>You are not prompted to choose the time zone.</para>
          </listitem>
          <listitem>
              <para>You are not prompted to enable or disable user authentication.</para>
          </listitem>
</itemizedlist>
            <para>You <emphasis>are</emphasis> prompted to accept the EULA (end user license agreement).</para>
              <para>The new software is installed and all services except <code>elemental_se</code> are
                automatically restarted.</para>
      </listitem>'>
      
      <!ENTITY delta_upg_reboot_yes
         '<para>Enter this command to reboot:</para>
         <programlisting language="none"><computeroutput>[elemental@hostname ~]$</computeroutput> <command>sudo reboot</command></programlisting>
          <para>The reboot takes approximately 5 minutes. When the reboot completes, the elemental _se service automatically starts. Look
            for this message on the command line:</para>
    <programlisting language="none">Starting elemental_se: [ OK ]</programlisting>'>
   
   <!ENTITY delta_upg_working
'<para>The node must be in a working state prior to &adm_up_dn;. If the node is in a degraded state (for example, the web interface 
isn&apos;t responding), the &adm_up_dn; fails.</para>'>

<!ENTITY delta_upg_restart
'        <para>If you&apos;re not prompted to reboot, you are prompted to start elemental_se:</para>  
  <programlisting language="none">Would you like to start the Elemental service now? [Y]</programlisting>'>
  

<!ENTITY delta_upg_complete_b
'<para>Perform these steps at node B. Remember that in &adg_step;, you were prompted either to reboot or to
      restart elemental_se. You now obey that prompt.</para><!--define entity at local file-->'>
      
      <!ENTITY delta_upg_dg_right
'<para>If you <emphasis>didn&apos;t</emphasis> meet the conditions for special downgrade, skip this step.</para>
              <para>If you met the conditions for special downgrade, run the installer with downgrade to your desired version.</para>
        &delta_upg_dn_command;
              <para>The new software is installed and all services except elemental_se are
                automatically restarted.</para>'>
                
                  
  <!ENTITY  delta_prep_dg '<listitem>
        <para>If you&apos;re not downgrading from &servicename; version 2.3.1, skip this step. If you are
          downgrading from 2.3.1, delete the <code>filter_stats</code> RabbitMQ queue by using the
          following steps:</para>
        <orderedlist>
          <listitem>
            <para>From a Linux command prompt, locate the RabbitMQ username and password in the following directory: <code>/etc/elemental/rabbitmq</code></para>
          </listitem>
          <listitem>
            <para>Navigate to the RabbitMQ web interface using the following address: <code>http://<replaceable>delta.hostname</replaceable>:15672</code></para>
          </listitem>
          <listitem>
            <para>Log in to the RabbitMQ interface and choose the <guilabel>Queues</guilabel> tab.</para>
          </listitem>
          <listitem>
            <para>Choose <guilabel>filter_stats</guilabel>.</para>
          </listitem>
          <listitem>
            <para>Expand the <guilabel>Delete/purge</guilabel> section and choose
              <guilabel>Delete</guilabel>.</para>
          </listitem>
        </orderedlist>
      </listitem>
      <listitem>
        <para>Make sure that the node has timed out on the web interface before running the prepare for
          downgrade script.</para>
        <programlisting language="none">[elemental@hostname ~]$ <command>sudo /opt/elemental_se/web/script/prepare_for_downgrade.sh -i ./&installer_name;_&lt;<replaceable>version</replaceable>>.nnnnnn.run</command></programlisting>
        <para>These are the guidelines for the version to use in the script:</para>
        <itemizedlist>
          <listitem><para>If you meet the conditions in <xref linkend="special"/>, run the script for version 2.1.3.</para></listitem>
          <listitem><para>If you <emphasis>don&apos;t</emphasis> meet the conditions for special consideration, run the script for the version that you&apos;re downgrading to.</para></listitem>
        </itemizedlist>
      </listitem>
      <listitem>
        <para>Enter this command to remove the existing package cache.</para>
        <programlisting>[elemental@hostname ~]$ <command>sudo rm -r /var/cache/yum/local/</command></programlisting>
      </listitem>'>
      
      <!ENTITY delta_upg_ready_locate_db
'<para>Locate and make note of the database file to restore. </para>
<important><para>If you meet the conditions in <xref linkend="special"/>, locate the database backup for version 2.1.3 as well as the version that 
you&apos;re downgrading to.</para></important>
    <para>Every time that you downgrade, &servicenamelong; automatically makes a backup of the
      database similar to this:</para>
    <screen>/home/elemental/database_backups/elemental-db-backup_Delta_&dg_minus1_version_short;.0_2015-02-08_21-01-36.tar</screen>
    <para>When you perform the downgrade, you specify the database backup that you&apos;re
      restoring. Ideally, you should restore the backup that corresponds to the version that you are
      downgrading to. For example, when you&apos;re downgrading to version &delta_dg_version_short;.0, you would restore the
      &delta_dg_version_short;.0 database.</para>
    <para>If the database for the version that you&apos;re downgrading to isn&apos;t available, you can use an
      earlier database. For example, if you&apos;re downgrading to &delta_dg_version_short;.1 and that database isn&apos;t
      available, you can restore the &delta_dg_version_short;.0 database. Be aware that you will lose all entities (input
      filters, output filters, and so on) that you created between &delta_dg_version_short;.0 and &delta_dg_version_short;.1, though. </para>'>
      
      
        <!ENTITY sample_ports
'<para>If you enabled the firewall, the installer asks you a series of questions to determine what ports are enabled. 
All but critical ports are disabled by default. Answering <userinput>yes</userinput> to any of the following prompts opens the applicable port. </para>
<programlisting language="none">Is this machine a part of or intended to be a part of a Conductor Live 3 cluster? [N]
Is this a Statmux machine, or intended to be linked to a Statmux machine? [N]
Will this machine require use of SNMP alerts? [N]
Will this machine be ingesting RTMP? [N]
Will this machine ingest MPEG-TS over UDP? (ports 5000-5100) [N]
Is this machine licensed as part of a licensing pool? [N]
Will this machine serve files using Windows file-sharing (Samba/CIFS)? [N]
Will this machine be an NTP server? [N]
Port hardening prompts completed.</programlisting>'>
   
   
  <!ENTITY  error_card
                ' <row>
                    <entry>Card counts do not match</entry>
                    <entry>If you changed the CPU or GPU cards on the hardware unit after requesting the license, the license might no longer be valid. Change the cards back or contact your sales representative to discuss your revised licensing requirements.</entry>
                </row>'>
                
     <!ENTITY prompt_terms
  ' <row>
                 <entry><computeroutput>Do you agree to these terms?</computeroutput></entry>
                 <entry><para>This prompt appears after you have paged through the EULA (End User License Agreement).</para>
                   <para>Enter <userinput>Yes</userinput> or <userinput>No</userinput>. (You must enter Yes to continue.)</para></entry>
               </row>'>
   
   <!ENTITY install_intro 
       '<para>The procedure for installing any version of &servicenamelong; is the same; only the version number in the file name changes. In this procedure, we show how to install version &version_short;.3.12345 of the software.</para>
    <para>Installation consists of four parts: </para>
    <orderedlist>
   <listitem><para> Downloading files from &AWSE;</para></listitem>
  <listitem> <para> Installing the host operating system (OS)</para></listitem>
  <listitem> <para> Installing the &AWSE; software</para></listitem>
  <listitem>  <para>Setting up licensing</para></listitem>
  </orderedlist>
    <para role="topiclist"/>'>          
   
   
  <!ENTITY clean-install-ks
       ' <para>You must install a configured operating system from an <filename>.iso</filename> file onto each physical machine that will be running &AWSE; software. Doing so is referred to as “kickstarting the system”.</para>
     <para>Make sure that you install the right version of the operating system with each piece of software. The correct <filename>.iso</filename> file is always provided with the 
     <filename>.run</filename> file under <guilabel>Activations</guilabel> at &ESC_activations;.</para>
     <formalpara><title>Create a Boot USB Drive or DVD</title>
       <para>Do this from your workstation.</para>
     </formalpara>
     <para>Use a third-party utility (such as PowerISO or ISO2USB) to create a bootable DVD or USB drive from your <filename>.iso</filename> file. Instructions for using these utilities can be found in the &ESC_support; knowledge base.</para>
     <formalpara><title>Install the Operating System at Each Node</title>
       <para>Do this from each Elemental node.</para>
  </formalpara>
     <orderedlist>
       <listitem><para>Insert the DVD or USB thumb drive into the hardware unit.</para></listitem>
      <listitem> <para>Boot up or reboot the system. The installer automatically starta.</para>
        <mediaobject>
    <imageobject>
      <imagedata fileref="images/install-installer-shared-png.png" format="PNG"/>
    </imageobject>
  </mediaobject></listitem>
         <listitem>
           <para>Use the arrow keys to select each option and do the following:</para>
           <table><title/>
             <tgroup cols="2">
               <colspec colname="option" colnum="1"/>
               <colspec colname="instructions" colnum="2"/>
               <thead>
             <row>
               <entry>Menu Option</entry>
                   <entry>Instructions</entry>
                 </row>
               </thead>
               <tbody>
                 <row>
                   <entry><computeroutput>Set Hostname</computeroutput></entry>
                   <entry><para>Change the hostname to a useful name such as <userinput>&product;-01</userinput> or <userinput>&product;-chicago-01</userinput>.</para>
                     <para>Do not use localhost as the hostname!</para>
                     <para>Do not use periods or underscores in the hostname</para></entry>
                 </row>
                 <row>
                   <entry><computeroutput>Disk layout: Auto-detect</computeroutput></entry>
                   <entry>Leave this set at Auto-detect.</entry>
                 </row>
                 <row>
                   <entry><computeroutput>Set Key</computeroutput></entry>
                   <entry>Press the down arrow to skip this option.</entry>
                 </row>
                 <row>
                   <entry><computeroutput>Upgrade</computeroutput></entry>
                   <entry>Choose <userinput>No</userinput>. Choosing <userinput>No</userinput> deletes all data from the hardware unit. Never choose <userinput>Yes</userinput> when doing a new install.</entry>
                 </row>
                 <row>
                   <entry><computeroutput>Install and configure base operating system</computeroutput></entry>
                   <entry>Press <userinput>Enter</userinput> to begin the OS installation.</entry>
                 </row>
               </tbody>
             </tgroup>
           </table>
           <para>The operating system is installed. From now on, the system runs this customized version of your Linux operating system.</para></listitem>
         <listitem><para>Repeat the above steps on each system, using the <filename>.iso</filename> file that goes with the &AWSE;software you are installing on each system.</para></listitem>  
     </orderedlist>'>
     
      <!ENTITY generate-key-file
            '   <para>The operating system that you installed on your hardware has a utility you can use to generate an activation key file. </para>
           <procedure> <title>To generate an activation key file</title>
               <step><para>Using an SSH client such as PuTTY, log in to the hardware unit with the <emphasis>elemental</emphasis> user credentials. </para>
                <para>You are logged in at the home directory (/elemental).</para>
               </step>
                <step><para>Enter this command.</para>
                    <programlisting language="none">[elemental@hostname ~] <command>./keygen</command></programlisting>
                </step>
                    <step><para>At the prompt, enter the activation code. The following file is created 
                    in the home directory: <filename>activation_&lt;hostname of the system&gt;<filename>.key</filename> </filename>.</para>
                    </step>
                        <step><para>Copy the file to your workstation. For example:</para>
                            <itemizedlist>
                                <listitem><para>Use SCP or a similar utility on a Linux workstation.</para></listitem></itemizedlist>
                                        <para>Use the <emphasis>elemental</emphasis> user credentials and copy and paste the file from the network share.</para></step>
                                        <step><para>Repeat these steps for each &servicenamelong; hardware unit. </para>
                                            <itemizedlist>
                                                <listitem><para>Make sure to log in to each hardware unit for each activation key file that you want to generate: each activation key file that you create must contain the hostname of the individual hardware unit.</para></listitem>
                                                <listitem><para>Make sure to use a different activation code on each unit.</para></listitem></itemizedlist></step></procedure>'>
   
   
     <!ENTITY generate-license-licenses-step 
     ' <step><para>Hover over the three-bar icon on the right of the screen to bring up a small menu. Choose <guilabel>License(s)</guilabel>.</para>
                     <mediaobject>
    <imageobject>
      <imagedata fileref="images/install-licorderdetail-shared-png.png" format="PNG"/>
    </imageobject>
  </mediaobject></step>'>
  
           <!ENTITY generate-license-upload-step                                        
             '    <step><para>This returns you to the <guilabel>Generate Licenses</guilabel> page,
             with your <filename>.key</filename> file selected. Choose <guilabel>Upload License Key</guilabel>.</para>
                                 <mediaobject>
    <imageobject>
      <imagedata fileref="images/install-genlic-shared-png.png" format="PNG"/>
    </imageobject>
  </mediaobject></step>'> 
  
                 
<!ENTITY generate-license-view-step  
              '   <step><para>This takes you to the <guilabel>View Licenses</guilabel> page, where you can download a <filename>.tgz</filename> file. This is a compressed, aggregated file that contains all the license files that you need for this system.</para>
                                     <mediaobject>
    <imageobject>
      <imagedata fileref="images/install-viewlic-shared-png.png" format="PNG"/>
    </imageobject>
  </mediaobject></step>'>   
  
  <!ENTITY distribute_license_files
   '   <para>Perform the following steps for each &servicenamelong; system.</para>
            <procedure><title>To distribute license files</title>
                <step><para>From your workstation, SSH into the &servicenamelong; system. Log in with the <emphasis>elemental</emphasis> user credentials. </para>
                </step>
                <step><para>Copy the <filename>.tgz</filename> file to /home/elemental on the &servicename; system. 
                If you are setting up several systems, make sure that the hostname in the <filename>.tgz</filename> file name matches the hostname. Use a file transfer utility to copy the file. For example:</para>
                    <itemizedlist>
                        <listitem><para>Use Windows Share protocol: Connect to “\\&lt;elemental-ip&gt;\elemental” on a PC.</para></listitem>
                        <listitem><para>Use Samba: Connect to “smb://&lt;elemental-ip&gt;/elemental” on a Mac.&nbsp;&#160;</para></listitem>
                        <listitem><para>Use SCP or a similar utility on a Linux workstation.</para></listitem></itemizedlist>
                </step>                    
                        <step><para>Unpack the <filename>.tgz</filename> file with the following command.</para>
                                        <programlisting language="none">[elemental@hostname ~]$ <command>tar -xvzf 
                                        /home/elemental/lic-download-&lt;hostname&gt;<filename>.tgz</filename> /opt/elemental_se</command></programlisting>
                                <para>You end up with one or more of the following files:</para>
                               <itemizedlist> <listitem><para><filename>eme.lic</filename>: This file is always included.</para></listitem>
                                    <listitem><para><filename>ui.lic</filename>: This file may be included.</para></listitem></itemizedlist>
                                    </step></procedure> 
                                        <para>When the <filename>.lic</filename> file or files is unpacked in the /opt/elemental_se directory,
                                        your software is enabled.</para>'>
                                        
    <!ENTITY install_prep_hw
       '               <para>To prepare your hardware and network, make sure you have done the following:</para>
                <itemizedlist>
                    <listitem><para>Physically installed the hardware unit.</para></listitem>
                    <listitem><para>Set up the unit as a node on your network.</para></listitem>
                    <listitem><para>Configured network cards and ensured that they&apos;re able to reach other machines on the network.</para></listitem>
                        <listitem><para>Set up a method, such as SCP, for transferring files from your workstation to the
                        &node_guest;.</para></listitem></itemizedlist>'>
                        
    <!ENTITY delta_upg_restart_no
'<para>Do not respond to this prompt! Instead, switch to node A, as described below.</para>
<warning><para>You must not restart node B yet because doing so would cause node B to become a leader (along with node A), 
which would cause serious conflicts.</para></warning>'>
   
   <!ENTITY delta_upg_cluster_intro
' <para>You must &adm_up_dn; the nodes in concert with each other in order to be able to continue
    ingesting and egressing content during the &adm_up_dn;.</para>
  <warning><para>To ensure a seamless &adm_up_dn;, do not use a VIP for content ingest. Instead, use
            one of these options:</para>
          <itemizedlist>
            <listitem>
             <para>Use a multicast source feed.</para>
            </listitem>
            <listitem>
                <para>Send dual, matching streams to each ingest node.</para>
            </listitem>
          </itemizedlist>
          <para>This way, content can continue to be ingested during &adm_up_dn;.</para>
  </warning>
  <para>These are the node references in this procedure:</para>
  <itemizedlist>
        <listitem><para>The current (as of the start of the &adm_up_dn; process) leader is referred to as “node A."</para></listitem>
    <listitem>
        <para>The current secondary node is referred to as “node B."</para>
    </listitem>
  </itemizedlist>
  <para>You will &adm_up_dn; node B and set it as the leader, and then &adm_up_dn;
      node A and add it to node B&apos;s cluster. In the end, the two nodes will have switched
      roles.</para>
  <note><para>We strongly recommend that you review this entire procedure before starting, in order
    to understand what will happen.</para></note>'>
    
    
<!ENTITY delta_upg_dg
' <listitem>
        <para>Run the installer as follows:</para>        
        &delta_upg_dn_command;
        <para>where:</para>
        <itemizedlist>
          <listitem>
            <para><code>version</code>: If you meet the downgrade special conditions, the version is 2.1.3. Otherwise, use the version that you&apos;re downgrading to.</para>
          </listitem>
          <listitem>
            <para><code>--skip-all</code>: Skips the configuration prompts you followed the first time you
              installed. The existing configuration is unchanged.</para>
          </listitem>
          <listitem>
            <para><code>-xeula</code>: Skips the prompts to read through the EULA. You are prompted once to accept
              it.</para>
          </listitem>
          <listitem>
            <para><code>--start</code>: Specifies to start the services without being prompted.</para>
          </listitem>
          <listitem>
            <para><code>--downgrade</code>: Tells the installer that an earlier version is being
              installed.</para>
          </listitem>
          <listitem>
            <para><code>--restore-db &lt;path></code>: Installs the backup file that you identified earlier.
              Specify just the file name, in this format:
              <userinput>&installer_name;_<replaceable>n.n.n.nnnnnn</replaceable>_<replaceable>yyyy-mm-dd_hh-mm-ss</replaceable></userinput></para>
          </listitem>
        </itemizedlist>
        <para>The installer looks for the database file you specified and checks that it is a
          compatible version. If the file is not found or is not compatible, the downgrade
          fails.</para>
        <para>The installer automatically stops the software, if it is running. You are prompted to accept the EULA (end user license agreement).</para>
        <para>The new software is installed. During installation, the database is restored.
          Finally, all services except elemental_se are automatically restarted.</para>
       <note> <para>During downgrade, the logs display a <code>RubyVersionMismatch</code> error. This is expected
            and doesn&apos;t affect the downgrade process. For reference, the full error is as
            follows:
       <errortext>/opt/elemental-ruby/lib/ruby/gems/1.9.1/gems/bundler-1.11.2/lib/bundler/definition.rb:402:in `validate_ruby!&apos;: Your Ruby version is 1.9.3, but your Gemfile specified 2.3.6 (Bundler::RubyVersionMismatch)</errortext></para></note>
      </listitem>'>
      
       <!ENTITY  delta_upg_clean_db
'<para>Delta version 2.2 included a number of improvements to the live-to-VOD and ive-to-VOD catalog features. To take full advantage of these improvements, clean the database and do a full vacuum on each node prior to upgrading.</para>
    <warning><para>This process can take multiple hours to complete. Make sure you perform cleanup within a maintenance window.</para></warning>
      <orderedlist>
      <listitem>
        <para>Run the following cleanup scripts</para>
    <programlisting language="none">cd /opt/elemental_se/web/vendor/gems/delta/script/</programlisting>
<programlisting>./clean-orphans.rb --clean-orphaned-filters</programlisting>
        <para>If you&apos;re on Delta version 2.0 or later and use live-to-VOD catalog, use the
            following script as well.
        </para>
    <programlisting language="none">cd /opt/elemental_se/web</programlisting>
<programlisting>RAILS_ENV=production /opt/elemental-ruby/bin/rails runner ./vendor/gems/delta/script/clean_l2vc_orphans.rb</programlisting>
      </listitem>
      <listitem>
        <para>Wait for segment cleanup to complete.</para>
        <para>To view progress, navigate to the <guilabel>Delta Content Deletion</guilabel> graph on the <guilabel>Stats</guilabel> tab in the
        Delta web interface. Wait for Delta to reestablish a
            normal 60 second cleanup cadence. This indicates that the content files on the disk that
            were bound to the leaked filters have been cleaned up.</para>
      </listitem>
      <listitem>
         <para>Stop elemental_se using the following command.</para>
        <programlisting language="none">sudo service elemental_se stop</programlisting>
      </listitem>
      <listitem>
        <para>Do a full vacuum of the database to recover any wasted space. Use the following
            commands.</para>
    <programlisting language="none">psql web_production</programlisting>
<programlisting>vacuum full;</programlisting>
        <note><para>You get a number of “superuser” warnings at this point. Ignore these.</para></note>
        <programlisting language="none">\q</programlisting>
      </listitem>
      <listitem>
            <para>Continue with the upgrade process.</para>
      </listitem>
    </orderedlist>'>
      
      <!ENTITY delta_upg_up_installer
'<listitem>
              <para>Run the installer with the skip-all option:</para>
            &delta_upg_up_command;
              <para>The installer automatically stops the software, if it&apos;s still running. The following
                prompts are skipped:</para>
<itemizedlist>
          <listitem>
              <para>You are not prompted to change the network setup (eth0 and eth1) or the
                Ethernet partitioning (setup of eth0 as a management interface).</para>
          </listitem>
          <listitem>
              <para>You are not prompted to choose the time zone.</para>
          </listitem>
          <listitem>
              <para>You are not prompted to enable or disable user authentication.</para>
          </listitem>
</itemizedlist>
            <para>You <emphasis>are</emphasis> prompted to accept the EULA (end user license agreement).</para>
              <para>The new software is installed and all services except <code>elemental_se</code> are
                automatically restarted.</para>
      </listitem>'>
      
      <!ENTITY delta_upg_reboot_yes
         '<para>Enter this command to reboot:</para>
         <programlisting language="none"><computeroutput>[elemental@hostname ~]$</computeroutput> <command>sudo reboot</command></programlisting>
          <para>The reboot takes approximately 5 minutes. When the reboot completes, the elemental _se service automatically starts. Look
            for this message on the command line:</para>
    <programlisting language="none">Starting elemental_se: [ OK ]</programlisting>'>
   
   <!ENTITY delta_upg_working
'<para>The node must be in a working state prior to &adm_up_dn;. If the node is in a degraded state (for example, the web interface 
isn&apos;t responding), the &adm_up_dn; fails.</para>'>

<!ENTITY delta_upg_restart
'        <para>If you&apos;re not prompted to reboot, you are prompted to start elemental_se:</para>  
  <programlisting language="none">Would you like to start the Elemental service now? [Y]</programlisting>'>
  
    
<!ENTITY delta_upg_restart_yes
'<para>Enter
          <userinput>Y</userinput>.</para>
        <para>The restart takes approximately 1 minute. When the restart is done, this message appears:</para>
  <programlisting language="none">Installation and configuration complete!
Please open a web browser and point it to http://xxx.xxx.xxx.xxx to get to the web interface.
Enjoy!</programlisting>'>

<!ENTITY delta_upg_complete_b
'<para>Perform these steps at node B. Remember that in &adg_step;, you were prompted either to reboot or to
      restart elemental_se. You now obey that prompt.</para><!--define entity at local file-->'>
      
      <!ENTITY delta_upg_dg_right
'<para>If you <emphasis>didn&apos;t</emphasis> meet the conditions for special downgrade, skip this step.</para>
              <para>If you met the conditions for special downgrade, run the installer with downgrade to your desired version.</para>
        &delta_upg_dn_command;
              <para>The new software is installed and all services except elemental_se are
                automatically restarted.</para>'>
                
                  
  <!ENTITY  delta_prep_dg '<listitem>
        <para>If you&apos;re not downgrading from &servicename; version 2.3.1, skip this step. If you are
          downgrading from 2.3.1, delete the <code>filter_stats</code> RabbitMQ queue by using the
          following steps:</para>
        <orderedlist>
          <listitem>
            <para>From a Linux command prompt, locate the RabbitMQ username and password in the following directory: <code>/etc/elemental/rabbitmq</code></para>
          </listitem>
          <listitem>
            <para>Navigate to the RabbitMQ web interface using the following address: <code>http://<replaceable>delta.hostname</replaceable>:15672</code></para>
          </listitem>
          <listitem>
            <para>Log in to the RabbitMQ interface and choose the <guilabel>Queues</guilabel> tab.</para>
          </listitem>
          <listitem>
            <para>Choose <guilabel>filter_stats</guilabel>.</para>
          </listitem>
          <listitem>
            <para>Expand the <guilabel>Delete/purge</guilabel> section and choose
              <guilabel>Delete</guilabel>.</para>
          </listitem>
        </orderedlist>
      </listitem>
      <listitem>
        <para>Make sure that the node has timed out on the web interface before running the prepare for
          downgrade script.</para>
        <programlisting language="none">[elemental@hostname ~]$ <command>sudo /opt/elemental_se/web/script/prepare_for_downgrade.sh -i ./&installer_name;_&lt;<replaceable>version</replaceable>>.nnnnnn.run</command></programlisting>
        <para>These are the guidelines for the version to use in the script:</para>
        <itemizedlist>
          <listitem><para>If you meet the conditions in <xref linkend="special"/>, run the script for version 2.1.3.</para></listitem>
          <listitem><para>If you <emphasis>don&apos;t</emphasis> meet the conditions for special consideration, run the script for the version that you&apos;re downgrading to.</para></listitem>
        </itemizedlist>
      </listitem>
      <listitem>
        <para>Enter this command to remove the existing package cache.</para>
        <programlisting>[elemental@hostname ~]$ <command>sudo rm -r /var/cache/yum/local/</command></programlisting>
      </listitem>'>
      
      <!ENTITY delta_upg_ready_locate_db
'<para>Locate and make note of the database file to restore. </para>
<important><para>If you meet the conditions in <xref linkend="special"/>, locate the database backup for version 2.1.3 as well as the version that 
you&apos;re downgrading to.</para></important>
    <para>Every time that you downgrade, &servicenamelong; automatically makes a backup of the
      database similar to this:</para>
    <screen>/home/elemental/database_backups/elemental-db-backup_Delta_&dg_minus1_version_short;.0_2015-02-08_21-01-36.tar</screen>
    <para>When you perform the downgrade, you specify the database backup that you&apos;re
      restoring. Ideally, you should restore the backup that corresponds to the version that you are
      downgrading to. For example, when you&apos;re downgrading to version &delta_dg_version_short;.0, you would restore the
      &delta_dg_version_short;.0 database.</para>
    <para>If the database for the version that you&apos;re downgrading to isn&apos;t available, you can use an
      earlier database. For example, if you&apos;re downgrading to &delta_dg_version_short;.1 and that database isn&apos;t
      available, you can restore the &delta_dg_version_short;.0 database. Be aware that you will lose all entities (input
      filters, output filters, and so on) that you created between &delta_dg_version_short;.0 and &delta_dg_version_short;.1, though. </para>'>
      
      
        <!ENTITY sample_ports
'<para>If you enabled the firewall, the installer asks you a series of questions to determine what ports are enabled. 
All but critical ports are disabled by default. Answering <userinput>yes</userinput> to any of the following prompts opens the applicable port. </para>
<programlisting language="none">Is this machine a part of or intended to be a part of a Conductor Live 3 cluster? [N]
Is this a Statmux machine, or intended to be linked to a Statmux machine? [N]
Will this machine require use of SNMP alerts? [N]
Will this machine be ingesting RTMP? [N]
Will this machine ingest MPEG-TS over UDP? (ports 5000-5100) [N]
Is this machine licensed as part of a licensing pool? [N]
Will this machine serve files using Windows file-sharing (Samba/CIFS)? [N]
Will this machine be an NTP server? [N]
Port hardening prompts completed.</programlisting>'>
   
   
          <!ENTITY  dl_details
       '  <para>These are the detailed steps for downloading files from the &ESC_support;.</para>
    <orderedlist>
        <listitem><para>Log in to the &ESC_support; with the email address that you used to receive your activation email and your password.</para></listitem>
        <listitem>
            <para>From the home page, click <guilabel>Software and Licenses</guilabel> on the
                right.</para>
        </listitem>
        <listitem>
            <para>From the <guilabel>Download Central Home</guilabel>, choose <guilabel>Your
                    Entitlements</guilabel> from the <guilabel>Software &amp;
                    Entitlements</guilabel> menu.</para>
        </listitem>
        <listitem>
            <para>On <guilabel>Your Entitlements</guilabel>, your orders are listed from newest to
                oldest. In the <guilabel>Activation Key</guilabel> column, choose the link for the
                product that you&apos;re downloading. </para>
        </listitem>
        <listitem>
            <para>On <guilabel>Order Detail</guilabel>, choose the plus sign for the package listed
                in the <guilabel>Product Description</guilabel> column to expand the order
                details.</para>
        </listitem>
        <listitem>
            <para>In the expanded details, choose the product and version that you wish to
                download.</para>
        </listitem>
        <listitem>
            <para>In the list of available files, choose the file you wish to download.</para>
        </listitem>
        <listitem>
            <para>On <guilabel>Product Download</guilabel>, select the check box next to the file
                you want to download. Then click <guilabel>Download Selected
                Files</guilabel>.</para>
        </listitem>
        <listitem>
            <para>If you are prompted to install the NetSession Interface download manager, click <guilabel>download the installer</guilabel> and run the executable.</para>
        </listitem>
        <listitem>
            <para>Select a location and save the files. Note the file location for later.</para>
        </listitem>
        </orderedlist>'>
   
   <!ENTITY  error_card
                ' <row>
                    <entry>Card counts do not match</entry>
                    <entry>If you changed the CPU or GPU cards on the hardware unit after requesting the license, the license might no longer be valid. Change the cards back or contact your sales representative to discuss your revised licensing requirements.</entry>
                </row>'>
                
     <!ENTITY prompt_terms
  ' <row>
                 <entry><computeroutput>Do you agree to these terms?</computeroutput></entry>
                 <entry><para>This prompt appears after you have paged through the EULA (End User License Agreement).</para>
                   <para>Enter <userinput>Yes</userinput> or <userinput>No</userinput>. (You must enter Yes to continue.)</para></entry>
               </row>'>
   
   <!ENTITY install_intro 
       '<para>The procedure for installing any version of &servicenamelong; is the same; only the version number in the file name changes. In this procedure, we show how to install version &version_short;.3.12345 of the software.</para>
    <para>Installation consists of four parts: </para>
    <orderedlist>
   <listitem><para> Downloading files from &AWSE;</para></listitem>
  <listitem> <para> Installing the host operating system (OS)</para></listitem>
  <listitem> <para> Installing the &AWSE;software</para></listitem>
  <listitem>  <para>Setting up licensing</para></listitem>
  </orderedlist>
    <para role="topiclist"/>'>   
   
  <!ENTITY clean-install-ks
       ' <para>You must install a configured operating system from an <filename>.iso</filename> 
       file onto each physical machine that will be running &AWSE; software. Doing so is referred to 
       as “kickstarting the system”.</para>
     <para>Make sure that you install the right version of the operating system with each piece of 
     software. The correct <filename>.iso</filename> file is always provided with the <filename>.run</filename> file at 
     &ESC_activations;.</para>
     <formalpara><title>Create a Boot USB Drive or DVD</title>
       <para>Do this from your workstation.</para>
     </formalpara>
     <para>Use a third-party utility (such as PowerISO or ISO2USB) to create a bootable DVD or USB drive from your <filename>.iso</filename> file. Instructions for using these utilities can be found in the &ESC_support; knowledge base.</para>
     <formalpara><title>Install the Operating System at Each Node</title>
       <para>Do this from each Elemental node.</para>
  </formalpara>
     <orderedlist>
       <listitem><para>Insert the DVD or USB thumb drive into the hardware unit.</para></listitem>
      <listitem> <para>Boot up or reboot the system. The installer automatically starts.</para>
        <mediaobject>
    <imageobject>
      <imagedata fileref="images/install-installer-shared-png.png" format="PNG"/>
    </imageobject>
  </mediaobject></listitem>
         <listitem>
           <para>Use the arrow keys to select each option and do the following:</para>
           <table><title/>
             <tgroup cols="2">
               <colspec colname="option" colnum="1"/>
               <colspec colname="instructions" colnum="2"/>
               <thead>
             <row>
               <entry>Menu Option</entry>
                   <entry>Instructions</entry>
                 </row>
               </thead>
               <tbody>
                 <row>
                   <entry><computeroutput>Set Hostname</computeroutput></entry>
                   <entry><para>Change the hostname to a useful name such as <userinput>&product;-01</userinput> or <userinput>&product;-chicago-01</userinput>.</para>
                     <para>Do not use <userinput>localhost</userinput> as the hostname!</para>
                     <para>Do not use periods or underscores in the hostname</para></entry>
                 </row>
                 <row>
                   <entry><computeroutput>Disk layout: Auto-detect</computeroutput></entry>
                   <entry>Leave this set at Auto-detect.</entry>
                 </row>
                 <row>
                   <entry><computeroutput>Set Key</computeroutput></entry>
                   <entry>Press the down arrow to skip this option.</entry>
                 </row>
                 <row>
                   <entry><computeroutput>Upgrade</computeroutput></entry>
                   <entry>Choose <userinput>No</userinput>. Choosing <userinput>No</userinput> deletes all data from the hardware unit. Never choose <userinput>Yes</userinput> when doing a new install.</entry>
                 </row>
                 <row>
                   <entry><computeroutput>Install and configure base operating system</computeroutput></entry>
                   <entry>Press <userinput>Enter</userinput> to begin the OS installation.</entry>
                 </row>
               </tbody>
             </tgroup>
           </table>
           <para>The operating system is installed. From now on, the system runs this customized version of your Linux operating system.</para></listitem>
         <listitem><para>Repeat the above steps on each system, using the <filename>.iso</filename> file that goes with the &AWSE; software you are installing on each system.</para></listitem>  
     </orderedlist>'>
   
   
     <!ENTITY generate-license-licenses-step 
     ' <step><para>Hover over the three-bar icon on the right of the screen to bring up a small menu. Choose <guilabel>License(s)</guilabel>.</para>
                     <mediaobject>
    <imageobject>
      <imagedata fileref="images/install-licorderdetail-shared-png.png" format="PNG"/>
    </imageobject>
  </mediaobject></step>'>
  
           <!ENTITY generate-license-upload-step                                        
             '    <step><para>This returns you to the <guilabel>Generate Licenses</guilabel> page,
             with your <filename>.key</filename> file selected. Choose <guilabel>Upload License Key</guilabel>.</para>
                                 <mediaobject>
    <imageobject>
      <imagedata fileref="images/install-genlic-shared-png.png" format="PNG"/>
    </imageobject>
  </mediaobject></step>'> 
  
                 
<!ENTITY generate-license-view-step  
              '   <step><para>This takes you to the <guilabel>View Licenses</guilabel> page, where you can download a <filename>.tgz</filename> file. This is a compressed, aggregated file that contains all the license files that you need for this system.</para>
                                     <mediaobject>
    <imageobject>
      <imagedata fileref="images/install-viewlic-shared-png.png" format="PNG"/>
    </imageobject>
  </mediaobject></step>'>   
  
  <!ENTITY distribute_license_files
   '   <para>Perform the following steps for each &servicenamelong; system.</para>
            <procedure><title>To distribute license files</title>
                <step><para>From your workstation, SSH into the &servicenamelong; system. Log in with the <emphasis>elemental</emphasis> user credentials. </para>
                </step>
                <step><para>Copy the <filename>.tgz</filename> file to /home/elemental on the &servicename; system. 
                If you are setting up several systems, make sure that the hostname in the <filename>.tgz</filename> file name matches the hostname. Use a file transfer utility to copy the file. For example:</para>
                    <itemizedlist>
                        <listitem><para>Use Windows Share protocol: Connect to “\\&lt;elemental-ip&gt;\elemental” on a PC.</para></listitem>
                        <listitem><para>Use Samba: Connect to “smb://&lt;elemental-ip&gt;/elemental” on a Mac.&nbsp;&#160;</para></listitem>
                        <listitem><para>Use SCP or a similar utility on a Linux workstation.</para></listitem></itemizedlist>
                </step>                    
                        <step><para>Unpack the <filename>.tgz</filename> file with the following command.</para>
                                        <programlisting language="none">[elemental@hostname ~]$ <command>tar -xvzf 
                                        /home/elemental/lic-download-&lt;hostname&gt;<filename>.tgz</filename> /opt/elemental_se</command></programlisting>
                                <para>You end up with one or more of the following files:</para>
                               <itemizedlist> <listitem><para><filename>eme.lic</filename>: This file is always included.</para></listitem>
                                    <listitem><para><filename>ui.lic</filename>: This file may be included.</para></listitem></itemizedlist>
                                    </step></procedure> 
                                        <para>Once the .lic file or files is unpacked in the /opt/elemental_se directory,
                                        your software is enabled.</para>'>
 
    <!ENTITY  support_help '<para>To receive assistance with your &AWSE; appliances and software 
    products, see the forums and other helpful tools on the &ESC_support;.</para>' > 
    
    <!ENTITY  support_phrase 'contact &AWSE; Support through your company’s Private Space in &ESC_support;'>
    
  
     <!ENTITY  prereq_knowledge
' <formalpara><title>Prerequisite Knowledge</title>
<para>We assume that you know how to:</para>
</formalpara>
  <itemizedlist>
   <listitem>
     <para>Connect to the &servicenamelong; web interface using your web browser.</para>
   </listitem>
   <listitem>
     <para>Log in to a remote terminal (Linux) session in order to work via the command line
      interface.</para>
   </listitem>
  </itemizedlist>
  <note>&support_help;</note>'>
  
 
  
    <!ENTITY enable_auth_steps '    <procedure><title>To enable user authentication</title>
      &auth_cond;
      <step>
        <para>At your workstation, start a remote terminal session to the &primary;&servicenamelong; node.</para>
      </step>
      <step>
        <para>At the Linux prompt, log in with the <emphasis>elemental</emphasis> user credentials.</para>
      </step>
      <step><para>Change to the directory where the configuration script is located, as shown here.</para>
        <programlisting language="none">[elemental@hostname ~]$<command> cd /opt/elemental_se</command></programlisting>
      </step>
      <step><para>Run the configuration script, as shown here.</para>
        <programlisting language="none">[elemental@hostname elemental_se]$<command> sudo ./configure --config-auth</command></programlisting>
      <important>
        <para>If you have SSL enabled, you must also include the <code>--https</code> flag in the
          command. Otherwise, the script will disable SSL.</para>
      </important>
      </step>
      <step><para>For the prompt <computeroutput>Do you wish to enable authentication?</computeroutput>, type
          <userinput>Y</userinput>.</para></step>
    <step>
        <para>If you didn&apos;t use the <code>--https</code> flag in the configure command, the following prompt appears.</para>
  <programlisting role="nocopy" language="none">If you wish to enable authentication, please re-run with the ‘--https’ option.
If SSL isn’t enabled, any usernames/passwords entered here including LDAP passwords would be transmitted in plain text without encryption. This poses a significant security risk.
Accept the risk and continue without SSL?</programlisting>
        <para>If you intended to enable authentication without SSL enabled, enter <userinput>Y</userinput> to proceed.
          Otherwise, enter <userinput>N</userinput> to re-enter the configuration script with <code>--https</code>.</para>
    </step>
    <step>
        <para>For the prompt <computeroutput>Do you wish to enable PAM?</computeroutput>, type <userinput>N</userinput>. If you&apos;re using PAM authentication, type <userinput>Y</userinput>.</para>
      <para>For information about the different authentication options, see &auth_ref_link;</para>
    </step>
    <step>
        <para>At the prompts, create an admin API user name, email address, and password.</para>
        <para>Note that the only time you log in with this information is upon initial access
          to each node&apos;s web interface after authentication is enabled. For more information about the 
          administrator API user, see &user_type_link;</para>
    </step>
    <step>
        <para>For the prompt <computeroutput>Httpd must be restarted, which may interrupt REST
          commands. Restart now?</computeroutput>, type <userinput>Y</userinput>.</para>
    </step>
   &red_cond_enable;
    <step>
        <para>Create users through the node&apos;s web interface. For instructions, see &create_users_link;.</para>
    </step>
    </procedure>'>
    
      <!ENTITY auth_ref_intro '<para>Enabling user authentication provides you more control over your
      &AWSE; systems. Authentication helps secure your nodes while also allowing you to do the following:</para>
    <itemizedlist>
      <listitem><para>Track node activity on a per-user basis.</para></listitem>
      <listitem><para>Limit accidental access to a node by allowing distinct login credentials 
      for each node. This way, an operator with access to multiple nodes must enter the credentials for a specific 
      node prior to sending any commands.</para></listitem>
    </itemizedlist>
    <para>Whether or not you enable authentication, we recommend that all of your nodes are installed behind a 
    customer firewall or on a private network.</para>
    <para>The following sections provide more information about user authentication.</para>
    <para role="topiclist"/>'>
    
    
       <!ENTITY auth_ref_types '  <variablelist role="termdef">
        <varlistentry>
          <term>Local authentication</term>
          <listitem><para>An administrator creates and manages user credentials from the &servicenamelong; node.</para>
          <para>Users logging in to nodes with local authentication enabled must enter valid credentials 
          for access. They must also supply credentials when using the REST API.</para>
            <para>The credentials that users enter are validated against credentials that are housed locally
            on the node that they&apos;re accessing.</para>
            &cl3_local_all; 
          </listitem>
        </varlistentry>
        <varlistentry>
          <term>Privileged Access Management (PAM) authentication</term>
          <listitem><para>An administrator creates and manages user credentials from a Lightweight Directory Access Protocol (LDAP)
          server 
          that&apos;s external from the &AWSE; systems.</para>
            <para>Users logging in to nodes with PAM authentication enabled must enter valid credentials 
            for access. They must also supply credentials when using the REST API.</para>
            <para>The credentials that users enter are validated against credentials that are housed on an 
            external LDAP server.</para>
            &cl3_pam_all;</listitem>
        </varlistentry>
      </variablelist>'> 
      
       <!ENTITY auth_ref_users '<para>This table describes the types of users available with authentication.</para>
      <table><title/>
        <tgroup cols="5">
          <colspec colname="type" colnum="1"/>
          <colspec colname="created" colnum="2"/>
          <colspec colname="uname" colnum="3"/>
          <colspec colname="pword" colnum="3"/>
          <colspec colname="description" colnum="3"/>
          <thead>
            <row>
              <entry>User type</entry>
              <entry>How created</entry>
              <entry>Log-in username</entry>
              <entry>Log-in password</entry>
              <entry>Use</entry>
            </row>
          </thead>
          <tbody>
            <row>
             <entry>Default, remote terminal user</entry>
              <entry>Built-in</entry>
              <entry><userinput>Customer-created at install.</userinput></entry>
              <entry>Default, or as changed by an administrator.</entry>
              <entry>Users manually enter this information at these times:
              <itemizedlist>
                <listitem><para>When logging in to a remote terminal session for the node.</para></listitem>
                  &cl3_auth_use;
                <listitem><para>When PAM is enabled and it&apos;s the first time that any users access the 
                node after authentication is enabled.</para></listitem>
              </itemizedlist></entry>
            </row>
            <row>
              <entry>Admin REST API user</entry>
              <entry>An administrator enables local authentication on the node when they create the administrator user 
              in the command line.</entry>
              <entry>Customer-created.
              <para>The username must not be the name of a real person.</para></entry>
              <entry>Customer-created.</entry>
              <entry>The administrator API user is used at these times:
                <itemizedlist>
                  <listitem><para>The person configuring authentication uses the admin API user information 
                  the first time that they access a node&apos;s web interface after local authentication
                  is enabled.</para>
                  <para>Typically, this is the only time that a user manually uses this user 
                  information.</para></listitem>
               &cl3_api_user;
                </itemizedlist>
              </entry>
            </row>
            <row>
              <entry>People and third-party clients</entry>
              <entry>An administrator user creates these users either through the node&apos;s web interface 
              (for local authentication) or through an LDAP server (for PAM authentication).</entry>
              <entry>Customer-created.</entry>
              <entry>Customer-created.</entry>
              <entry><para>Users manually enter their log-in credentials when accessing the node through
              the web interface or REST API.</para>
              <para>With local authentication. If a person has access to multiple nodes, you must 
              create a user for them in each node.</para></entry>
            </row>
          </tbody>
        </tgroup>
      </table>'>
    
     <!ENTITY bkup_intro ' <para>During a database backup, &servicenamelong; copies the data that&apos;s 
     related to your framework
    (channels, profiles, nodes, MPTS outputs, and redundancy groups) from the &servicename; node to
    another server. You can use this backup to restore the data to the node in case of a major
    hardware failure or if you have to re-install the software for any reason.</para>
  <para>Backup files are named in this format:
        <filename>elemental-db-backup_<replaceable>yyyy</replaceable>-<replaceable>mm</replaceable>-
        <replaceable>dd</replaceable>_<replaceable>hh</replaceable>-<replaceable>mm</replaceable>-<replaceable>
        ss</replaceable>.tar.bz2</filename></para>
  <para>&servicenamelong; is configured by default to create database backups and store them on a
    local disk. This section describes how to view the backup configuration and modify it for your
    needs.</para>
    <para>For steps to restore a database backup, see &bkup_restore;</para>'>
    
    
        <!ENTITY bkup_steps_other ' <procedure><title>To view and change the backup configuration</title>
    <step>
      <para>On the &servicenamelong; web interface, go to the <guilabel>Settings</guilabel> page and
        choose <guilabel>General</guilabel>.</para>
    </step>
    <step>
      <para>In the <guilabel>Cluster Tasks</guilabel> section, the following fields configure the
        database backups:</para>
      <itemizedlist>
        <listitem>
          <para><guilabel>Minutes between management database backups</guilabel> indicates how often
            &servicenamelong; creates backups.</para>
        </listitem>
        <listitem>
          <para><guilabel>Management database backups to keep</guilabel> indicates how many backups
            &servicename; keeps. When this number is reached, the oldest backup is removed so that
            the newest backup can be saved.</para>
        </listitem>
        <listitem>
          <para><guilabel>Path to store management database backups</guilabel> indicates where
            &servicename; stores backups.</para>
             <para>The folder to receive backups must be the local disk or on a remote server that is mounted to the node. For assistance,
        see <xref linkend="config-wrkr-cf-cg-mount" endterm="config-wrkr-cf-cg-mount.title"/>.</para>
        </listitem>
      </itemizedlist>
    </step>
    <step>
      <para>Change any of these values as you need and choose <guilabel>Save</guilabel>. </para>
    </step>
  </procedure>'>
  
    <!ENTITY config_cond_bkup_restore
     '    <para>Follow this procedure if you ever need to restore a backed-up version of the database.</para>
    &restore_cl3;
    &restore_db_steps;'>
    
      <!ENTITY restore_db_steps '
<procedure><title>To restore the database</title>
<step><para>At your workstation, start a remote terminal session to the &ECFlong; hardware unit. Log in with the elemental user credentials. </para></step>
<step><para>Type the following command to identify the version of &ECFlong; that is currently installed.</para>
<programlisting>[elemental@hostname ~]$ cat /opt/elemental_se/versions.txt</programlisting>
<para>Several lines of information appear, including the version number. For example: <code>&ECFlong; (2.15.1.12345)</code>.</para></step>
<step><para>Run the install script with the restore option.</para>
<programlisting>[elemental@hostname ~]$ sudo sh product
--restore-db-backup path backup-file --https</programlisting>
<para>where:</para>
<itemizedlist>
  <listitem><para><code>product</code> is the product installer, including the version number that you obtained in the previous step: <code>elemental_production_conductor_file_2.15.1.12345.run</code>.</para></listitem> 
<listitem><para><code>path</code> is the path to the backup file. This path could simply be the remote folder where backups were originally stored.</para></listitem>
<listitem><para><code>backup-file</code> is the file that you want to restore. The file is unzipped and copied to the appropriate folder. Do not unzip the file manually before restoring it!</para></listitem>
<listitem><para><code>--https</code> keeps SSL enabled. If you omit this flag, SSL is disabled when you run the install script. If you don&apos;t have or don&apos;t want SSL, omit this flag.</para></listitem></itemizedlist></step></procedure>'>
    
    

     <!ENTITY config_cond_eth_bond_intro_live
    ' <para>You can bond Ethernet devices to suit your networking requirements. For example, you might
      set-up two Ethernet devices as an active/redundant pair. &bond_ex_cond;</para>
    <para role="topiclist">Perform the following steps from the command line.</para>
    <para>For help creating and updating bonding files through the CLI, see <ulink url="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/7/html/networking_guide/sec-network_bonding_using_the_command_line_interface">Using the CLI</ulink> in the Red Hat <emphasis>Networking Guide</emphasis>.</para>
    <important><para>We recommend that when setting up a bond, you set up both eth0 and eth1 with static IP addresses and with eth0, eth1 and bond0 all on the same subnet.</para></important>
    <formalpara><title>Prerequisites</title>
      <para>Before you begin this process, make sure that you&apos;ve done the following:</para>
    </formalpara>
    <itemizedlist>
      <listitem>
        <para><link linkend="&add_eth_step;">Added to &servicenamelong; the Ethernet devices</link> that you&apos;re bonding.</para>
      </listitem>
      &bond_cl3_prereq;
    </itemizedlist>'>
    
    <!ENTITY cli_bond_config_file '<para>Create a configuration file for the bond interface and name it after the bond.</para> 
      <procedure><title>To create the bond configuration file</title>
        <step> <para>Create the file with the following command.</para>
          <programlisting language="none">sudo vim /etc/sysconfig/network-scripts/<replaceable>ifcfg-bond0</replaceable></programlisting></step>
        <step>
          <para>Insert the following settings in the file:</para>
          <itemizedlist>
            <listitem><para><emphasis><userinput>DEVICE</userinput></emphasis> – Type <userinput>bond0</userinput>.</para></listitem>
            <listitem><para><emphasis><userinput>TYPE</userinput></emphasis> – Type <userinput>Bond</userinput>.</para></listitem>
            <listitem><para><emphasis><userinput>NAME</userinput></emphasis> – Provide a name for the bond that&apos;s unique
              among your bonded interfaces, such as <userinput>bond0</userinput>.</para></listitem>
            <listitem><para><emphasis><userinput>BONDING_MASTER</userinput></emphasis> – Type
              <userinput>yes</userinput>.</para></listitem>
            <listitem><para><emphasis><userinput>BOOTPROTO</userinput></emphasis> – If you&apos;re using a static IP address
              for the bond, type <userinput>none</userinput>. If you&apos;re using DHCP, type
              <userinput>dhcp</userinput>.</para></listitem>
            <listitem><para><emphasis><userinput>ONBOOT</userinput></emphasis> – Type <userinput>yes</userinput>.</para></listitem>
            <listitem>
              <para><emphasis><userinput>NM_CONTROLLED</userinput></emphasis> – Type
                  <userinput>no</userinput>.</para>
            </listitem>
            <listitem><para><emphasis><userinput>IPADDR</userinput></emphasis> – When you&apos;re using a static IP address,
              complete with your networking information.</para></listitem>
            <listitem><para><emphasis><userinput>NETMASK</userinput></emphasis> – When you&apos;re using a static IP address,
              complete with your networking information.</para></listitem>
            <listitem><para><emphasis><userinput>GATEWAY</userinput></emphasis> – When you&apos;re using a static IP address,
              complete with your networking information.</para></listitem>
            <listitem><para><emphasis><userinput>BONDING_OPTS</userinput></emphasis> – Type the bonding mode you&apos;re using
              and other applicable options.</para>
              <para>For a list of additional options, see <ulink
                url="&bond_kba;">Creating a Network Bond in CentOS7 and RHEL7 from the CLI</ulink>.</para></listitem>
          </itemizedlist>
        </step>
      </procedure>
      <formalpara><title>Bonding modes</title>
        <para>The following table describes the bonding modes that are available.</para></formalpara>
      &bond_modes_cli;  
      <example>
        <programlisting language="none">DEVICE=bond0
TYPE=Bond
NAME=bond0
BONDING_MASTER=yes
BOOTPROTO=none                              
ONBOOT=yes
NM_CONTROLLED=no
IPADDR=192.168.1.70
NETMASK=255.255.255.0
GATEWAY=192.168.1.1
BONDING_OPTS="mode=5 miimon=100"</programlisting></example>' >
    
    
        
    <!ENTITY bond_modes_cli ' <table><title/>
            <tgroup cols="3">
              <colspec colname="mode_cli" colnum="1"/>
                            <colspec colname="mode" colnum="2"/>
              <colspec colname="description" colnum="3"/>
              <thead>
                <row>
                <entry>Bonding Mode Option</entry>
                  <entry>Mode Name</entry>
                  <entry>Description</entry>
                </row>
              </thead>
              <tbody>
                <row>
                <entry>mode=0</entry>
                  <entry>Round robin</entry>
                  <entry>Transmissions are received and sent sequentially on each bonded interface,
                    beginning with the first one available.</entry>
                </row>
                <row>
                 <entry>mode=1</entry>
                  <entry>Active backup</entry>
                  <entry>Transmissions are received and sent out via the first available bonded
                    interface. The other interface is only used if the active interface
                    fails.</entry>
                </row>
                <row>
                 <entry>mode=2</entry>
                  <entry>Balanced XOR</entry>
                  <entry>Using the exclusive-or (XOR) method, the interface matches up the incoming
                    request&apos;s MAC address with the MAC address for one of the bonded interface NICs.
                    Once this link is established, transmissions are sent out sequentially, beginning
                    with the first available interface.</entry>
                </row>
                <row>
                 <entry>mode=3</entry>
                  <entry>Broadcast</entry>
                  <entry>All transmissions are sent on all interfaces in the bond.</entry>
                </row>
                <row>
                 <entry>mode=4</entry>
                  <entry>IEEE 802.3ad dynamic link aggregation</entry>
                  <entry>This option creates aggregation groups that share the same speed and duplex settings. This 
                  transmits and receives on all interfaces in the active aggregator. Requires a
                    switch that is 802.3ad compliant.</entry>
                </row>
                <row>
                 <entry>mode=5</entry>
                  <entry>Adaptive transmit load balancing</entry>
                  <entry>Outgoing traffic is distributed according to current load on each interface
                    in the bond. Incoming traffic is received by the currently active interface. If
                    the receiving interface fails, another interface takes over the MAC address of
                    the failed interface.</entry>
                </row>
                <row>
                 <entry>mode=6</entry>
                  <entry>Adaptive load balancing</entry>
                  <entry>This option includes transmit and receive load balancing for IPV4 traffic. Receive load
                    balancing is achieved through ARP negotiation.</entry>
                </row>
              </tbody>
            </tgroup>
          </table>'>
          
          <!ENTITY all_mount_intro '<para>To make remote assets, such as scripts, image files, or video source files, available to
    your &servicenamelong; &node_cluster;, create mount points as described in this section. When you mount a
    remote folder to a local folder on the node, all of the contents of the remote folder appear as
    if they are actually in the local mount folder. In this way, you can view the remote folder and
    verify that the backup files are created. You can also copy or delete a file from the remote
    folder by copying or deleting it from this mount folder.</para>
  <para>The mount folder becomes a mount share. It&apos;s mounted to
        <filename>/data/mnt/<replaceable>folder</replaceable></filename>.</para>
         &cl3_mount_intro;'>

    
   
<!ENTITY mp_procedure '  <procedure><title>To create a mount</title>
    <step><para>On the &primary; &servicenamelong; web interface, go to the <guilabel>Settings</guilabel> page and
        choose <guilabel>Mount Points</guilabel>.</para></step>
    <step>&mp_add;
      &mount_settings;</step>  
  </procedure>
  <para>The newly mounted folder appears on the node after a few minutes.</para>'> 
  
  <!ENTITY  mount_settings
'  <table><title/>
                <tgroup cols="2">
                  <colspec colname="prompt" colnum="1"/>
                  <colspec colname="action" colnum="2"/>
                  <thead>
                    <row>
                      <entry>Field</entry>
                      <entry>Description</entry>
                    </row>
                  </thead>
                  <tbody>
                    <row>
                      <entry><guilabel>Type</guilabel></entry>
                      <entry><para>Choose the type of remote server:</para>
                      <itemizedlist>
                        <listitem><para><guilabel>CIFS</guilabel>: Choose this for a Windows CIF server or for a Windows, Linux, or Mac SMB server.</para></listitem>
                        <listitem><para><guilabel>NFS</guilabel>: Choose this for a Linux server.</para></listitem>
                        <listitem><para><guilabel>DAVFS</guilabel>: Choose this for a DavFS server.</para></listitem>
                      </itemizedlist></entry>
                    </row>
                    <row>
                      <entry><guilabel>Server Share</guilabel></entry>
                      <entry>The address of the folder on the remote computer that you want to make
                        available on this node.</entry>
                    </row>
                    <row>
                      <entry><guilabel>Mount Folder</guilabel></entry>
                      <entry>The folder on the node where the remote folder is mounted. As shown,
                        this folder must be under <code>/data/mnt</code>. You can specify a sub-subfolder;
                        if that folder does not already exist, &servicename; automatically creates it.</entry>
                    </row>
                    <row>
                      <entry><guilabel>Username</guilabel></entry>
                      <entry>If the remote server folder is protected with a username/password, enter the
                        username here.</entry>
                    </row>
                    <row>
                      <entry><guilabel>Password</guilabel></entry>
                      <entry>If the remote server folder is protected with a username/password, enter the
                        password here.</entry>
                    </row>
                  </tbody>
                </tgroup>
              </table>'>
              
       <!ENTITY email_intro ' <para>&servicenamelong; uses open relay to send email notifications. 
       Before subscribing to
   notifications, make sure that your network allows receipt of open relay email. If your network
   doesn&apos;t allow open relay messages, you must also configure a Sendmail relay server with another mail
   server.</para>
 <important> <para>If you subscribe to email notifications in a network that doesn&apos;t allow open relay messages and you
   do not relay the messages, the generated messages will collect on the &servicenamelong; system hard drive,
   eventually filling the partition and causing disk alert errors.</para> </important>  ' >
    
     <!ENTITY sendmail_ready '    <para>To configure &servicenamelong; to relay 
     the notification emails through a mail server, you need the following information:</para>
    <itemizedlist>
     <listitem>
       <para>The hostname of the mail server</para>
     </listitem>
     <listitem>
       <para>If your network doesn&apos;t have DNS configured, the IP address of the mail server</para>
     </listitem>
    </itemizedlist>'>
    
        <!ENTITY sendmail_intro ' <para>Use this procedure to set up a Sendmail relay server if your network doesn&apos;t accept open relay messages.</para>'>

    <!ENTITY sendmail_install ' <procedure><title>To install the configuration tool</title>
  <step><para>Install the <code>sendmail.cf</code> configuration tool by typing the following at the command line.</para>
      <programlisting><command>sudo yum install sendmail-cf</command></programlisting>
  </step>
  <step><para>When you receive a caution message asking you to confirm that you want to run the command, enter <userinput>yes</userinput>.</para></step>
  <step><para>When you receive the following prompt, enter <userinput>y</userinput>.</para>
<programlisting><computeroutput>Is this ok [y/N]:</computeroutput></programlisting>
  </step>
 <step><para>When you receive the following message, move on to the next step.</para>
  <programlisting><computeroutput>Complete!</computeroutput></programlisting>
</step>
 </procedure>'>
    
        <!ENTITY sendmail_apply '  <procedure> 
     <step>
       <para>To apply changes, enter the following command.</para>
        <programlisting><command>sudo make -C /etc/mail</command></programlisting>
       <para>The system responds as follows.</para>
   <programlisting><computeroutput>make: Entering directory `/etc/mail&apos;
make: Leaving directory `/etc/mail&apos;</computeroutput></programlisting>
     </step>
     <step>
       <para>Restart Sendmail by typing the following.</para>   
   <programlisting><command>sudo service sendmail restart</command></programlisting>
   </step>
   </procedure>'>
   
       <!ENTITY sendmail_lic '<procedure> <title>To edit the file</title>   
<step>
       <para>With a text editor, open the <filename>sendmail.mc</filename> file. If you use Nano, which comes 
       installed on all &AWSE; systems, type the following at the command line to open the file in Nano.</para>
        <programlisting><command>sudo nano /etc/mail/sendmail.mc</command></programlisting>
</step>
      <step> 
       <para>Locate the line that defines <code>SMART_HOST</code>. It&apos;s generally just past halfway
       down the page and should look like this.</para>
       <programlisting><computeroutput>dnl define(`SMART_HOST&apos;, `smtp.your.provider&apos;)dnl</computeroutput></programlisting>
      </step>
       <step>
        <para>Uncomment this line by deleting the <code>dnl</code>
        at the beginning and end of the line.</para></step>
       <step><para>Change the following text to the hostname of the mail server that is performing the relay.</para>
        <programlisting><computeroutput>smtp.your.provider</computeroutput></programlisting>
       </step>
       <step><para>Save and exit the file. For Nano, press <keycap>Ctrl</keycap>+<keycap>O</keycap> to save and
        <keycap>Ctrl</keycap>+<keycap>X</keycap> to exit.</para>
       </step>
</procedure>'>

    <!ENTITY sendmail_test '  <para>Test the relay by having the system email you an alert notification.</para>
    <procedure><title>To test the configuration</title>
     <step>
       <para>If you haven&apos;t already, subscribe to global alert notifications as described in &sub_link;. 
       Provide an email address that you have easy access to.</para>
     </step>
     <step>
       <para>Generate a fake alert. A simple way to do so is to create and start a channel with a
       simple UDP input and output with a fake input address, such as
        <userinput>udp://1.1.1.1:1111</userinput>.</para>
     </step>
     <step>
       <para>Check your email for the notifications message.</para>
     </step>
     <step>
       <para>If necessary, return the global alert notifications to your desired settings.</para>
     </step>
    </procedure>'>
    
            <!ENTITY setup_snmp_trap '&snmp_trap_intro;
         <para>&servicenamelong; generates traps for the events described in the following table.</para>
   <table>
     <tgroup cols="3">
       <colspec colname="notification" colnum="1"/>
       <colspec colname="event" colnum="2"/>
       <colspec colname="contents" colnum="3"/>
       <thead>
         <row>
           <entry>Notification</entry>
           <entry>Event</entry>
           <entry>Contents</entry>
         </row>
       </thead>
       <tbody>
         <row>
           <entry>ELEMENTAL-MIB::alert</entry>
           <entry>Any alert that worker nodes in the cluster generate.</entry>
           <entry><itemizedlist>
             <listitem><para>ELEMENTAL-MIB::alertSet: <code>1</code> if the alert is being set, 
             <code>0</code> if the alert is being cleared.</para></listitem>
             <listitem><para>ELEMENTAL-MIB::alertMessage: describes the alert that was set or 
             cleared.</para></listitem>
           </itemizedlist></entry>
         </row>
       </tbody>
     </tgroup>
   </table>
  <procedure><title>To set up SNMP traps</title>
    <step><para>On the &servicenamelong; web interface, go to the <guilabel>Settings</guilabel> page 
    and choose <guilabel>SNMP</guilabel>.</para></step>
    <step><para>On the <guilabel>SNMP</guilabel> page, complete the fields, using the instructions in the following 
    table as a guide. Choose <guilabel>Save</guilabel>:</para>
      <table>
        <tgroup cols="2">
          <colspec colname="field" colnum="1"/>
          <colspec colname="instructions" colnum="2"/>
          <thead>
            <row>
              <entry>Field</entry>
              <entry>Instructions</entry>
            </row>
          </thead>
          <tbody>
            <row>
              <entry><guilabel>Allow external SNMP access</guilabel></entry>
              <entry>Choose <guilabel>Yes</guilabel> to open the SNMP port on the firewall.
                    <para>The port must be open if you will send an <command>snmpwalk</command> command.</para></entry>
            </row>
            <row>
              <entry><guilabel>Generate SNMP Traps for Alerts</guilabel></entry>
              <entry>Choose <guilabel>Yes</guilabel> to generate traps.</entry>
            </row>
            <row>
              <entry><guilabel>SNMP Management Host</guilabel></entry>
              <entry>Enter the IP address of the trap destination.</entry>
            </row>
            <row>
              <entry><guilabel>SNMP Management Trap Port</guilabel></entry>
              <entry>Enter <userinput>162</userinput>.</entry>
            </row>
            <row>
              <entry><guilabel>SNMP Management Community</guilabel></entry>
              <entry>Enter <userinput>Public</userinput>.</entry>
            </row>
          </tbody>
        </tgroup>
      </table></step>
  </procedure> '>
  
   <!ENTITY  snmp_trap_other '<para>You can configure &servicenamelong; to generate Simple Network Management Protocol (SNMPv2)
   traps for 
   activity on the node. For
      information about the management information bases (MIBs) in &servicename;, go to the
        <guilabel>Settings</guilabel> page in the &servicename; web interface and choose
        <guilabel>SNMP Interface</guilabel>.</para>' >
        
              <!ENTITY polling_procedure ' <para>Rather than passively receiving SNMP traps from 
              &servicenamelong;, you can actively poll the
      SNMP interface.</para>
  <para>You can interact with &servicenamelong; using a variety of network management systems. &AWS; 
              Elemental products ship with the Net-SNMP (http://www.net-snmp.org/) command line tools to
      access the SNMP interface while logged into the system directly or over SSH. Examples in this
      document are given using net-snmp commands.</para>           
  <procedure><title>To set up SNMP polling</title>
    <step><para>Either disable the node firewall, or enable external access to SNMP interface. </para>
        <itemizedlist>
          <listitem>
            <para>For help disabling the firewall, see <xref linkend="config-wrkr-cf-cg-firewall" 
            endterm="config-wrkr-cf-cg-firewall.title"/>.</para>
          </listitem>
          <listitem><para>External access to the SNMP interface is enabled by default. To check the 
          setting, access the <guilabel>Settings</guilabel> page on the &servicenamelong; web interface 
          and choose <guilabel>SNMP</guilabel>.</para></listitem>
        </itemizedlist></step>
    <step><para>Query either individual variables, or the entire SNMP interface.</para>
    <formalpara><title>To query individual variables</title>
    <para>Use the Net-SNMP tools to query variables as follows.</para></formalpara>
        <programlisting>snmpget -c elemental_snmp -v2c -m <replaceable>&lt;MIB></replaceable> 
        localhost <replaceable>MIBvariable</replaceable></programlisting>
        <example>
          <programlisting>snmpget -c elemental_snmp -v2c -m <replaceable>ELEMENTAL-MIB</replaceable> 
          localhost <replaceable>serviceStatus</replaceable></programlisting>
        </example>
      <para>For a list of MIBs and their variables, see <xref linkend="notification-polling-mibs"
            endterm="notification-polling-mibs.title"/>.</para>
 
    <formalpara><title>To query the entire SNMP interface</title>
      <para>Use the Net-SNMP tools to do an snmpwalk to gather information about all of the running
        channels&channels_in_cluster;.</para>
    </formalpara>
    <programlisting>snmpwalk -c elemental_snmp -v2c -m ELEMENTAL-MIB:ELEMENTAL-&mib;-MIB localhost
    elemental</programlisting> </step></procedure>'>
    
   <!ENTITY sdi_rou_intro '<para>If your deployment includes SDI video 
   inputs that pass through a router, provide information
    about your router configuration on the &servicenamelong; node.</para>
  <warning>
    <para>If you forget to configure the router, everything looks acceptable on the event or
      profile, but when you run the event, you receive a <errortext>no input
        detected</errortext> error.</para>
  </warning>'>
  
  <!ENTITY sdi_rou_ready '<procedure><title>To get ready to add a router</title>
    <step>
        <para>To perform this setup, the router and the SDI cards must already be cabled. Also make
          sure that the node has detected all of the SDI inputs. All of the inputs with cables must
          show on the <guilabel>Settings</guilabel> ><guilabel> Input Devices</guilabel> screen on
          the node.</para>
    </step>
    <step>
        <para>On the router, identify the inputs (and their IDs) that have a cable
          connection.</para>
    </step>
    <step>
        <para>On the router, identify the outputs (and their IDs) that are connected to the SDI
          card. Identify the input IDs that they are connected to. </para>
        <example><title/>
        <para>One mapping might be router ID 5 is connected to input 3 on the second SDI card.
          <!--HELP  is the router ID the same as the input ID, or something else not mentioned earlier?--></para></example>
    </step>
  </procedure>'>
  
      
    <!ENTITY sdi_rou_create
    '<procedure><title>To create the router</title>
    <step>
        <para>On the &servicenamelong; web interface, hover over
            <guilabel>Settings</guilabel>, and choose <guilabel>Routers</guilabel>. </para>
    </step>
    <step>
        <para>On the <guilabel>Routers</guilabel> screen, choose <guilabel>New Router</guilabel> and
          select the type of router protocol. These are the available options:</para>
        <itemizedlist>
          <listitem>
            <para>Videohub Ethernet Protocol (previously BlackMagic VideoHub)</para>
          </listitem>
          <listitem>
            <para>XY Terminal Protocol (previously Harris Panacea)</para>
          </listitem>
          <listitem>
            <para>NV9000 Protocol (previously Miranda nVision)</para>
          </listitem>
          <listitem>
            <para>SW-P-08 Protocol (previously Snell Aurora)</para>
          </listitem>
          <listitem>
            <para>Pass-Through Protocol</para>
          </listitem>
          <listitem>
            <para>LRC Protocol</para>
          </listitem>
        </itemizedlist>
    </step>
    <step>
        <para>Complete the <guilabel>Add New Router </guilabel> fields as described in the table and
          choose <guilabel>Create</guilabel>.</para>
      
      <table>
        <title/>
        <tgroup cols="2">
          <colspec colname="field" colnum="1"/>
          <colspec colname="description" colnum="2"/>
          <thead>
            <row>
              <entry>Field</entry>
              <entry>Description</entry>
            </row>
          </thead>
          <tbody>
            <row>
              <entry><guilabel>Name</guilabel></entry>
              <entry>The name that appears in the <guilabel>Inputs</guilabel> field on events and
                  profiles.</entry>
            </row>
            <row>
              <entry><guilabel>IP Address</guilabel></entry>
              <entry>The IP address of the router, excluding the protocol.</entry>
            </row>
            <row>
              <entry><guilabel>Max Inputs</guilabel></entry>
              <entry>Typically, the number of physical inputs on the router.</entry>
            </row>
            <row>
              <entry><guilabel>Max Outputs</guilabel></entry>
              <entry>Typically, the number physical outputs on the router.</entry>
            </row>
            <row>
              <entry><guilabel>Level</guilabel></entry>
              <entry>Available for XY Terminal, NV9000, SW-P-08, and Pass-Through.</entry>
            </row>
            <row>
              <entry><guilabel>User</guilabel></entry>
              <entry>Available for NV9000.</entry>
            </row>
            <row>
              <entry><guilabel>Matrix ID</guilabel></entry>
              <entry>Available for SW-P-08</entry>
            </row>
          </tbody>
        </tgroup>
      </table>
</step>
</procedure>'>
    
    <!ENTITY sdi_rou_in '<para>Next, complete the Input mappings to assign an ID to each input on the router. You only need
    to assign an ID to the inputs that you are using (the ones that are cabled):</para>
  <procedure>
    <step>
        <para>On the &servicenamelong; web interface, make sure you&apos;re on the <guilabel>Routers</guilabel>
          page. Choose <guilabel>Edit</guilabel> (pencil icon) beside the router. </para>
    </step>
    <step>
        <para>On the <guilabel>Edit Router</guilabel> screen, choose <guilabel>Map
          Inputs</guilabel>. </para>
    </step>
    <step>
        <para>Complete the fields to identify the inputs that you&apos;re using. You must know the
          identification of each input on your router. &servicenamelong; can&apos;t detect information
          about the state of the input IDs. You can add inputs with the following options:</para>
        <itemizedlist>
          <listitem>          <para><guilabel>Add</guilabel>: Adds one input. Select the ID of the input according to
              the router.</para></listitem>        
          <listitem><para><guilabel>Add inputs starting at</guilabel>: Adds a range of inputs. Select the first and last
              number in the range.</para></listitem>
        </itemizedlist>
    </step>
    <step>
        <para>Choose <guilabel>Add</guilabel> (<guilabel>+</guilabel> icon).</para>
    </step>
    <step>
        <para>Repeat to add all of the inputs that you require.</para>
    </step>
  </procedure>
    
  <example><title/><para>A line appears for each input. In this example, 
  only three inputs are configured: the inputs
      with the router IDs 1, 5, and 6. These three routers have been assigned the Elemental IDs 1, 2,
      and 3 respectively. &servicenamelong; automatically generates the name based on the input ID
      that you specified.</para>
    <mediaobject>
      <imageobject>
        <imagedata fileref="images/input-list-shared-png.png" format="PNG"/>
      </imageobject>
    </mediaobject></example>'>
    
      <!ENTITY sdi_rou_use '<para>When you create a profile or event, the inputs that you created 
      are displayed in the
        <guilabel>Input</guilabel> field.</para>
    <para>Note that you specify the input by identifying the router input, not by identifying the
      SDI input. So you are saying “Use the input that is coming in on Input 1 using the Videohub
      Ethernet Protocol." When you run the event, &servicenamelong; directs this input to a free
      SDI card. Each time you run the event, a different SDI input could be used.</para>
    <formalpara>
      <title>Avoid Direct Inputs</title>
      <para>Typically, all of your SDI inputs are connected to your router. Therefore, you
        should only ever specify the input by selecting one of the router inputs. You should
          <emphasis role="italic">not</emphasis> use any of the “direct inputs,” such as those
        labeled as HD-SDI.</para>
    </formalpara>
      <para>If your inputs are all connected to your router and you select a direct input in the
      profile or event, when the event starts, an <errortext>input not detected</errortext>
      error occurs.</para>
      <para>You should only use the direct inputs for inputs on the &servicenamelong; node that do
      not connect to the router but are, indeed, still direct inputs.</para>'>
    
        <!ENTITY ssl_intro ' <para>The Secure Socket Layer (SSL) enables the secure version of HTTP (HTTPS)
        and encrypts
    communications between the client and server. Note the following about SSL:</para>
  <itemizedlist>
    <listitem>
      <para>With SSL, all traffic over the communications layer must use a secure
        protocol. If SSL is disabled, all traffic must use the unsecured version. Traffic
        that uses the wrong protocol fails.</para>
    </listitem>
   &ssl_cl3_notes;
    <listitem>
        <para>When SSL is enabled, you must continue to use the <code>--https</code> flag with
        subsequent node reconfigurations through the command line interface. If you omit the flag,
        the installer disables SSL. </para>
      <para>Use <code>--https</code> with the following commands:</para>
      <itemizedlist>
        <listitem>
          <para>The run command, such as <command>sudo sh
                ./<replaceable>product_installer_name</replaceable>_<replaceable>version</replaceable><filename>.run</filename></command></para>
        </listitem>
        <listitem>
          <para>The configure command, such as <command>sudo ./configure</command></para>
        </listitem>
      </itemizedlist>
    </listitem>
  </itemizedlist>'>
  
   <!ENTITY ssl_steps '<orderedlist>
    <listitem>
      <para>At your workstation, start a remote terminal session to the &primary;&servicenamelong; node.</para>
    </listitem>
    <listitem>
      <para>At the Linux prompt, log-in with the <emphasis>elemental</emphasis> user credentials.</para>
    </listitem>
    <listitem><para>Change to the directory where the configuration script is located, as shown here.</para>
      <programlisting language="none">[elemental@hostname ~]$<command> cd /opt/elemental_se</command></programlisting>
    </listitem>
    <listitem><para>Run the configuration script, as shown here.</para>
      <programlisting language="none">[elemental@hostname elemental_se]$<command> sudo ./configure &ssl_flag;</command></programlisting>
      &ssl_flag_exp;
      <note><para>If you run this command when SSL is already &en_dis_able;, nothing changes in the configuration. SSL is still &en_dis_able;.</para></note>
    </listitem>
    <listitem><para>At each configuration prompt, accept the suggestion. This way, you won&apos;t inadvertently change other aspects of the configuration.</para></listitem>
&repeat_steps_cluster;
  </orderedlist>'>
  
         <!ENTITY add_users_steps ' <procedure><title>To add users</title>
      <step><para>Log in to the &servicenamelong; web interface using the REST API administrator credentials that you
        created when you enabled authentication. </para></step>
      <step><para>Hover over <guilabel>Settings</guilabel> and choose <guilabel>Users</guilabel>.</para></step>
      <step>
      <para>On the <guilabel>Users</guilabel> screen, choose <guilabel>New User</guilabel>. </para>
    </step>
    <step>
      <para>Complete all fields and choose <guilabel>Create</guilabel>. Some notes:</para>
      <itemizedlist>
        <listitem>
          <para><guilabel>Expires</guilabel>: If selected, the user name automatically expires after
            the specified period of time.</para>
        </listitem>
        <listitem>
          <para><guilabel>Force Password Reset</guilabel>: If checked, the users must reset their
            passwords the first time they log in.</para>
        </listitem>
        <listitem>
          <para><guilabel>Role</guilabel>: Select a role. The available options are Admin, Manager, User, Viewer. For
            information about the actions allowed with each role, see the following section <emphasis>User roles</emphasis>. </para>
        </listitem>
      </itemizedlist>
    </step>
      <step><para>If your organization uses the REST API, make sure to tell each user to choose
          <guilabel>Settings</guilabel> &gt; <guilabel>User Profile</guilabel> to make note of
        their personal API key. Users have a different key for each node that they can
        access.</para>
        <para>This API key is randomly generated when the user is created. You can&apos;t manually set
        the API key.</para></step>
    </procedure>
    <formalpara><title>User roles</title>
      <para>Node access is defined by the role assigned to the user. This section describes the
      actions that each user role can perform.</para>
    </formalpara>
    <itemizedlist>
      <listitem><para><emphasis role="bold">Viewer</emphasis></para>
        <itemizedlist>
          <listitem>
            <para>Read-only access to &servicenamelong;</para>
          </listitem>
        </itemizedlist></listitem>
      <listitem><para><emphasis role="bold">Operator</emphasis></para>
        <itemizedlist>
          <listitem>
            <para>Same access as Viewer</para>
          </listitem>
          <listitem>
            <para>Control the state of a &job_event; (cancel, archive, etc)</para>
          </listitem>
        </itemizedlist></listitem>
      <listitem><para><emphasis role="bold">Manager</emphasis></para>
        <itemizedlist>
          <listitem>
            <para>Same access as Viewer</para>
          </listitem>
          <listitem>
            <para>Same access as Operator</para>
          </listitem>
          <listitem>
            <para>Create and edit &job_event;s</para>
          </listitem>
          <listitem>
            <para>Create and edit presets</para>
          </listitem>
          <listitem>
            <para>Create and edit profiles</para>
          </listitem>
          <listitem>
            <para>Create and edit watch folders</para>
          </listitem>
        </itemizedlist></listitem>
      <listitem><para><emphasis role="bold">Administrator</emphasis></para>
        <itemizedlist>
          <listitem>
            <para>Access to the entire &servicenamelong; system, including all of the access
            provided by the other roles</para>
          </listitem>
        </itemizedlist></listitem>
    </itemizedlist>
  '>
    
      <!ENTITY config_cond_users_view
    '<para>Each user can log in to the web interface and view their own profile. Go to
        <guilabel>Settings</guilabel> > <guilabel>User Profile</guilabel>. The following information
      is displayed:</para>
      <itemizedlist>
        <listitem><para>The features and controls of &worker; that the user is allowed to use.</para></listitem>
        <listitem><para>The user&apos;s API key.</para></listitem>
      </itemizedlist>'>
    
        <!ENTITY config_cond_users_manage
    '<para>You can set some access features that apply globally to all users on the node.</para>
      <procedure><title>To manage access</title>
        <step><para>Log in to the &servicenamelong; web interface using administrator credentials.</para></step>
        <step><para>Go to the <guilabel>Settings</guilabel> page and choose <guilabel>Authentication</guilabel>. </para></step>
        <step><para>Review the current values for the fields. Make any changes and choose <guilabel>Save</guilabel>.</para></step>
      </procedure>'>
      
            <!ENTITY ready_web ' <para>Most of the steps in the configuration procedure involve working in the web interface.</para>
    <formalpara><title>To access the web interface the first time</title>
    <para>If you&apos;re accessing the web interface for the first time, or any time after if
    you haven&apos;t enabled user authentication, enter the IP address of the node in a browser. 
    If you created a hostname through the install script, you can also use the hostname to access the node.</para>
    </formalpara>
    <procedure><title>To access the web interface with user authentication</title>
      <step>
        <para>Enter the IP address or hostname of the node in a web browser.</para>
      </step>
      <step>
        <para>At the login screen, enter your credentials for this node. If you haven&apos;t created additional
          users yet, use the REST API administrator credentials that you created when you enabled
          authentication.</para>
      </step>
    </procedure>
    <important><para>You cannot log in using the <emphasis>elemental</emphasis> user credentials!</para></important>'>
    
      <!ENTITY clean-install-ks-OS7
       '&upg_dg_important_ks;
        <procedure><title>To kickstart the system</title>
            <step><para>Insert the USB thumb drive into the hardware unit.</para></step>
            <step> <para>Restart the system using the following command.</para>
                <programlisting>[elemental@hostname ~]$ <userinput>sudo reboot</userinput></programlisting></step>
            <step>
                <para>Use the arrow keys to select each option and complete the field, using the instructions in the following table as a guide.</para>
                <table><title/>
                    <tgroup cols="2">
                        <colspec colname="option" colnum="1"/>
                        <colspec colname="instructions" colnum="2"/>
                        <thead>
                            <row>
                                <entry>Menu Option</entry>
                                <entry>Instructions</entry>
                            </row>
                        </thead>
                        <tbody>
                            <row>
                                <entry><computeroutput>Set Hostname</computeroutput></entry>
                                <entry><para>Change the hostname to a useful name such as <userinput>&product;-01</userinput> or <userinput>&product;-chicago-01</userinput>.</para>
                                    <para>Do not use localhost as the hostname!</para>
                                    <para>Do not use periods or underscores in the hostname.</para></entry>
                            </row>
                            <row>
                                <entry><computeroutput>Disk layout: Auto-detect</computeroutput></entry>
                                <entry>Leave this set at Auto-detect.</entry>
                            </row>
                            <row>
                                <entry><computeroutput>Set Key</computeroutput></entry>
                                <entry>Arrow down to skip this option.</entry>
                            </row>
                            &ks_upg_option;
                            <row>
                                <entry><computeroutput>Install and configure base operating system</computeroutput></entry>
                                <entry>Press Enter to begin the OS installation.</entry>
                            </row>
                        </tbody>
                    </tgroup>
                </table>
                <para>The operating system is installed.</para></step>
       <step>
         <para>For the changes to take effect, reboot the system by pressing
           <guilabel>Enter</guilabel> at the prompt <computeroutput>Press return to
             quit</computeroutput>.</para>
       </step>
       &ks_check;
     </procedure>'>
     
      <!ENTITY install_license_files
   '  <para>Now that you have a <filename>.tgz</filename> compressed license file for each instance of the software you are
   running, you must point the software to it.</para>
            <para>From your workstation, perform the following steps for each newly installed &AWSE; system.</para>    
<procedure> 
<step> <para>Navigate to the directory where you saved the <filename>.tgz</filename> file and unpack it.</para></step>
    <step><para>Bring up the web interface for the &servicenamelong; system. From the main menu, select <guilabel>Settings</guilabel> 
    &gt; <guilabel>Licenses</guilabel>. The Licenses screen appears.</para>   
    </step>
                <step><para>Select <guilabel>&license_button;</guilabel> and navigate to the directory where you placed the license 
                files. Select the file name with the hostname portion matching the hostname of this node.</para>
                    &lic_screm_img;
                </step>       
                    <step><para>&update_license; The license file is installed. &cond_licenses;</para>
                    </step>
                        <step><para>Repeat steps 1 through 4 on each &node_guest;.</para>
                            &cond_msg;
                            </step></procedure>'>
                            
     <!ENTITY generate-key-file-vm
            '    <para>The operating system that you installed on your virtual machine (VM) has a utility you can use to 
            generate an activation key file. </para>
            <procedure> <title>To generate an activation key file</title>
                <step>&access;
                    <para>You are logged in at the home directory (/elemental).</para>
                </step>
                <step><para>Enter this command.</para>
                    <programlisting language="none">[elemental@hostname ~] <command>./keygen</command></programlisting>
                </step>
                <step><para>At the prompt, enter the activation code for the first VM, including the dashes. 
                The following file is created in the home directory: <filename>activation_&lt;hostname 
                of the system&gt;<filename>.key</filename> </filename></para>
                </step>
                <step><para>Copy the activation key file from the VM to your workstation using SCP.</para> 
                    <para>Use the <emphasis>elemental</emphasis> user credentials.</para></step>
                <step><para>Repeat these steps for each VM. </para>
                    <itemizedlist>
                        <listitem><para>Make sure to repeat step 1 for each &cond_act; activation key file that you
                        want to generate: each key file must contain the hostname of the individual VM.</para></listitem>
                        <listitem><para>Make sure to use a different activation code on each 
                        VM.</para></listitem></itemizedlist></step></procedure>'>
                        
 <!ENTITY  access-vm
  '<para>From the VMware vSphere client, choose <guilabel>Open Console</guilabel> and access the desired VM, 
  using the <emphasis>elemental</emphasis> user credentials.  </para>'>
  
   <!ENTITY access-kvm
'<para>Access the VM that&apos;s for the &servicenamelong; software that you&apos;re running. 
Use the <emphasis>elemental</emphasis> user credentials.  </para>'>

<!ENTITY ignore_msg
   '<para>Ignore the message about the license pools. 
   You are setting a node-locked deployment, so you don&apos;t need a license pool (<filename>pool.lic</filename>).</para>'>   
   
   
<!ENTITY sa_upgrade_about
        ' <para>This guide is intended for engineers who upgrade the software running on the nodes of
    &servicenamelong;.&live_cluster;</para>
  <para>The full suite of upgrade information for &worker; is described in the table:</para>
     <table>
    <tgroup cols="3">
      <colspec colnum="1" colname="Deployment"/>
      <colspec colnum="2" colname="description"/>
      <colspec colnum="3" colname="guide"/>
      <thead>
        <row>
          <entry>Deployment</entry>
          <entry>Description</entry>
          <entry>Information</entry>
        </row>
      </thead>
      <tbody>
        &support_table;
      </tbody>
    </tgroup>
  </table>
  &prereq_knowledge;
  <formalpara>
    <title>Sending Commands</title>
    <para>Tips for sending commands:</para>
  </formalpara>
  <itemizedlist>
    <listitem>
      <para>Unless otherwise stated, enter all Linux shell commands from the home directory
        (/home/elemental). </para>
    </listitem>
    <listitem>
      <para>To ensure that the commands are executed regardless of your user permissions, use
        &quot;sudo&quot; to run the command as a superuser.</para>
    </listitem>
  </itemizedlist>'>
  
  <!ENTITY live_support
'<row>
          <entry><para>Stand-alone deployments</para></entry>
          <entry><para>&servicenamelong; nodes are not in a cluster controlled by &mgmt;.</para></entry>
          <entry>This guide.</entry>
        </row>
        <row>
          <entry>Single Conductor cluster, no worker redundancy</entry>
          <entry>&servicenamelong; nodes <emphasis>without</emphasis> backup worker nodes in a cluster controlled 
          by one &mgmt; node.</entry>
          <entry><para>&cl3_upg_current;</para></entry>
        </row>
        <row>
          <entry>Single Conductor cluster with worker redundancy</entry>
          <entry>&servicenamelong; nodes <emphasis>with</emphasis> one or more backup worker nodes in a 
          cluster controlled by one &mgmt; node.</entry>
          <entry><para>&cl3_upg_current;</para></entry>
        </row>
        <row>
          <entry>High-availability cluster, no worker redundancy</entry>
          <entry>&servicenamelong; nodes <emphasis>without</emphasis> backup worker nodes in a cluster 
          controlled by two &mgmt; nodes.</entry>
          <entry><para>&cl3_upg_current;</para></entry>
        </row>
        <row>
          <entry>High-availability cluster, with worker redundancy</entry>
          <entry>&servicenamelong; nodes <emphasis>with</emphasis> backup worker nodes, in a 
          cluster controlled by two &mgmt; nodes (a primary and a backup).</entry>
         <entry><para>&cl3_upg_current;</para></entry>
        </row>'>
        
  <!ENTITY worker_dngrade_intro
  '<formalpara><title>Downgrade rules</title>
     <para>The following rules apply when you&apos;re downgrading &servicenamelong; software.</para></formalpara>
   <itemizedlist>
    <listitem>
      <para>Your system must be in a working state prior to the downgrade. If it&apos;s in a
        degraded state (such as not creating &job_event;s or not responding through the web
        interface), the downgrade does not work.</para>
    </listitem>
    <listitem>
      <para>You can downgrade to a version that&apos;s a maximum of two major versions below your
        current version, such as from &version_short;.x to &delta_dg_version_short;.x. The number of
        patches between the two versions is irrelevant. We do recommend, however, that you always use the 
        latest patch release of the major version that you&apos;re downgrading to, for example, &dg_version_short;.6. 
        To downgrade over a larger span, you must
        perform several downgrades, such as from &version_short;.3 to &delta_dg_version_short;.4,
        then &dg_minus2_version_short;.3.</para>
    </listitem>
  </itemizedlist>
   <important><para>Plan to downgrade during a maintenance window. All activity on the nodes stops during downgrade.</para></important>'>
   
   <!ENTITY  dg_ret_lboat '<para>When you upgraded from software version &dg_minus1_version_short;.x, you created a lifeboat file. This lifeboat holds your product settings and licenses. Prepare the life boat so that
         when you install the downgraded operating system, your system can be restored. </para>
             <procedure>
         <title>To retrieve the lifeboat </title>
         <step>
           <para>From a Linux prompt, log in to the hardware unit with the
             <emphasis>elemental</emphasis> user credentials.</para>
         </step>
         <step>
           <para>Navigate to the directory where the settings and licenses are stored.</para>
           <programlisting language="none">[elemental@host ~]$ <userinput>cd /opt/upgrade-backups/system-backup.tar.gz</userinput></programlisting>
         </step>
         <step><para>Locate <filename>settings.xml</filename> and your license files (<filename><filename>eme.lic</filename></filename>
            and <filename>ui.lic</filename>) and save them to a location off the &AWSE;
            system.</para>
         </step>
       </procedure>'>
       
       <!ENTITY dg_save_db '<para>Locate the database backup for the version that you&apos;re downgrading to. Copy the backup to a
        location off of the system. Performing a downgrade removes your entire file
        structure.</para>
       <para>Every time that you downgrade, a backup of the database is automatically made and saved in the following location.</para>
       <programlisting language="none">/home/elemental/database_backups/elemental-db-backup_&product;_n.n.n.n_yyyy-mm-dd_hh-mm-ss.tar</programlisting>
       <example>
         <para><filename>elemental-db-backup_&product;_&dg_version_short;.8_2018-02-08_21-01-36.tar</filename></para></example>
       <para>When you perform a downgrade, you must specify a database to restore. You should
        restore the backup that corresponds to the version you are downgrading to. For example, when
        downgrading to &dg_version_short;.8, restore the &dg_version_short;.8 database.</para>'>    
       
     <!ENTITY  prep_lboat
' <para>The lifeboat contains your product settings and licenses. Prepare the lifeboat so that
        when you install the upgraded operating system, your system can be restored. </para>
      &lboat_avail; <!-- lboat_avail_other or lboat_avail_cl3 -->
      <procedure>
        <title>To prepare the lifeboat </title>
        <step>
          <para>From a Linux prompt, log in to the hardware unit with the
              <emphasis>elemental</emphasis> user credentials.</para>
        </step>
        <step>
          <para>Enter the following command.</para>
          <programlisting language="none">[elemental@host ~]$ <userinput>sudo /opt/elemental_se/web/script/backup.sh</userinput></programlisting>
          <para>If you have authentication enabled, include your username and API key that&apos;s found
            in &servicenamelong; under <guilabel>Settings</guilabel> > <guilabel>User
              Profile</guilabel>.</para>
          <programlisting>[elemental@host ~]$ <userinput>sudo /opt/elemental_se/web/script/backup.sh <replaceable>&lt;username></replaceable> <replaceable>&lt;API_key></replaceable></userinput></programlisting>
          <example>
            <programlisting language="none" role="nocopy">[elemental@host ~]$ <userinput>sudo /opt/elemental_se/web/script/backup.sh</userinput><computeroutput>
Fetching settings.xml
Fetched settings.xml
Logging in to database
Dumping database
Saving license files
`/opt/elemental_se/<filename>eme.lic</filename>&apos; -> `/tmp/tmp.HvfHxCYiLE/licfiles/<filename>eme.lic</filename>&apos;
`/opt/elemental_se/ui.lic&apos; -> `/tmp/tmp.HvfHxCYiLE/licfiles/ui.lic
Saving backup to /opt/upgrade-backups/system-backup.tar.gz
Done!</computeroutput></programlisting></example>
        </step>
        <step><para>&servicenamelong; creates the lifeboat and stores it here: <code>/opt/upgrade-backups/system-backup.tar.gz</code>. 
        Copy the file off the system so you have it as a backup if the upgrade fails.</para>
        </step>
      </procedure>'>
      
  <!ENTITY save_bup '<para>When you install the upgraded operating system, your previous database backups are
        deleted. Locate and save the most recent backup off the system. You can use this backup
        later if you need to downgrade from &version_short;.</para>
      <procedure><title>To save the latest backup</title>
        <step>
          <para>From a Linux prompt, log in to the hardware unit with the <emphasis>elemental</emphasis> user credentials.</para>
        </step>
        <step>
          <para>Navigate to the directory where &servicenamelong; saves its backups.</para>
          <programlisting language="none">[elemental@host ~]$ <userinput>cd /home/elemental/database_backups</userinput></programlisting>
        </step>
        <step>
          <para>Locate the most recent backup and save it to a location off of the &AWSE;
            system. The backup name includes the date and time that the backup was taken, in a
            format similar to this:
              <filename>elemental-db-backup_live_2.14.8_2018-02-08_21-01-36.tar</filename></para>
        </step>
      </procedure>'>
      
   <!ENTITY  worker_type_step
' <para>The software installer that you use for the nodes varies depending on if you have GPU-accelerated software
            type, or CPU-only. To determine the type of software, look at any web interface screen
            of the worker node. The top shows icons as follows:</para>
    <itemizedlist>
        <listitem><para>CPU and GPU icons: the software is <emphasis>GPU-accelerated</emphasis>.</para></listitem>
        <listitem><para>CPU icon only: the software is <emphasis>CPU-only</emphasis>.</para></listitem>
    </itemizedlist>
        <mediaobject>
            <imageobject>
                <imagedata fileref="images/upg-type-shared-png.png" format="PNG"/>
            </imageobject>
        </mediaobject>'>
    
      <!ENTITY  worker_upgrade_intro
   ' <formalpara><title>Upgrade rules</title>
   <para>The following rules apply when you&apos;re upgrading &servicenamelong; software.</para></formalpara>
   <itemizedlist>
     <listitem><para>Your system must be in a working state prior to the upgrade. If it&apos;s in a degraded state (such as not accepting &job_event;s or not responding through the web interface), the upgrade fails.</para></listitem>
     <listitem><para>You can upgrade to a version that&apos;s a maximum of two major versions above your current version, such as from &delta_dg_version_short;.x to &version_short;.x. The number of patches between the two versions is irrelevant. To upgrade over a bigger span, you must perform several upgrades, such as from &dg_minus2_version_short;.2 to &delta_dg_version_short;.4, then to &version_short;.0.</para></listitem>
   </itemizedlist>
   &w_upg_intro_cluster;
   <important><para>Plan to upgrade during a maintenance window. All activity on the nodes stops during upgrade.</para></important>'>
    
         <!ENTITY about_cg_sa ' <para>This guide is intended for engineers who are performing the initial configuration on one or
    more &servicenamelong; nodes that are each working in a stand-alone mode. The nodes aren&apos;t being
    controlled by &mgmt;.  </para>
   <formalpara><title>Phase 2 of Installation</title>
     <para>This guide provides detailed information on phase 2 of installation, including how to:</para></formalpara>
   <itemizedlist>
     <listitem><para>Enable user authentication so that users must log in to use any product.</para></listitem>
     <listitem><para>Add users, if user authentication is enabled.</para></listitem>
     <listitem><para>Configure the time zone, DNS server, NTP servers, firewall, and alert notifications.</para></listitem>
     <listitem><para>Configure other Ethernet interfaces, as required.</para></listitem>
     <listitem><para>Configure routers and other input devices.</para></listitem></itemizedlist>
   &prereq_knowledge;'>
   
     
 <!ENTITY config_cond_eth_bond_intro
    ' <para>You can bond Ethernet devices to suit your networking requirements. For example, you might
      set up two Ethernet devices as an active/redundant pair. &bond_ex_cond;</para>
    <para role="topiclist">Bonding is a two-step process</para>
    <important><para>We recommend that you set up both eth0 and eth1 with static IP addresses. Eth0, eth1 and bond0 should also all on the same subnet.</para></important>
    <formalpara><title>Prerequisites</title>
      <para>Before you begin this process, make sure that you&apos;ve done the following:</para>
    </formalpara>
    <itemizedlist>
      <listitem>
        <para><link linkend="&add_eth_dev;">Added to &servicenamelong; the Ethernet devices</link> that you&apos;re bonding.</para>
      </listitem>
      &bond_cl3_prereq;
    </itemizedlist>'>
    
         <!ENTITY eth_bond_assign ' <para>Next, add the Ethernet devices to the bond that you created in &add_bond_step;.</para>
      <procedure><title>To add devices to the bond</title>
        <step>
          <para>On the <guilabel>Network Devices</guilabel> page of the &servicenamelong; web
            interface, locate the devices that you&apos;re adding to the bond.</para>
        </step>
        <step>
          <para>For each device, choose <guilabel>Edit Network Device</guilabel> (pencil icon) and
            make the following changes:</para>
          <itemizedlist>
            <listitem>
              <para>Make sure that <guilabel>Management</guilabel> isn&apos;t selected. Whether the
                devices are management interfaces or not is defined in the bond and not in the
                individual devices.</para>
            </listitem>
            <listitem>
              <para>In <guilabel>Master Device</guilabel>, select the bond that these devices are to
                be assigned to.</para>
            </listitem>
          </itemizedlist>
        </step>
        <step>
          <para>Choose <guilabel>Save</guilabel> and <guilabel>Apply Changes</guilabel>.</para>
        </step>
      </procedure>'>
      
        <!ENTITY sa_licenses '<para>Make sure that you have the appropriate licenses installed.</para>
 <procedure><title>To view installed licenses</title>
  <step> <para>On the &servicenamelong; web interface, go to the <guilabel>Settings</guilabel> page and
   choose <guilabel>Licenses</guilabel>.</para></step>
<step><para>Verify that information for a standalone license (<filename><filename>eme.lic</filename></filename>) is
    displayed.</para></step>
  <step><para>If you see a <errortext>No license file detected</errortext> message, follow the steps on the screen to upload a license. For additional assistance, see the &install_link;.</para></step>
 </procedure>'>
 
     <!ENTITY config_cond_users_candd
    ' <procedure><title>To change or delete a user</title>
        <step><para>Log in to the &servicenamelong; web interface using administrator credentials. </para></step>
        <step><para>Hover over <guilabel>Settings</guilabel> and choose <guilabel>Users</guilabel>.</para></step>
        <step><para>On the <guilabel>Users</guilabel> screen, perform the following actions as needed:</para>
          &change_users_icons;
        </step>
      </procedure>'>
      
       
      <!ENTITY change_users_icons '<itemizedlist>
            <listitem><para>To change the existing information for a user, choose <guilabel>Edit</guilabel> (pencil icon).</para></listitem>
            <listitem><para>To reset a forgotten password, edit the user and enter a new password.</para></listitem>
            <listitem><para>To force a user to reset their password the next time they log in, edit the user, and select <guilabel>Force Password Reset</guilabel>.</para></listitem>
            <listitem><para>To reactivate a deactivated user, edit the user by extending the length of time that user password is in effect. In <guilabel>Password Expires</guilabel>, change <guilabel>Expired</guilabel> to another option.</para></listitem>
            <listitem><para>To reset the API key for a user, 
            choose <guilabel>Reset API Key </guilabel>(key icon). A new key is created. The user can 
            view this key in the User Profile screen (<guilabel>Settings</guilabel> &gt; 
            <guilabel>User Profile</guilabel>).</para></listitem>
            <listitem><para>To deactivate a user, choose <guilabel>Deactivate</guilabel> (banned icon).</para></listitem>
            <listitem><para>To delete a user, choose <guilabel>Delete</guilabel> (X icon).</para></listitem></itemizedlist>'>
            
            
         <!ENTITY config_cond_users_create
   ' <para>The policies determine what actions a user can perform on the node. &servicenamelong; comes
      with administrator, manager, operator, and viewer default policies. You can&apos;t edit these default
      policies, but you can create new ones if the defaults don&apos;t meet your requirements.</para>
      <procedure><title>To create new user roles</title>
               <step><para>Log in to the &servicenamelong; web interface using administrator credentials. </para></step>
        <step><para>Hover over <guilabel>Settings</guilabel> and choose <guilabel>Roles</guilabel>.</para></step>
        <step><para>On the <guilabel>Roles</guilabel> screen, assign a name to the new user role, select the
          actions to include, and choose <guilabel>Create</guilabel>. The new role appears in the
          list.</para></step>
      </procedure>'> 
      
        <!ENTITY install_prep_act
       '<para>You should have received an email with your activation code. You need this number for the installation. </para>
                                <para>If you&apos;re installing &AWSE; software on more than one system, you received an activation code for each system. Decide and note which activation code you will use for each unit. 
                                The codes are not tied ahead of time to any specific system, but you cannot use the same code on more than one.</para>'>
    
   
   
        <!ENTITY clean-ready-dl
     ' <para>Download the installation files for each unique &AWSE; product that you&apos;re using.</para>
     <procedure><title>To download installation files</title>
                <step>
                    <para>Log in to &ESC_activations;. 
                    For detailed steps to download installation files, see &detailed_dl;.</para>
                </step>
                <step>
                    <para>Download your files.</para>
                    <para>You need the following files for each unique piece of &AWSE; software that you&apos;re installing. </para>
                    <itemizedlist>
                        &clean-ready-type;
                        <listitem> <para>An installation (<filename>.run</filename>) file for the &AWSE; software itself. 
                        For example, <filename>&installer_name;_&delta_ug_dg_version;.3.44452.run</filename>.</para>
                            &cpu_gpu_incl;
                        </listitem>
                    </itemizedlist>
                    <para> For example, if you&apos;re installing &mgmt; on two systems and &worker; on five systems, 
                    you need to download two <filename>.&ova_iso;</filename> files and two <filename>.run</filename> files. </para>
                </step>
            </procedure>'>
            
             <!ENTITY  qcow-file
            '<listitem><para>A Linux KVM guest image (<filename>.qcow2</filename>) file for creating a KVM instance. 
            For example, <filename>centos-20161028T12270-production-usb.qcow2</filename>. </para>
                            <para>You use this file to put a preconfigured installation of your operating system on your KVM.</para></listitem>'>
            
   
   
      <!ENTITY prompt_nameserver
               '<row>
                 <entry><computeroutput>Keep this configured nameserver&nameserver;?</computeroutput></entry>
                 <entry>Skip; you set up a nameserver in the next phase of configuration.</entry>
               </row>'>
               
                  <!ENTITY prompt_firewall
              ' <row>
                 <entry><computeroutput>The firewall for this system is currently disabled. Would you like to enable it?</computeroutput></entry>
                 <entry>Skip; you set up the firewall in the next phase of configuration.</entry>
               </row>'>
   
        <!ENTITY cpu_passthrough '<para>Enable CPU passthrough so that the KVM can tell what CPU you&apos;re using. The &AWSE; software installer could fail, or jobs remain in a pending state, if passthrough isn&apos;t enabled.</para>
        <procedure><title>To enable CPU passthrough</title>
        <step><para>At the Linux command line on the KVM host, use the following command to update the virtual machine configuration file. </para>
        <programlisting language="none">sudo virsh edit <replaceable>hostname</replaceable></programlisting>
            <para>where <code>hostname</code> is the name that you gave the virtual machine when you deployed it.</para>
        </step>
            <step>
                <para>
                Go to the line that defines <code>cpu mode</code> and change it to <userinput>host-passthrough</userinput>.
            </para>
            </step>
            <step>
                <para>Save and exit the editor.</para>
            </step>
            <step>
                <para>Enable passthrough on all KVMs that you deployed.</para>
            </step>
        </procedure>'>
        
        <!ENTITY s-cluster-config
                    ' <row>
                        <entry>&servicenamelong; being controlled by &ECFlong;. In other words, &servicename; is in a Conductor File cluster.</entry>
                        <entry>&cf_cfig_current;</entry>
                    </row>'>
                    
                         
 <!ENTITY  vm_reqs ' <para>This section describes the system requirements if you&apos;re using a virtual machine
        (VM).</para>
    <note>
        <para>Other than recommended and minimum hardware requirements, this information pertains
            only to VMs. It is not intended for kernel-based virtual machines (KVMs).</para>
    </note>
    <section id="vm-req-sw">
        <info>
            <title id="vm-req-sw.title">Required Software</title>
        </info>
        <para>This is the software that you need when using a VM.</para>
        <itemizedlist>
            <listitem>
                <para>VMware® vSphere® Hypervisor (ESXi) version &esx_version; or higher, installed
                    onto bare-metal hardware. </para>
            </listitem>
            <listitem>
                <para>VMware® vCenter Server™, required to install the &AWSE; OVA.</para>
            </listitem>
            <listitem>
                <para>VMware® vSphere® web client or desktop client.</para>
            </listitem>
        </itemizedlist>
        <important>
            <para>Do not use the free versions of these products; they do not include all the
                required features.</para>
        </important>
    </section>
    <section id="vm-req-guests">
        <info>
            <title id="vm-req-guests.title">Guests per Host Hardware</title>
        </info>
        <para>Each instance of &AWSE; products is considered a <emphasis role="italic"
                >guest</emphasis>.</para>
        <para>We recommend one &ELVlong; or &ESRVRlong; virtual machine per host
            hardware.</para>
        <para>For other &AWSE; products, make sure the combined loads for all products do not
            exceed recommended hardware requirements. See the following sections for details.</para>
    </section>
    <section id="vm-req-hw">
        <info>
            <title id="vm-req-hw.title">Recommended Hardware Requirements</title>
        </info>
        <para>The resources that you have available impact your performance. For encoders, the
            resources determine the speed for encoding assets and the number of streams, bitrate,
            and type of encoding that&apos;s possible. We recommend the following hardware
            specifications for optimum performance.</para>
        <variablelist>
            <varlistentry role="termdef">
                <term>&ECL3long;, &ECFlong;, &ESMXlong;</term>
                <listitem>
                    <itemizedlist>
                        <listitem>
                            <para>RAM: 16 GB</para>
                        </listitem>
                        <listitem>
                            <para>Disk space: 500 GB</para>
                        </listitem>
                        <listitem>
                            <para>CPU cores: 24</para>
                        </listitem>
                        <listitem>
                            <para>Processor speed: 2.3 GHz or more (Comparable to an Intel® Xeon
                                processor E5-2630)</para>
                        </listitem>
                    </itemizedlist>
                </listitem>
            </varlistentry>
            <varlistentry>
                <term>&ESRVRlong; and &ELVlong;</term>
                <listitem>
                    <itemizedlist>
                        <listitem>
                            <para>RAM: 16 GB</para>
                        </listitem>
                        <listitem>
                            <para>Disk space: 500 GB</para>
                        </listitem>
                        <listitem>
                            <para>CPU cores: 32</para>
                        </listitem>
                        <listitem>
                            <para>Processor speed: 2.0 GHz or more (Comparable to an Intel® Xeon
                                processor E5-2650)</para>
                        </listitem>
                    </itemizedlist>
                </listitem>
            </varlistentry>
            <varlistentry>
                <term>&EDLTlong;</term>
                <listitem>
                    <itemizedlist>
                        <listitem>
                            <para>RAM: 128 GB</para>
                        </listitem>
                        <listitem>
                            <para>Disk space: 500 GB</para>
                        </listitem>
                        <listitem>
                            <para>CPU cores: 24</para>
                        </listitem>
                        <listitem>
                            <para>Processor speed: 2.3 GHz or more (Comparable to an Intel® Xeon
                                processor E5-2630)</para>
                        </listitem>
                    </itemizedlist>
                </listitem>
            </varlistentry>
        </variablelist>
    </section>
    <section id="vm-req-min">
        <info>
            <title id="vm-req-min.title">Minimum Hardware Requirements</title>
        </info>
        <para>You can use host hardware with these minimum resources to run &AWSE; products
            for functional testing or for integrating with the &AWSE; software API. These
            resource levels are not for performance testing. </para>
        <variablelist>
            <varlistentry role="termdef">
                <term>All products except &EDLTlong;</term>
                <listitem>
                    <itemizedlist>
                        <listitem>
                            <para>RAM: 12 GB</para>
                        </listitem>
                        <listitem>
                            <para>Disk space: 400 GB</para>
                        </listitem>
                        <listitem>
                            <para>CPU cores: 8</para>
                        </listitem>
                    </itemizedlist>
                </listitem>
            </varlistentry>
            <varlistentry>
                <term>EDLTlong;</term>
                <listitem>
                    <itemizedlist>
                        <listitem>
                            <para>RAM: 16 GB</para>
                        </listitem>
                        <listitem>
                            <para>Disk space: 40 GB</para>
                        </listitem>
                        <listitem>
                            <para>CPU cores: 8</para>
                        </listitem>
                    </itemizedlist>
                </listitem>
            </varlistentry>
        </variablelist>
    </section>
    <section id="vm-req-qual">
        <info>
            <title id="vm-req-qual.title">Compatible Hardware Platform</title>
        </info>
        <para>Verify that the host hardware platform is compatible with the VMware platform. Look at
            the <emphasis role="italic">VMware Compatibility Guide</emphasis> at vmware.com. 
            &AWSE; has specifically tested and qualified the following hardware:</para>
        <itemizedlist>
            <listitem>
                <para>Cisco® UCS®</para>
            </listitem>
            <listitem>
                <para>HP® ProLiant® BL460c Gen8 Server Blade in an HP® C7000 enclosure</para>
            </listitem>
            <listitem>
                <para>Supermicro® SuperBlade™ and Supermicro® SYS-1027GR-TRF chassis</para>
            </listitem>
        </itemizedlist>
    </section>'>
    

	

  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  
  


