<programlisting>
        KeyPairGenerator keyPairGenerator = KeyPairGenerator.getInstance("RSA");
        keyPairGenerator.initialize(2048);

        // generate an asymmetric key pair for testing
        KeyPair keyPair = keyPairGenerator.generateKeyPair();

        String s3ObjectKey = "EncryptedContent2.txt";
        String s3ObjectContent = "This is the 2nd content to encrypt";

        AmazonS3EncryptionV2 s3Encryption = AmazonS3EncryptionClientV2Builder.standard()
                .withRegion(Regions.US_WEST_2)
                .withCryptoConfiguration(new CryptoConfigurationV2().withCryptoMode(CryptoMode.StrictAuthenticatedEncryption))
                .withEncryptionMaterialsProvider(new StaticEncryptionMaterialsProvider(new EncryptionMaterials(keyPair)))
                .build();

        s3Encryption.putObject(bucketName, s3ObjectKey, s3ObjectContent);
        System.out.println(s3Encryption.getObjectAsString(bucketName, s3ObjectKey));
        s3Encryption.shutdown();
</programlisting>