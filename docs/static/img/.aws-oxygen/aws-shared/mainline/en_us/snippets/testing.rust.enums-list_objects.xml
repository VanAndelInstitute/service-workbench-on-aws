<programlisting>
impl ListObjects {
    pub async fn list_objects(
        &self,
        bucket: &str,
        prefix: &str,
        continuation_token: Option<String>,
    ) -> Result<ListObjectsResult, Box<dyn Error + Send + Sync + 'static>> {
        match self {
            Self::Real(s3) => {
                Self::real_list_objects(s3.clone(), bucket, prefix, continuation_token).await
            }
            #[cfg(test)]
            Self::Test {
                expected_bucket,
                expected_prefix,
                pages,
            } => {
                assert_eq!(expected_bucket, bucket);
                assert_eq!(expected_prefix, prefix);
                Self::test_list_objects(pages, continuation_token)
            }
        }
    }
</programlisting>