exports.handler = async (event, context) => {
  try {
    if (event.userPoolId === "theSpecialUserPool") {
      // Identify why this function was invoked
      if (event.triggerSource === "CustomMessage_SignUp") {
        // Ensure that your message contains event.request.codeParameter. This is the placeholder for code that will be sent.
        event.response.smsMessage =
          "Welcome to the service. Your confirmation code is " +
          event.request.codeParameter;
        event.response.emailSubject = "Welcome to the service";
        event.response.emailMessage =
          "Thank you for signing up. " +
          event.request.codeParameter +
          " is your verification code";
      }
      // Create custom message for other events
      // Customize messages for other user pools
    }
  } catch (err) {
    // Return to Amazon Cognito
    return null;
  }
};
