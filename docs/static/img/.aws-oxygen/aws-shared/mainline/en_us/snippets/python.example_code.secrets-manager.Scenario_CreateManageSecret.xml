<programlisting>
def create_and_manage_secret_demo():
    """
    Shows how to use AWS Secrets Manager to create a secret, update its value and
    stage, and delete it.
    """
    secret = SecretsManagerSecret(boto3.client('secretsmanager'))

    print("Create a secret.")
    secret.create("doc-example-secretsmanager-secret", "Shh, don't tell.")
    print("Get secret value.")
    value = secret.get_value()
    print(f"Secret value: {value['SecretString']}")
    print("Get a random password.")
    password = secret.get_random_password(20)
    print(f"Got password: {password}")
    print("Put password as new secret value.")
    secret.put_value(password)
    print("Get current and previous values.")
    current = secret.get_value()
    previous = secret.get_value('AWSPREVIOUS')
    print(f"Current: {current['SecretString']}")
    print(f"Previous: {previous['SecretString']}")
    byteval = base64.b64encode("I'm a Base64 string!".encode('utf-8'))
    stage = 'CUSTOM_STAGE'
    print(f"Put byte value with a custom stage '{stage}'.")
    secret.put_value(byteval, [stage])
    time.sleep(1)
    print(f"Get secret value associated with stage '{stage}'.")
    got_val = secret.get_value(stage)
    print(f"Raw bytes value: {got_val['SecretBinary']}")
    print(f"Decoded value: {base64.b64decode(got_val['SecretBinary']).decode('utf-8')}")
    pprint(secret.describe())
    print("List 10 secrets for the account.")
    for sec in secret.list(10):
        print(f"Name: {sec['Name']}")
    print("Delete the secret.")
    secret.delete(True)
</programlisting>