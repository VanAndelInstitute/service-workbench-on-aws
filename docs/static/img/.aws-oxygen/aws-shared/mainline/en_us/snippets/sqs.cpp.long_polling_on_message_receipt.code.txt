    Aws::SQS::SQSClient sqs(client_cfg);

    Aws::SQS::Model::ReceiveMessageRequest request;
    request.SetQueueUrl(queue_url);
    request.SetMaxNumberOfMessages(1);
    request.SetWaitTimeSeconds(wait_time);

    auto outcome = sqs.ReceiveMessage(request);
    if (!outcome.IsSuccess())
    {
        std::cout << "Error receiving message from queue " << queue_url << ": "
            << outcome.GetError().GetMessage() << std::endl;
        return;
    }

    const auto& messages = outcome.GetResult().GetMessages();
    if (messages.size() == 0)
    {
        std::cout << "No messages received from queue " << queue_url <<
            std::endl;
        return;
    }

    const auto& message = messages[0];
    std::cout << "Received message:" << std::endl;
    std::cout << "  MessageId: " << message.GetMessageId() << std::endl;
    std::cout << "  ReceiptHandle: " << message.GetReceiptHandle() << std::endl;
    std::cout << "  Body: " << message.GetBody() << std::endl << std::endl;
