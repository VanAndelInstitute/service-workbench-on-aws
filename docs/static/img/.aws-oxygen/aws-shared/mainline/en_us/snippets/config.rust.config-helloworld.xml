<programlisting>
async fn get_history(client: &Client, id: &str, res: ResourceType) -> Result<(), Error> {
    let rsp = client
        .get_resource_config_history()
        .resource_id(id)
        .resource_type(res)
        .send()
        .await?;

    println!("configuration history for {}:", id);

    for item in rsp.configuration_items().unwrap_or_default() {
        println!("item: {:?}", item);
    }

    Ok(())
}
</programlisting>