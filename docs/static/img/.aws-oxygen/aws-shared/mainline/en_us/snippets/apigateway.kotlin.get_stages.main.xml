<programlisting>
suspend fun getAllStages(restApiIdVal: String?) {

    val stagesRequest = GetStagesRequest {
        restApiId = restApiIdVal
    }

    ApiGatewayClient { region = "us-east-1" }.use { apiGateway ->
        val response = apiGateway.getStages(stagesRequest)
        response.item?.forEach { stage ->
            println("Stage name is ${stage.stageName}")
        }
    }
}
</programlisting>