<programlisting>
suspend fun addNewStep(jobFlowIdVal: String?, jarVal: String?, myClass: String?) {

        val jarStepConfig = HadoopJarStepConfig {
            jar = jarVal
            mainClass = myClass
        }

        val stepConfig = StepConfig {
            hadoopJarStep = jarStepConfig
            name = "Run a bash script"
        }

        val request = AddJobFlowStepsRequest {
            jobFlowId = jobFlowIdVal
            steps = listOf(stepConfig)
        }

        EmrClient { region = "us-west-2" }.use { emrClient ->
            emrClient.addJobFlowSteps(request)
            println("You have successfully added a step!")
        }
}
</programlisting>