
// Import required AWS SDK clients and commands for Node.js.
import { InvokeCommand } from "@aws-sdk/client-lambda";
import { lambdaClient } from "../libs/lambdaClient";

const myFunction = async () => {
  const color = document.getElementById("c1").value
  const pattern = document.getElementById("p1").value
  const id = Math.floor(Math.random() * (10000 - 1 + 1)) + 1;
  const params = {
    FunctionName: 'forPathryusha_v3', /* required */
    Payload: JSON.stringify( { Item: {
        Id: id,
        Color: color,
        Pattern: pattern
      },
      TableName: "DesignRequests",
    })
  };
  try{
  const data = await lambdaClient.send(new InvokeCommand(params));
  alert("Success. Data added to table.");
    console.log('Success, payload', data);
} catch (err) {
    alert("Oops and error occurred.");
  console.log("Error", err);
  }
};

// Make the function available to the browser window.
window.myFunction = myFunction;

