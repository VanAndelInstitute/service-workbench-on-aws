<programlisting>
    suspend fun putAlarm(alarmNameVal: String, instanceIdVal: String) {

          val dimension = Dimension {
                name  = "InstanceId"
                value = instanceIdVal
            }

          val request = PutMetricAlarmRequest {
              alarmName = alarmNameVal
              comparisonOperator = ComparisonOperator.GreaterThanThreshold
              evaluationPeriods = 1
              metricName = "CPUUtilization"
              namespace = "AWS/EC2"
              period = 60
              statistic = Statistic.fromValue("Average")
              threshold = 70.0
              actionsEnabled = false
              alarmDescription = "An Alarm created by the Kotlin SDK when server CPU utilization exceeds 70%"
              unit = StandardUnit.fromValue("Seconds")
              dimensions = listOf(dimension)
          }

          CloudWatchClient { region = "us-east-1" }.use { cwClient ->
                cwClient.putMetricAlarm(request)
                println("Successfully created an alarm with name $alarmNameVal")
        }
   }
</programlisting>