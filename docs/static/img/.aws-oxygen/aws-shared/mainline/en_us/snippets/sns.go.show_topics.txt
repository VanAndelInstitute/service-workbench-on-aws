package main

import (
    "fmt"

    "github.com/aws/aws-sdk-go/aws/session"
    "github.com/aws/aws-sdk-go/service/sns"
    "github.com/aws/aws-sdk-go/service/sns/snsiface"
)

// ShowTopics retrieves information about the Amazon SNS topics
// Inputs:
//     svc is an Amazon SNS service client
// Output:
//     If success, information about the Amazon SNS topics and nil
//     Otherwise, nil and an error from the call to ListTopics
func ShowTopics(svc snsiface.SNSAPI) (*sns.ListTopicsOutput, error) {
    results, err := svc.ListTopics(nil)

    return results, err
}

func main() {
    sess := session.Must(session.NewSessionWithOptions(session.Options{
        SharedConfigState: session.SharedConfigEnable,
    }))

    svc := sns.New(sess)

    results, err := ShowTopics(svc)
    if err != nil {
        fmt.Println("Got an error retrieving information about the SNS topics:")
        fmt.Println(err)
        return
    }

    for _, t := range results.Topics {
        fmt.Println(*t.TopicArn)
    }
}
