<programlisting>
suspend fun listPoolIdentities(identityPoolId: String?) {

    val request =ListIdentitiesRequest{
        this.identityPoolId = identityPoolId
        maxResults = 15
    }

    CognitoIdentityClient { region = "us-east-1" }.use { cognitoIdentityClient ->
            val response = cognitoIdentityClient.listIdentities(request)
            response.identities?.forEach { identity ->
                println("The identity Id value is ${identity.identityId}")
            }
    }
}
</programlisting>